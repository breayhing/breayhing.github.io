<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="CSç¬”è®° , ä»£ç ">
    <meta name="description" content="ç›®å‰åœ¨æ›´è¿›çš„ä¸€ä¸ªå°ç½‘ç«™">
    <meta name="author" content="breayhing / SIRI">
    
    <title>
        
            æ•°æ®ç»“æ„ä¸ç®—æ³• PART 1 |
        
        Breayhingçš„åšå®¢
    </title>
    
<link rel="stylesheet" href="../../../../css/style.css">

    <link rel="shortcut icon" href="../../../../images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/fontawesome.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/regular.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/solid.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/font/css/brands.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN","path":"search.json"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066cc","logo":"/images/logo.svg","favicon":"/images/logo.svg","avatar":"/images/head.png","font_size":"18px","font_family":"STKaiti","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"/images/bg.svg","description":"Ubiquitous assimilation || åšä¸€æ¡å’¸é±¼ï¼Œä½†æ˜¯æ²¡äº‹æ‰‘è…¾ä¸¤ä¸‹","font_color":null,"hitokoto":false},"scroll":{"progress_bar":true,"percent":false}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"mac"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":false},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"}
    KEEP.language_code_block = {"copy":"å¤åˆ¶ä»£ç ","copied":"å·²å¤åˆ¶","fold":"æŠ˜å ä»£ç å—","folded":"å·²æŠ˜å "}
    KEEP.language_copy_copyright = {"copy":"å¤åˆ¶ç‰ˆæƒä¿¡æ¯","copied":"å·²å¤åˆ¶","title":"åŸæ–‡æ ‡é¢˜","author":"åŸæ–‡ä½œè€…","link":"åŸæ–‡é“¾æ¥"}
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="../../../../images/logo.svg">
                </a>
            
            <a class="logo-title" href="/">
               Breayhingçš„åšå®¢
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="../../../../index.html"
                            >
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../../../../archives"
                            >
                                åˆ†ç±»
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../../../../tags"
                            >
                                æ ‡ç­¾
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="../../../../categories"
                            >
                                åˆ†ç±»
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               target="_blank" rel="noopener" href="http://sirohune.site/"
                            >
                                å‹æƒ…é“¾æ¥
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../../../../index.html">é¦–é¡µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../../../../archives">åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../../../../tags">æ ‡ç­¾</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="../../../../categories">åˆ†ç±»</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       target="_blank" rel="noopener" href="http://sirohune.site/">å‹æƒ…é“¾æ¥</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">æ•°æ®ç»“æ„ä¸ç®—æ³• PART 1</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="../../../../images/head.png">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">breayhing / SIRI</span>
                            
                                <span class="author-label">Lv2</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2023-03-10 17:02:00</span>
        <span class="mobile">2023-03-10 17:02</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-03-10 17:05:19</span>
    </span>
    
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="../../../../tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>31.8k å­—</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>140 åˆ†é’Ÿ</span>
        </span>
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <h1 id="æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1"><a href="#æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1" class="headerlink" title="æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1"></a>æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1</h1><hr>
<h3 id="ç®—æ³•æ—¶é—´åˆ†æï¼š"><a href="#ç®—æ³•æ—¶é—´åˆ†æï¼š" class="headerlink" title="ç®—æ³•æ—¶é—´åˆ†æï¼š"></a>ç®—æ³•æ—¶é—´åˆ†æï¼š</h3><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF" >https://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF<i class="fas fa-external-link-alt"></i></a></p>
<h3 id="ç†è§£idx"><a href="#ç†è§£idx" class="headerlink" title="ç†è§£idx:"></a>ç†è§£idx:</h3><p>æˆ‘æ„Ÿè§‰idxç›¸å½“äºä¸€ä¸ªåˆ†é…å™¨ï¼Œå¦‚æœéœ€è¦åŠ å…¥æ–°çš„ç»“ç‚¹å°±ç”¨++idxåˆ†é…å‡ºä¸€ä¸ªä¸‹æ ‡ï¼ˆæœ€ä¸»è¦å¯ä»¥åšåˆ°ä¸é‡å¤åœ°é‡æ–°åˆ†é…ä¸‹æ ‡ï¼‰</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/5673/" >AcWing 835. å¦‚ä½•ç†è§£å•(åŒ)é“¾è¡¨ï¼ŒTrieæ ‘å’Œå †ä¸­çš„idxï¼Ÿ - AcWing<i class="fas fa-external-link-alt"></i></a></p>
<hr>
<p><strong>æ‰€æœ‰æ•°æ®ç»“æ„ å­¦ä¹ çš„åŒæ—¶ä¸€å®šè¦ç†è§£è¯¥ç§æ•°æ®ç»“æ„çš„ä½¿ç”¨èŒƒå›´ï¼Œå¹²ä»€ä¹ˆçš„&#x2F;</strong></p>
<h6 id="ç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰"><a href="#ç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰" class="headerlink" title="ç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰"></a>ç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰</h6><p>åŸºç¡€ç¨‹åºè®¾è®¡-&gt;æ•°æ®ç»“æ„ä¸ç®—æ³•-&gt;æ“ä½œç³»ç»Ÿ-&gt;ç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼ˆç¼–è¯‘åŸç†ï¼‰</p>
<h6 id="æé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼š"><a href="#æé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼š" class="headerlink" title="æé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼š"></a>æé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼š</h6><p>å¥½çš„ç®—æ³•ï¼šæ­£ç¡®æ€§ï¼Œå¯è¯»æ€§ï¼Œå¥å£®æ€§ï¼Œæ•ˆç‡</p>
<h6 id="ç¨‹åºè¿è¡Œæ—¶é—´å› ç´ "><a href="#ç¨‹åºè¿è¡Œæ—¶é—´å› ç´ " class="headerlink" title="ç¨‹åºè¿è¡Œæ—¶é—´å› ç´ "></a>ç¨‹åºè¿è¡Œæ—¶é—´å› ç´ </h6><ol>
<li>æ‰€ç”¨ç®—æ³•</li>
<li>é—®é¢˜çš„è§„æ¨¡</li>
<li>ä¹¦å†™ç¨‹åºæ‰€ç”¨è¯­è¨€-&gt;çº§åˆ«è¶Šé«˜æ•ˆç‡è¶Šä½</li>
<li>ç¼–è¯‘ç¨‹åºæ‰€ç”¨çš„æœºå™¨(macæ¯”windowså¿«)</li>
<li>æœºå™¨æ‰§è¡Œæ‰€ç”¨çš„é€Ÿåº¦ï¼ˆæ¶‰åŠåˆ°ç¡¬ä»¶ï¼Œæ¯”å¦‚è€ç”µè„‘å’Œæ–°ç”µè„‘ï¼‰</li>
</ol>
<p>ç®—æ³•æ—¶é—´åº¦é‡ï¼š<strong>ä¸ºäº†å®ŒæˆæŸä¸€é—®é¢˜æœºå™¨æ‰€åšçš„æ“ä½œæ‰§è¡Œæ¬¡æ•°</strong></p>
<p>ç»Ÿè®¡æ–¹æ³•ï¼šå†™ä»£ç å‰&#x2F;å†™ä»£ç å</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i, sum=<span class="number">0</span>, n=<span class="number">100</span>;<span class="comment">//æ‰§è¡Œ1æ¬¡</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">//æ‰§è¡Œn+1æ¬¡</span></span><br><span class="line">&#123;</span><br><span class="line">sum+=i;<span class="comment">//æ‰§è¡Œnæ¬¡</span></span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum;<span class="comment">//æ‰§è¡Œnæ¬¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h6 id="å†¯è¯ºä¾æ›¼æ¶æ„"><a href="#å†¯è¯ºä¾æ›¼æ¶æ„" class="headerlink" title="å†¯è¯ºä¾æ›¼æ¶æ„"></a>å†¯è¯ºä¾æ›¼æ¶æ„</h6><p>I&#x2F;O&lt;-&gt;ä¸­å¤®å­˜å‚¨å•å…ƒ&lt;-&gt;</p>
<p>CPU:è§£ææŒ‡ä»¤</p>
<p>å†…å­˜ï¼šå­˜å‚¨æŒ‡ä»¤å’Œæ•°æ®</p>
<p>ç¨‹åºå¤§å°ç›¸å¯¹ä¸é‡è¦ï¼Œæ‰§è¡Œæ“ä½œä¸æ•°æ®é‡è¦</p>
<h6 id="ç©ºé—´å¤æ‚åº¦ï¼š"><a href="#ç©ºé—´å¤æ‚åº¦ï¼š" class="headerlink" title="ç©ºé—´å¤æ‚åº¦ï¼š"></a>ç©ºé—´å¤æ‚åº¦ï¼š</h6><p>é€šè¿‡è®¡ç®—ç®—æ³•æ‰€åˆ›å»ºçš„ç©ºé—´å¤§å°ã€‚</p>
<h3 id="åŸºç¡€ç®—æ³•"><a href="#åŸºç¡€ç®—æ³•" class="headerlink" title="åŸºç¡€ç®—æ³•"></a>åŸºç¡€ç®—æ³•</h3><h5 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ±‚nçš„ç¬¬kä½æ•°å­—: n &gt;&gt; k &amp; <span class="number">1</span></span><br><span class="line">è¿”å›nçš„æœ€åä¸€ä½<span class="number">1</span>ï¼š<span class="built_in">lowbit</span>(n) = n &amp; -n</span><br></pre></td></tr></table></figure>



<h4 id="å¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜"><a href="#å¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜" class="headerlink" title="å¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜"></a>å¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜</h4><p>å¿«æ’æœ¬è´¨å°±æ˜¯ä½¿ç”¨<strong>åˆ†æ²»æ€æƒ³ï¼Œé€’å½’å®ç°</strong></p>
<p><strong>æœ€å¿«onlognï¼Œæœ€æ…¢oN2</strong></p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>ç¡®å®šåˆ†ç•Œç‚¹</li>
<li>è°ƒæ•´èŒƒå›´<strong>ï¼ˆæœ€éº»çƒ¦éƒ¨åˆ†ï¼‰</strong></li>
<li>å¯¹å·¦å³ä¸¤è¾¹è¿›è¡Œæ“ä½œ</li>
</ol>
<h6 id="æ¨¡æ¿ï¼š"><a href="#æ¨¡æ¿ï¼š" class="headerlink" title="æ¨¡æ¿ï¼š"></a>æ¨¡æ¿ï¼š</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">quick_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span><span class="comment">//è®°ä½å¼€å¤´ä¸å˜ï¼Œæœ€åå³è¾¹æ˜¯j+1</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;<span class="comment">//å·¦å³æŒ‡é’ˆç›¸é‡æ—¶å€™è¿”å›</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i = l - <span class="number">1</span>, j = r + <span class="number">1</span>, x = q[l + r &gt;&gt; <span class="number">1</span>];<span class="comment">//è¿™é‡Œxæš‚æ—¶è®¾å®šä¸ºå·¦å³è¾¹ç•Œçš„ä¸­é—´å€¼ï¼ŒåŸå› åœ¨äºåè¾¹æ˜¯do whileæŒ‡ä»¤ï¼Œå› æ­¤æå‰ijå„å¾€å¤–ç§»åŠ¨ä¸€ä¸ªä½ç½®</span></span><br><span class="line">     <span class="comment">//ç¬¬ä¸€æ­¥ï¼šåˆ†æˆå­é—®é¢˜</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; j)</span><br><span class="line">    &#123;<span class="comment">//æ³¨æ„è¿™ä¸ªé¡ºåºä¸€å®šä¸èƒ½é”™</span></span><br><span class="line">        <span class="keyword">do</span> i ++ ; <span class="keyword">while</span> (q[i] &lt; x);</span><br><span class="line">        <span class="keyword">do</span> j -- ; <span class="keyword">while</span> (q[j] &gt; x);</span><br><span class="line">        <span class="comment">//å®¹æ˜“é”™çš„ç‚¹ï¼šè¦åœ¨è¿™é‡Œæ‰“ä¸€ä¸ªif</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) <span class="built_in">swap</span>(q[i], q[j]);<span class="comment">//swapå‡½æ•°è‡ªå·±è¡¥å……ï¼Œè¿™é‡Œijå¯ä»¥ç›¸ç­‰</span></span><br><span class="line">    &#125;<span class="comment">//è¿™æ ·æ“ä½œè¿‡ä¸€è½®ä¹‹åxå·¦è¾¹éƒ½æ˜¯æ¯”å®ƒå°çš„ï¼Œå³è¾¹éƒ½æ˜¯æ¯”å®ƒå¤§çš„</span></span><br><span class="line">    <span class="comment">//ç¬¬äºŒæ­¥ï¼šé€’å½’å¤„ç†å­é—®é¢˜</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">quick_sort</span>(q, l, j), <span class="built_in">quick_sort</span>(q, j + <span class="number">1</span>, r);<span class="comment">//è¿™é‡Œä¸€å®šä¸€å®šæ˜¯jï¼Œiä¼šå‡ºé—®é¢˜</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è¿™é‡Œä¸¤æ­¥çš„é¡ºåºä¸€å®šä¸€å®šè®°ä½ï¼Œä¸ç„¶å¯èƒ½æ— é™åˆ’åˆ†</span></span><br><span class="line">    <span class="comment">//æ¥ç€å¯¹å®ƒå·¦å³ä¸¤ç«¯è¿›è¡ŒåŒæ ·ä¸€æ¬¡çš„æ“ä½œï¼Œé€’å½’åˆ°æœ€åå°±æ˜¯å…¨éƒ¨å®Œæˆæ’åº</span></span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰æ­¥ï¼šå­é—®é¢˜åˆå¹¶.å¿«æ’è¿™ä¸€æ­¥ä¸éœ€è¦æ“ä½œï¼Œä½†å½’å¹¶æ’åºçš„æ ¸å¿ƒåœ¨è¿™ä¸€æ­¥éª¤</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¯´æ˜ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¦‚åŸæœ¬ä¸ºa[<span class="number">10</span>]ï¼Œæ•°æ®ä¸ºa[<span class="number">0</span>]-a[<span class="number">9</span>];</span><br><span class="line">åˆ™æ’åºä¸º</span><br><span class="line">    <span class="built_in">quick_sort</span>(a, <span class="number">0</span>, <span class="number">9</span>);<span class="comment">//æ³¨æ„è¿™é‡Œå¾ˆå®¹æ˜“é”™è¯¯å¼„èŒƒå›´</span></span><br></pre></td></tr></table></figure>



<h6 id="å¿«æ’åˆç†æ€§åˆ†æï¼šAcWing-785-å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ-AcWing"><a href="#å¿«æ’åˆç†æ€§åˆ†æï¼šAcWing-785-å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ-AcWing" class="headerlink" title="å¿«æ’åˆç†æ€§åˆ†æï¼šAcWing 785. å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ - AcWing"></a>å¿«æ’åˆç†æ€§åˆ†æï¼š<a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/16777/" >AcWing 785. å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ - AcWing<i class="fas fa-external-link-alt"></i></a></h6><p>ç”±äºä½¿ç”¨do-whileå¾ªç¯,æ‰€ä»¥iå’Œjä¸€å®šä¼š!!!è‡ªå¢!!!,ä½¿å¾—å¾ªç¯ä¼šç»§ç»­ä¸‹å»,ä½†æ˜¯å¦‚æœé‡‡ç”¨whileå¾ªç¯(iå’Œjçš„åˆå§‹åŒ–åšå‡ºå¯¹åº”çš„å˜æ›´),<strong>iå’Œjåœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¸è‡ªå¢çš„è¯,å¾ªç¯å°±ä¼šå¡æ­»</strong></p>
<p>è¾¹ç•Œé—®é¢˜ï¼š</p>
<p>å¿«æ’å±äºåˆ†æ²»ç®—æ³•ï¼Œ<strong>æœ€æ€•çš„å°±æ˜¯ nåˆ†æˆ0å’Œnï¼Œæˆ– nåˆ†æˆnå’Œ0,è¿™ä¼šé€ æˆæ— é™åˆ’åˆ†</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(q[i] &lt; x) i++;</span><br><span class="line">  <span class="keyword">while</span>(q[j] &gt; x) j--;</span><br><span class="line">å½“q[i]å’Œq[j]éƒ½ä¸º x æ—¶, i å’Œ j éƒ½ä¸ä¼šæ›´æ–°,å¯¼è‡´ <span class="keyword">while</span> é™·å…¥æ­»å¾ªç¯</span><br></pre></td></tr></table></figure>

<h5 id="å•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰"><a href="#å•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰" class="headerlink" title="å•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰"></a>å•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">partition</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> low, <span class="type">int</span> high)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">	<span class="type">int</span> pivot = arr[low]; <span class="comment">// å¾…æ¯”è¾ƒçš„åŸºå‡†å…ƒç´ </span></span><br><span class="line">	<span class="type">int</span> i = low;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = low + <span class="number">1</span>; j &lt;= high; j++) </span><br><span class="line">    &#123; <span class="keyword">if</span> (arr[j] &lt; pivot) </span><br><span class="line">    	&#123; i++; 		<span class="comment">//æœ€ç»ˆiåœç•™çš„ä½ç½®æ˜¯è¦äº¤æ¢çš„ä½ç½®</span></span><br><span class="line">     		<span class="built_in">swap</span>(arr[i], arr[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="built_in">swap</span>(arr[i], arr[low]); </span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> low, <span class="type">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (low &lt; high) &#123; </span><br><span class="line">    	<span class="type">int</span> pi = <span class="built_in">partition</span>(arr, low, high);</span><br><span class="line">		<span class="built_in">quickSort</span>(arr, low, pi - <span class="number">1</span>); </span><br><span class="line">		<span class="built_in">quickSort</span>(arr, pi + <span class="number">1</span>, high);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™ç§æ’åºå®é™…ä¸Šå°†æ•°ç»„åˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ¯”pivotå°ï¼Œpivotï¼Œæ¯”pivotå¤§ï¼Œå› æ­¤åˆ†æ²»éƒ¨åˆ†åªéœ€è¦å¯¹äºpi-1å’Œpi+1è¿›è¡Œæ“ä½œå°±è¡Œ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œé€»è¾‘ï¼šæŒ‡é’ˆjè¿è¡Œå¿«ï¼Œiè¿è¡Œæ…¢ï¼Œjåªä¼šåœ¨é‡åˆ°æ¯”åŸºå‡†å…ƒç´ å¤§çš„æ—¶å€™è·³è¿‡</p>
<p>æ­£å¸¸æµç¨‹ï¼šå¦‚æœjæŒ‡å‘çš„éƒ½æ˜¯æ¯”pivotå°çš„å…ƒç´ ï¼ŒjiåŒæ­¥è¿åŠ¨ï¼ŒæŒ‡é’ˆä¸€ç›´å‘å³èµ°</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-02%20124330.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-02 124330"
                ></p>
<p>å¦‚æœjå³è¾¹æ˜¯æ¯”pivotå¤§çš„å…ƒç´ ï¼Œå³iå³è¾¹ç´§æŒ¨ç€å°±æ˜¯æ›´å¤§çš„å…ƒç´ ï¼Œjè·³è¿‡ï¼Œiåœç•™ä¸ç§»åŠ¨</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-02%20124554.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-02 124554"
                ></p>
<p>ç„¶åè®©i++ï¼Œåˆšå¥½å°±åˆ°äº†å¤§çš„å…ƒç´ ï¼Œè¿›è¡Œäº¤æ¢</p>
<p>ç»“æŸæƒ…å†µï¼šjéå†å®Œæˆï¼Œiæœ€åå³ç§»ä¸€æ¬¡ï¼Œåœæ­¢</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-02%20124702.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-02 124702"
                ></p>
<h6 id=""><a href="#" class="headerlink" title=""></a></h6><p>æ¥ç€å°±æ˜¯åˆ†æ²»äº†</p>
<h4 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertionSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i, key, j; </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; i++) </span><br><span class="line">    &#123;</span><br><span class="line">		key = arr[i];</span><br><span class="line">        j = i - <span class="number">1</span>;</span><br><span class="line"><span class="comment">// å¦‚æœå¤§äºkeyéœ€è¦å‘åç§»åŠ¨ä¸€ä½</span></span><br><span class="line">		<span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; key)</span><br><span class="line">        &#123;<span class="comment">//ç›´æ¥æ’å…¥æ˜¯ä¸€ç›´æ’å…¥åˆ°å¯¹æ¯”ç»“æŸ</span></span><br><span class="line">			arr[j + <span class="number">1</span>] = arr[j]; j = j - <span class="number">1</span>;</span><br><span class="line">		&#125; </span><br><span class="line">        arr[j + <span class="number">1</span>] = key;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="plus-æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥-äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿"><a href="#plus-æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥-äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿" class="headerlink" title="plus:æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥+äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿"></a>plus:æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥+äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿</h4><h6 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">binarySearch</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> item, <span class="type">int</span> low, <span class="type">int</span> high)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">if</span> (high &lt;= low) &#123; <span class="keyword">return</span> (item &gt; a[low]) ? (low + <span class="number">1</span>) : low;&#125; </span><br><span class="line"> 	<span class="type">int</span> mid = (low + high) / <span class="number">2</span>; </span><br><span class="line">    <span class="keyword">if</span> (item == a[mid]) &#123; <span class="keyword">return</span> mid + <span class="number">1</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span> (item &gt; a[mid]) &#123; <span class="keyword">return</span> <span class="built_in">binarySearch</span>(a, item, mid + <span class="number">1</span>, high);&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">binarySearch</span>(a, item, low, mid - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;<span class="comment">//äºŒåˆ†æœç´¢éƒ¨åˆ†</span></span><br><span class="line"><span class="comment">//æ³¨æ„äºŒåˆ†ä¸€å®šæœ‰è§£ï¼Œä½†æ˜¯ç­”æ¡ˆä¸ä¸€å®šæœ‰è§£</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertionSort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, loc, j, k, selected; </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; n; ++i) </span><br><span class="line">    &#123;</span><br><span class="line">         j = i - <span class="number">1</span>;</span><br><span class="line">		selected = a[i];</span><br><span class="line">		<span class="comment">// å¯»æ‰¾åº”è¯¥æ’å…¥çš„ä½ç½®</span></span><br><span class="line">		loc = <span class="built_in">binarySearch</span>(a, selected, <span class="number">0</span>, j);</span><br><span class="line">        <span class="comment">//è¿™é‡Œç›´æ¥æ‰¾åˆ°ï¼Œåé¢çš„whileå¾ªç¯å°±ä¸éœ€è¦å†è€ƒè™‘å¯¹æ¯”ï¼Œç›´æ¥ä¸Šå°±è¡Œ</span></span><br><span class="line">		<span class="comment">// ç§»åŠ¨åé¢æ‰€æœ‰çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt;= loc) </span><br><span class="line">        &#123; </span><br><span class="line">            a[j + <span class="number">1</span>] = a[j];</span><br><span class="line">         	j--;</span><br><span class="line">        &#125;</span><br><span class="line">        a[j + <span class="number">1</span>] = selected;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h4><h6 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">shellSort</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="comment">// ä»å¤§gapå¼€å§‹ï¼Œé€æ­¥å‡å°‘gap</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> gap = n / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap /= <span class="number">2</span>) </span><br><span class="line">	&#123; </span><br><span class="line">    	<span class="keyword">for</span> (<span class="type">int</span> i = gap; i &lt; n; i += <span class="number">1</span>) </span><br><span class="line">		&#123;</span><br><span class="line"><span class="comment">// i æ˜¯ç›´æ¥æ’å…¥æ’åºç®—æ³•ä¸­å¾…æ’å…¥çš„å…ƒç´ int temp = arr[i];</span></span><br><span class="line"><span class="comment">// å‘å‰æŸ¥æ‰¾ï¼Œå¹¶åŒæ—¶ç§»ä½</span></span><br><span class="line">			<span class="type">int</span> j;</span><br><span class="line">			<span class="keyword">for</span> (j = i; j &gt;= gap &amp;&amp; arr[j - gap] &gt; temp; j -= gap) </span><br><span class="line">			&#123; </span><br><span class="line">    			arr[j] = arr[j - gap];</span><br><span class="line">			&#125;</span><br><span class="line"><span class="comment">// æŠŠiå…ƒç´ æ”¾å…¥åˆé€‚çš„ä½ç½®</span></span><br><span class="line">			arr[j] = temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒ"><a href="#å½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒ" class="headerlink" title="å½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒ"></a>å½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒ</h4><p><strong>ä¸å¤ªå¥½çš„ç‚¹ï¼šå½’å¹¶æ’å®¹æ˜“çˆ†å†…å­˜</strong></p>
<h6 id="æ¨¡æ¿ï¼š-1"><a href="#æ¨¡æ¿ï¼š-1" class="headerlink" title="æ¨¡æ¿ï¼š"></a>æ¨¡æ¿ï¼š</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge_sort</span><span class="params">(<span class="type">int</span> q[], <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;<span class="comment">//æœ€åæ‹†åˆ†æˆå•å…ƒç´ çš„æ—¶å€™å°±è¿”å›</span></span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;<span class="comment">//äºŒåˆ†</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">merge_sort</span>(q, l, mid);</span><br><span class="line">    <span class="built_in">merge_sort</span>(q, mid + <span class="number">1</span>, r);</span><br><span class="line"><span class="comment">//ä»¥ä¸Šå…ˆç–¯ç‹‚äºŒåˆ†ï¼Œå°†æ•´ä¸ªæ•°ç»„å…¨éƒ¨æ‹†åˆ†æˆæœ€å°éƒ¨åˆ†ï¼Œç„¶åä¸‹é¢éƒ¨åˆ†å¼€å§‹é€’å½’åˆå¹¶</span></span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>, i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">   	åˆ†åˆ«ä½œç”¨ï¼š</span><br><span class="line">        kç”¨äºtmpæ•°ç»„ï¼Œå› æ­¤ä»<span class="number">0</span>å¼€å§‹</span><br><span class="line">        iä»æœ€å·¦ï¼Œjä»ä¸­é—´å¼€å§‹å‘å³</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)<span class="comment">//è¿™é‡Œç”±äºé€’å½’ï¼Œæ¯ä¸€ä¸ªå°æ•°ç»„éƒ½å½’å¹¶å¥½äº†ï¼Œå½’å¹¶æœ€åçš„å¤§æ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];<span class="comment">//å½’å¹¶ï¼Œç»“æœåˆå¹¶åˆ°tmpï¼Œ</span></span><br><span class="line">        <span class="keyword">else</span> tmp[k ++ ] = q[j ++ ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k ++ ] = q[i ++ ];<span class="comment">//èµ‹å€¼å‰©ä¸‹çš„i</span></span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k ++ ] = q[j ++ ];<span class="comment">//èµ‹å€¼å‰©ä¸‹çš„j</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = l, k = <span class="number">0</span>; i &lt;= r; i ++, k ++ ) q[i] = tmp[k];</span><br><span class="line">    kä»£è¡¨ä¸´æ—¶æ•°ç»„çš„å€¼</span><br><span class="line">      </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//èµ‹å€¼å›å»ï¼Œä½¿å¾—qåŒæ­¥å˜å¾—æœ‰åºï¼Œç”¨äºå°æ•°ç»„é€’å½’å›å»ç”¨</span></span><br><span class="line">    <span class="comment">//æ†‹æƒ³ç€çœå»è¿™ä¸€æ­¥ï¼Œä¸ç„¶å°æ•°ç»„æ— æ³•è¢«å¼„æˆæœ‰åºï¼Œæœ€åå½’å¹¶ä¼šå¤±è´¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸¾ä¾‹ï¼š</p>
<p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>tmpä¸€å¼€å§‹å°±å£°æ˜ï¼ˆä¸ç„¶çˆ†å†…å­˜ï¼‰</li>
<li>mergeé‡Œé¢j&#x3D;mid+1ï¼ˆè¿™é‡Œå¼„é”™ä¹‹åæ’åºéƒ½ä¸å¯¹åŠ²ï¼‰</li>
<li>mergeå‡½æ•°ä¸­iä¸jçš„èŒƒå›´è®°å¾—åˆ«è¢«é”™</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> array[N];</span><br><span class="line"><span class="type">int</span> tmp[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>,i=l,j=mid+<span class="number">1</span>;<span class="comment">//jçš„èµ‹å€¼å®¹æ˜“ä¸å¯¹åŠ²</span></span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(array[i]&lt;=array[j])tmp[k++]=array[i++];<span class="comment">//è¿™é‡Œåˆ¤æ–­çš„æ—¶å€™è¿˜æ˜¯åŠ â€˜=â€™</span></span><br><span class="line">        <span class="keyword">else</span> tmp[k++]=array[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)&#123;tmp[k++]=array[i++];&#125;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=r)&#123;tmp[k++]=array[j++];&#125;</span><br><span class="line">    <span class="keyword">for</span>(i=l,j=<span class="number">0</span>;i&lt;=r;i++,j++)<span class="comment">//è¿™é‡Œçš„èŒƒå›´ä¹Ÿå®¹æ˜“ææ··</span></span><br><span class="line">    &#123;<span class="comment">//æ³¨æ„å½’å¹¶æ’åºä¸­æ‰€æœ‰éƒ½æ˜¯&lt;=</span></span><br><span class="line">        array[i]=tmp[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergesort</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r)<span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i=l<span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> j=r+<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> mid=(i+j)/<span class="number">2</span>;<span class="comment">//è¿™é‡Œæœ‰ä¸€ä¸ªç‰¹åˆ«ç‹ çš„äºŒåˆ†</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">mergesort</span>(l,mid);</span><br><span class="line">    <span class="built_in">mergesort</span>(mid+<span class="number">1</span>,r);<span class="comment">//è¿™é‡Œéœ€è¦+1</span></span><br><span class="line">    <span class="built_in">merge</span>(l,r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;array[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">mergesort</span>(<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;array[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹"><a href="#æœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹" class="headerlink" title="æœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹"></a>æœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹</h6><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/790/" >788. é€†åºå¯¹çš„æ•°é‡ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="timsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰"><a href="#timsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰" class="headerlink" title="timsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰"></a>timsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰</h4><p>è¿™ä¸ªå°±çœ‹è‹è€å¸ˆçš„pptè¯¾ä»¶</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_35678407/article/details/82974174?ops_request_misc=%7B%22request_id%22:%22166806089616782425695863%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166806089616782425695863&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-82974174-null-null.142%5Ev63%5Econtrol,201%5Ev3%5Econtrol_1,213%5Ev2%5Et3_control1&utm_term=timsort&spm=1018.2226.3001.4187" >(105æ¡æ¶ˆæ¯) Timsortâ€”â€”è‡ªé€‚åº”ã€ç¨³å®šã€é«˜æ•ˆæ’åºç®—æ³•_ç åˆ°sucessçš„åšå®¢-CSDNåšå®¢_timsort<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="æ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åº"><a href="#æ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åº" class="headerlink" title="æ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åº"></a>æ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åº</h6><p>æ•°ç»„æœ¬è´¨éƒ½æ˜¯éƒ¨åˆ†æœ‰åºçš„,</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-09%20152030.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-09 152030"
                ></p>
<p>å› æ­¤ç¬¬ä¸€æ­¥ï¼šå°†æ‰€æœ‰éƒ¨åˆ†é™åºæ•°ç»„å…¨éƒ¨ç¿»è½¬ï¼ˆè¿™é‡Œç›´æ¥é€†åºå°±å¥½ï¼‰</p>
<p>è¿™ä¸€æ­¥æ¨¡æ¿ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=l,j=r;i&lt;=j;i++,j--)<span class="built_in">swap</span>(q[i],q[j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">array_reverse</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(N==<span class="number">1</span>&amp;&amp;N==<span class="number">0</span>)<span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">1</span>,l=<span class="number">0</span>,tmp=<span class="number">0</span>,stage_judge;</span><br><span class="line">    <span class="keyword">if</span>(q[<span class="number">0</span>]&lt;=q[<span class="number">1</span>])stage_judge=<span class="number">1</span>;<span class="comment">//å‡åºæ ‡è®°</span></span><br><span class="line">    <span class="keyword">else</span>  stage_judge=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i]&gt;q[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(stage_judge==<span class="number">1</span>)stage_judge=<span class="number">0</span>;</span><br><span class="line">            ++i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(q[i]&lt;=q[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(stage_judge==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(tmp!=l<span class="number">-1</span>)++l;</span><br><span class="line">                <span class="built_in">reverse</span>(q,l,i);</span><br><span class="line">                tmp=i;</span><br><span class="line">                stage_judge=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ++i;<span class="comment">//å‰è¿›ä¸€ä¸ª</span></span><br><span class="line">            l=i;<span class="comment">//l=å‰è¿›ä¸€ä½ä¹‹åçš„i</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="æ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶"><a href="#æ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶" class="headerlink" title="æ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶"></a>æ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶</h6><p>å…ˆå°†æ‰€æœ‰å·²çŸ¥çš„å‡åºæ’åˆ—çš„å‹å…¥æ€»æ ˆï¼Œ</p>
<p>è¿™ä¸€æ­¥ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">stack_check</span><span class="params">(<span class="type">int</span> N)</span><span class="comment">//å¯¹æ ˆè¿›è¡Œæ£€éªŒ,å¹¶ä¸”è¦çš„æ˜¯å½’å¹¶ä¸¤ä¸ªè¿ç»­çŸ­åŒºé—´</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> stack_pos1,stack_pos2,stack_pos3;</span><br><span class="line">    <span class="type">int</span> stack_length1,stack_length2,stack_length3;<span class="comment">//1æœ€é¡¶ï¼Œ3æœ€åº•å±‚</span></span><br><span class="line">    <span class="built_in">pop</span>(stack_pos1,stack_length1);</span><br><span class="line">    <span class="built_in">pop</span>(stack_pos2,stack_length2);</span><br><span class="line">    <span class="built_in">pop</span>(stack_pos3,stack_length3);</span><br><span class="line">    <span class="keyword">if</span>(stack_length2&lt;stack_length1||stack_length3&lt;stack_length1+stack_length2)<span class="comment">//x&gt;yæˆ–è€…x+y&gt;z</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(stack_length1&gt;stack_length3)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">push</span>(stack_pos1,stack_length1);</span><br><span class="line">                <span class="built_in">merge</span>(stack_pos3, stack_length3,stack_pos2, stack_length2 );<span class="comment">//å¯¹yzè¿›è¡Œå½’å¹¶</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                    <span class="built_in">push</span>(stack_pos3,stack_length3);</span><br><span class="line">                    <span class="built_in">merge</span>(stack_pos2,stack_length2,stack_pos1,stack_length1);<span class="comment">//å¯¹xyè¿›è¡Œå½’å¹¶</span></span><br><span class="line">        &#125;</span><br><span class="line">           <span class="comment">// cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;&quot;idx: &quot;&lt;&lt;stack_idx&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">if</span>(stack_idx&gt;=<span class="number">2</span>)<span class="built_in">stack_check</span>(N);<span class="comment">//é€’å½’æ£€æµ‹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//æŒ‰ç…§åŸå…ˆé¡ºåºå†å‹è¿›å»</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">push</span>(stack_pos3,stack_length3);</span><br><span class="line">        <span class="built_in">push</span>(stack_pos2,stack_length2);</span><br><span class="line">        <span class="built_in">push</span>(stack_pos1,stack_length1);</span><br><span class="line">        cout&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="æ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—"><a href="#æ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—" class="headerlink" title="æ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—"></a>æ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—</h6><p>â¢ å½’å¹¶è¿‡ç¨‹ä½æ•ˆçš„ä¸»è¦åŸå› æ˜¯å¤§åˆ†åŒºå’Œå°åˆ†åŒºåˆå¹¶</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(stack_idx&gt;=<span class="number">1</span>)<span class="comment">//è¾“å‡ºé˜¶æ®µ,è¿™é‡Œå°±æ˜¯æ£€æµ‹æ˜¯å¦æ­£ç¡®å½’å¹¶å…¥æ ˆï¼Œæ²¡æœ‰å½’å¹¶</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="built_in">pop</span>(stack_pos1,stack_length1);</span><br><span class="line">        <span class="built_in">pop</span>(stack_pos2,stack_length2);</span><br><span class="line">       <span class="keyword">if</span>(stack_pos1&gt;stack_pos2)<span class="built_in">merge</span>(stack_pos2,stack_length2,stack_pos1,stack_length1);</span><br><span class="line">       <span class="keyword">else</span> <span class="built_in">merge</span>(stack_pos1,stack_length1,stack_pos2,stack_length2);</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">       &#123;</span><br><span class="line">           cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>



<h6 id="timsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰"><a href="#timsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰" class="headerlink" title="timsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰"></a>timsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M =<span class="number">10010</span>;</span><br><span class="line"><span class="type">int</span> q[M];</span><br><span class="line"><span class="type">int</span> tmp[M];</span><br><span class="line"><span class="type">int</span> pos_stack[M];<span class="comment">//å­˜å‚¨ä¸‹æ ‡</span></span><br><span class="line"><span class="type">int</span> length_stack[M];<span class="comment">//å­˜å‚¨é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> stack_idx=<span class="number">-1</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> pos,<span class="type">int</span> length )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pos_stack[++stack_idx]=pos;</span><br><span class="line">    length_stack[stack_idx]=length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">(<span class="type">int</span> &amp;tmp_pos,<span class="type">int</span> &amp;tmp_length)</span><span class="comment">//ç»™ä¸¤ä¸ªæ•°èµ‹å€¼ç„¶åå¼„å‡ºå»</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tmp_pos= pos_stack[stack_idx];</span><br><span class="line">    tmp_length= length_stack[stack_idx];</span><br><span class="line">    --stack_idx;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=l,j=r;i&lt;=j;i++,j--)<span class="built_in">swap</span>(q[i],q[j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">array_reverse</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(N==<span class="number">1</span>&amp;&amp;N==<span class="number">0</span>)<span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">1</span>,l=<span class="number">0</span>,tmp=<span class="number">0</span>,tem_l=<span class="number">0</span>,stage_judge;</span><br><span class="line">    <span class="keyword">if</span>(q[<span class="number">0</span>]&lt;=q[<span class="number">1</span>])stage_judge=<span class="number">1</span>;<span class="comment">//å‡åºæ ‡è®°</span></span><br><span class="line">    <span class="keyword">else</span>  stage_judge=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i]&gt;q[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(stage_judge==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                stage_judge=<span class="number">0</span>;<span class="comment">//ä¹‹å‰æ˜¯å‡åºè¿™é‡Œçªç„¶é™åºäº†</span></span><br><span class="line">            &#125;</span><br><span class="line">            ++i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(q[i]&lt;=q[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(stage_judge==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(tmp!=l<span class="number">-1</span>)++l;</span><br><span class="line">                <span class="built_in">reverse</span>(q,l,i);</span><br><span class="line">                tmp=i;</span><br><span class="line">                stage_judge=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ++i;<span class="comment">//å‰è¿›ä¸€ä¸ª</span></span><br><span class="line">            l=i;<span class="comment">//l=å‰è¿›ä¸€ä½ä¹‹åçš„i</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> pos1,<span class="type">int</span> length1,<span class="type">int</span> pos2,<span class="type">int</span> length2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> r=pos2+length2<span class="number">-1</span>;<span class="comment">//æœ€å³ç«¯</span></span><br><span class="line">    <span class="type">int</span> l=pos1;<span class="comment">//æœ€å·¦ç«¯</span></span><br><span class="line">    <span class="comment">//å½’å¹¶éƒ¨åˆ†</span></span><br><span class="line">    <span class="type">int</span> mid=pos1+length1<span class="number">-1</span>;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>, i = l, j = pos2 ;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)<span class="comment">//è¿™é‡Œç”±äºé€’å½’ï¼Œæ¯ä¸€ä¸ªå°æ•°ç»„éƒ½å½’å¹¶å¥½äº†ï¼Œå½’å¹¶æœ€åçš„å¤§æ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];<span class="comment">//å½’å¹¶ï¼Œç»“æœåˆå¹¶åˆ°tmpï¼Œ</span></span><br><span class="line">        <span class="keyword">else</span> tmp[k ++ ] = q[j ++ ];</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k ++ ] = q[i ++ ];<span class="comment">//èµ‹å€¼å‰©ä¸‹çš„i</span></span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k ++ ] = q[j ++ ];<span class="comment">//èµ‹å€¼å‰©ä¸‹çš„j</span></span><br><span class="line">    <span class="keyword">for</span> (i = l, j = <span class="number">0</span>; i &lt;= r; i ++, j ++ ) q[i] = tmp[j];</span><br><span class="line">    <span class="built_in">push</span>(pos1,length1+length2);<span class="comment">//åˆå¹¶å®Œä¹‹åè¿›è¡Œå‹æ ˆ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">stack_check</span><span class="params">(<span class="type">int</span> N)</span><span class="comment">//å¯¹æ ˆè¿›è¡Œæ£€éªŒ,å¹¶ä¸”è¦çš„æ˜¯å½’å¹¶ä¸¤ä¸ªè¿ç»­çŸ­åŒºé—´</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> stack_pos1,stack_pos2,stack_pos3;</span><br><span class="line">    <span class="type">int</span> stack_length1,stack_length2,stack_length3;<span class="comment">//1æœ€é¡¶ï¼Œ3æœ€åº•å±‚</span></span><br><span class="line">    <span class="built_in">pop</span>(stack_pos1,stack_length1);</span><br><span class="line">    <span class="built_in">pop</span>(stack_pos2,stack_length2);</span><br><span class="line">    <span class="built_in">pop</span>(stack_pos3,stack_length3);</span><br><span class="line">    <span class="keyword">if</span>(stack_length2&lt;stack_length1||stack_length3&lt;stack_length1+stack_length2)<span class="comment">//x&gt;yæˆ–è€…x+y&gt;z</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(stack_length1&gt;stack_length3)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="built_in">push</span>(stack_pos1,stack_length1);</span><br><span class="line">                <span class="built_in">merge</span>(stack_pos3, stack_length3,stack_pos2, stack_length2 );<span class="comment">//å¯¹yzè¿›è¡Œå½’å¹¶</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                    <span class="built_in">push</span>(stack_pos3,stack_length3);</span><br><span class="line">                    <span class="built_in">merge</span>(stack_pos2,stack_length2,stack_pos1,stack_length1);<span class="comment">//å¯¹xyè¿›è¡Œå½’å¹¶</span></span><br><span class="line">        &#125;</span><br><span class="line">           <span class="comment">// cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;&quot;idx: &quot;&lt;&lt;stack_idx&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">if</span>(stack_idx&gt;=<span class="number">2</span>)<span class="built_in">stack_check</span>(N);<span class="comment">//é€’å½’æ£€æµ‹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//æŒ‰ç…§åŸå…ˆé¡ºåºå†å‹è¿›å»</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">push</span>(stack_pos3,stack_length3);</span><br><span class="line">        <span class="built_in">push</span>(stack_pos2,stack_length2);</span><br><span class="line">        <span class="built_in">push</span>(stack_pos1,stack_length1);</span><br><span class="line">        cout&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½’å¹¶æå®š</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> N;</span><br><span class="line">    cin &gt;&gt; N;</span><br><span class="line">    <span class="type">int</span> stack_pos1,stack_pos2,stack_pos3;</span><br><span class="line">    <span class="type">int</span> stack_length1,stack_length2,stack_length3;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        cin &gt;&gt; q[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array_reverse</span>(q, N - <span class="number">1</span>);<span class="comment">//æ²¡é—®é¢˜äº†,åˆ«åŠ¨ï¼</span></span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(q[i]&gt;q[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">push</span>(l,i-l+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            l=i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="comment">//è¿™é‡Œå®Œæˆå°†æ ˆå‹å…¥</span></span><br><span class="line">    <span class="comment">//æ¥ä¸‹æ¥å°±æ˜¯æ‰¾æœ€å¤§çš„ï¼Œç„¶ååˆå¹¶</span></span><br><span class="line">    cout&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">if</span>(stack_idx&gt;=<span class="number">2</span>)<span class="built_in">stack_check</span>(N);</span><br><span class="line">    <span class="keyword">while</span>(stack_idx&gt;=<span class="number">1</span>)<span class="comment">//è¾“å‡ºé˜¶æ®µ,è¿™é‡Œå°±æ˜¯æ£€æµ‹æ˜¯å¦æ­£ç¡®å½’å¹¶å…¥æ ˆï¼Œæ²¡æœ‰å½’å¹¶</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="built_in">pop</span>(stack_pos1,stack_length1);</span><br><span class="line">        <span class="built_in">pop</span>(stack_pos2,stack_length2);</span><br><span class="line">       <span class="keyword">if</span>(stack_pos1&gt;stack_pos2)<span class="built_in">merge</span>(stack_pos2,stack_length2,stack_pos1,stack_length1);</span><br><span class="line">       <span class="keyword">else</span> <span class="built_in">merge</span>(stack_pos1,stack_length1,stack_pos2,stack_length2);</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">       &#123;</span><br><span class="line">           cout&lt;&lt;q[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//23         2 4 7 8 23 19 16 14 13 12 10 20 18 17 15 11 0 5 6 1 3 21 22</span></span><br></pre></td></tr></table></figure>



<h4 id="äºŒåˆ†"><a href="#äºŒåˆ†" class="headerlink" title="äºŒåˆ†"></a>äºŒåˆ†</h4><p>äºŒåˆ†æœ¬è´¨å¹¶ä¸æ˜¯å•è°ƒæ€§ï¼šæœ‰å•è°ƒæ€§ä¸€å®šå¯ä»¥äºŒåˆ†è§£ï¼Œå¯ä»¥äºŒåˆ†è§£çš„é¢˜ç›®ä¸ä¸€å®šæ»¡è¶³å•è°ƒæ€§ï¼Œæœ¬è´¨ï¼šå¯ä»¥å°†åŸæœ¬åŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†</p>
<p><em><strong>äºŒåˆ†ä¸€å®šæœ‰è§£ï¼ˆè‡ªå·±çš„äºŒåˆ†çš„æ€§è´¨æ˜¯ä¸€å®šæœ‰è¾¹ç•Œçš„ï¼‰ï¼Œä½†é¢˜ç›®å¯èƒ½ä¼šæ— è§£</strong></em>ï¼ˆçœ‹ä¾‹é¢˜ï¼‰</p>
<p><strong>æ•´æ•°äºŒåˆ†æ¯”å®æ•°äºŒåˆ†è›‹ç–¼å¾ˆå¤š</strong>ï¼šæ•´æ•°æœ‰è¾¹ç•Œé—®é¢˜å¾ˆæ¶å¿ƒ</p>
<p><strong>å½“å‡ºç°æœ€å°å€¼æœ€å¤§ï¼ˆæœ€å³ç«¯ï¼‰æˆ–æœ€å¤§å€¼æœ€å°ï¼ˆæœ€å·¦ç«¯ï¼‰æˆ–æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹äºŒåˆ†äº†</strong></p>
<h6 id="æ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰"><a href="#æ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰" class="headerlink" title="æ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰"></a>æ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰</h6><p>åº”ç”¨ï¼š</p>
<p>1ï¼šæ‰¾å¤§äºç­‰äºæ•°çš„ç¬¬ä¸€ä¸ªä½ç½® ï¼ˆæ»¡è¶³æŸä¸ªæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ•°ï¼‰<br>2ï¼šæ‰¾å°äºç­‰äºæ•°çš„æœ€åä¸€ä¸ªæ•° ï¼ˆæ»¡è¶³æŸä¸ªæ¡ä»¶çš„æœ€åä¸€ä¸ªæ•°ï¼‰<br>3.æŸ¥æ‰¾æœ€å¤§å€¼ ï¼ˆæ»¡è¶³è¯¥è¾¹ç•Œçš„å³è¾¹ç•Œï¼‰ã€<br>4.æŸ¥æ‰¾æœ€å°å€¼ (æ»¡è¶³è¯¥è¾¹ç•Œçš„å·¦è¾¹ç•Œ)</p>
<p>ç„¶åæ¯æ¬¡ä½¿ç”¨è¿™è¿™ä¸¤ä¸ªæ¨¡æ¿çš„æ—¶å€™ï¼Œ<strong>å…ˆæƒ³æ˜¯æ‰¾è¿™ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹è¿˜æ˜¯è¿˜æ˜¯å³ç«¯ç‚¹ï¼Œç„¶åé€‰æ‹©ç”¨æ¨¡æ¿ï¼Œæœ€åå†å»å†™åˆ¤æ–­æ¡ä»¶</strong>ã€‚</p>
<p>è®¾ç½®çº¢ç»¿äº¤ç•Œç‚¹æ˜¯è¦æ±‚çš„ä½ç½®</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-09%20210347.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-09 210347"
                ></p>
<ol>
<li>æœ€åæ”¶æ•›åˆ°<strong>æ•´ä¸ªæ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æœ€å³è¾¹çš„ç‚¹</strong></li>
<li>æœ€åæ”¶æ•›åˆ°æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„<strong>æœ€å·¦è¾¹çš„ç‚¹</strong></li>
</ol>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-09%20211416.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-09 211416"
                ></p>
<p>è®°å¿†æ–¹å¼ï¼š<em><strong>æœ‰å‡å¿…æœ‰åŠ </strong></em></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="comment">/* ... */</span>&#125; <span class="comment">// æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¸å¿ƒåœ¨äºåˆ¤æ–­l=midè¿˜æ˜¯r=mid</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¶æ•›åˆ°æœ€å³è¾¹çš„ç‚¹</span></span><br><span class="line"><span class="comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼šæƒ…å†µ1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SR</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;<span class="comment">//éœ€è¦è¡¥ä¸Šl+r+1ï¼Œé˜²æ­¢æ­»å¾ªç¯</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;<span class="comment">//æœ‰å‡ï¼Œå‰é¢å¿…å®šæœ‰åŠ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¶æ•›åˆ°æœ€å·¦è¾¹çš„ç‚¹</span></span><br><span class="line"><span class="comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼šæƒ…å†µ2</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SL</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;<span class="comment">//è¿™é‡Œæ˜¯ï¼ˆl+2ï¼‰/2</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) r = mid;    <span class="comment">// check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨ï¼š</span></span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">return</span> l;<span class="comment">//è¿™é‡Œæœ€ç»ˆlå’Œrç›¸ç­‰ï¼Œä¸éœ€è¦è€ƒè™‘åˆ«çš„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="æ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š789-æ•°çš„èŒƒå›´-AcWingé¢˜åº“"><a href="#æ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š789-æ•°çš„èŒƒå›´-AcWingé¢˜åº“" class="headerlink" title="æ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š789. æ•°çš„èŒƒå›´ - AcWingé¢˜åº“"></a>æ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š<a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/791/" >789. æ•°çš„èŒƒå›´ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></h6><p>ç»å…¸ï¼šäºŒåˆ†æ¨¡æ¿æœ€ç»ˆä¸€å®šæœ‰è§£ï¼Œé¢˜ç›®ä¸ä¸€å®šæœ‰è§£ï¼ˆæœ€åçš„åˆ¤æ–­ä¸æ»¡è¶³é¢˜ç›®ï¼‰</p>
<p>è§£ç­”ï¼š</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ-WNt-WNtw==,size_20,color_FFFFFF,t_70,g_se,x_16"
                      alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
                ></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SL</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> x)</span> </span>&#123;<span class="comment">//æœ€ç»ˆç»“æœæ˜¯æœ€å·¦è¾¹æ»¡è¶³æ¡ä»¶çš„</span></span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (q[mid] &gt;= x) r = mid;</span><br><span class="line">    <span class="keyword">else</span> l = mid + <span class="number">1</span> ;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SR</span> <span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;<span class="comment">//æœ‰+</span></span><br><span class="line">    <span class="keyword">if</span>(q[mid] &lt;= x) l = mid;</span><br><span class="line">    <span class="keyword">else</span> r = mid - <span class="number">1</span>;<span class="comment">//æœ‰-</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; <span class="type">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span> (<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i) <span class="built_in">scanf</span> (<span class="string">&quot;%d&quot;</span>,&amp;q[i]);</span><br><span class="line">    <span class="keyword">while</span> ( m-- ) &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span> (<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        <span class="type">int</span> l = <span class="built_in">SL</span>(<span class="number">0</span>, n - <span class="number">1</span>, x);<span class="comment">//æŸ¥æ‰¾å·¦è¾¹ç•Œ å¹¶è¿”å›ä¸‹æ ‡l</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œæœ€åçš„Lå°±æ˜¯æœ€å·¦è¾¹ç¬¬ä¸€ä¸ªæ»¡è¶³&gt;xçš„æ•°å­—ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³äºŒåˆ†å¾—åˆ°çš„ç»“æœï¼ˆæœ€æ¥è¿‘xä¸”&gt;=xï¼‰</span></span><br><span class="line">        <span class="comment">//å› æ­¤ä¸‹ä¸€æ­¥å¯ä»¥ç›´æ¥åˆ¤æ–­æ˜¯å¦ç›´æ¥=x</span></span><br><span class="line">        <span class="keyword">if</span> (q[l]!=x) cout &lt;&lt;<span class="string">&quot;-1 -1&quot;</span>&lt;&lt;endl;<span class="comment">//å¦‚æœæ‰¾ä¸åˆ°  è¿”å›-1 -1</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; l &lt;&lt; <span class="string">&#x27; &#x27;</span>; <span class="comment">//å¦‚æœæ‰¾åˆ°äº†  è¾“å‡ºå·¦ä¸‹æ ‡</span></span><br><span class="line">            cout &lt;&lt; <span class="built_in">SR</span>(<span class="number">0</span>, n - <span class="number">1</span>, x) &lt;&lt; endl; <span class="comment">//è¾“å‡ºå³ä¸‹æ ‡</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ä¾‹é¢˜ï¼šï¼ˆçˆ·è·Ÿä½ æ‹¼äº†ï¼‰</p>
<h6 id="519-è·³çŸ³å¤´-AcWingé¢˜åº“"><a href="#519-è·³çŸ³å¤´-AcWingé¢˜åº“" class="headerlink" title="519. è·³çŸ³å¤´ - AcWingé¢˜åº“"></a><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/521/" >519. è·³çŸ³å¤´ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></h6><p>ç…§æ ·ä½¿ç”¨äºŒåˆ†ï¼ˆè™½ç„¶æ˜¯æ¯”è¾ƒå¤æ‚çš„äºŒåˆ†ï¼‰ï¼š<strong>äºŒåˆ†,è´ªå¿ƒ</strong>O(NlogL)</p>
<p><em><strong>æ€è·¯ï¼š</strong></em>ä½¿å¾—é€‰æ‰‹ä»¬åœ¨æ¯”èµ›è¿‡ç¨‹ä¸­çš„æœ€çŸ­è·³è·ƒè·ç¦»å°½å¯èƒ½é•¿ï¼Œ<strong>å½“å‡ºç°æœ€å°å€¼æœ€å¤§ï¼ˆæœ€å³ç«¯ï¼‰æˆ–æœ€å¤§å€¼æœ€å°ï¼ˆæœ€å·¦ç«¯ï¼‰æˆ–æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹äºŒåˆ†äº†</strong>ã€‚éªŒè¯ç­”æ¡ˆå…·æœ‰å•è°ƒæ€§ï¼š<strong>æ‹¿èµ°çš„çŸ³å¤´è¶Šå¤šï¼Œæœ€çŸ­è·³è·ƒè·ç¦»è¶Šå¤§</strong>ï¼Œè¿™å°±å«ç­”æ¡ˆçš„å•è°ƒæ€§</p>
<p>æ ¸å¿ƒåŸç†ï¼š</p>
<ul>
<li><strong>äºŒåˆ†ç­”æ¡ˆ</strong><br>äºŒåˆ†ç­”æ¡ˆå°±æ˜¯æŠŠä¸€ç»„æ•°æ®æ¯æ¬¡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå°±æ˜¯æŠŠå¤§é—®é¢˜è½¬åŒ–æˆå°é—®é¢˜ã€‚ä¾‹å¦‚çŒœæ•°æ¸¸æˆï¼ŒçŒœ1-100çš„ä¸€ä¸ªæ•°ï¼Œå°±å…ˆçŒœ50ï¼Œè‹¥å°äº†ï¼Œå°±çŒœ75ï¼Œè‹¥å¤§äº†ï¼Œå°±çŒœ25ï¼Œå°±è¿™æ ·ä¸€ç›´çŒœä¸‹å»ï¼Œæœ€ç»ˆæ‰¾åˆ°ç­”æ¡ˆã€‚<strong>è€Œæˆ‘ä»¬æ¯ä¸€æ¬¡çŒœçš„è¿™ä¸ªç­”æ¡ˆå°±æ˜¯æ‰€æ±‚èŒƒå›´å†…çš„æ•°æ®çš„ä¸­é—´æ•°æ®ï¼Œè¿™å°±æ˜¯äºŒåˆ†ç­”æ¡ˆã€‚è¿™ä¸ªäºŒåˆ†çš„ä¸­é—´æ•°æ®å°±æ˜¯æŒ‡è¦æ±‚çš„å†…å®¹</strong>ã€‚</li>
<li><strong>å¦‚æœé•¿åº¦ LenLen å¯ä»¥æ»¡è¶³ï¼Œé‚£ä¹ˆå½“é•¿åº¦å°äº LenLen æ—¶ä¹Ÿå¯ä»¥æ»¡è¶³ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥äºŒåˆ†å‡ºæœ€å¤§çš„ LenLenã€‚</strong>ä¹Ÿå°±æ˜¯åœ¨æ‰€æœ‰å¯æ»¡è¶³çš„Lenä¸­å¯»æ‰¾æœ€å³ç«¯çš„ç­”æ¡ˆï¼ˆè¿™é‡ŒæŒ‡ä»0åˆ°æœ€å¤§ï¼‰ï¼Œå› æ­¤ä½¿ç”¨æ¨¡æ¿SRï¼ˆå†çœ‹ä¸Šä¸€é“é¢˜å®é™…ä¸Šä¸€ä¸ªåŸç†ï¼‰</li>
<li>å‰©ä¸‹çš„é—®é¢˜æ˜¯å¦‚ä½•åˆ¤æ–­ç»™å®š LenLen çš„æƒ…å†µä¸‹ï¼Œèƒ½å¦æœ€å¤šæ‹¿èµ° Må—çŸ³å¤´ï¼Œä½¿å¾—æ‰€æœ‰ç›¸é‚»ä¸¤å—çŸ³å¤´ä¹‹é—´çš„è·ç¦»ä¸å°äº LenLenã€‚<strong>è¿™ä¸€æ­¥å¯ä»¥è´ªå¿ƒæ¥åšã€‚ä»å‰å¾€åæ‰«æï¼Œ<em>å¹¶è®°ä¸€ä¸‹ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®</em></strong>ã€‚</li>
<li><strong>å¦‚æœå½“å‰çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»å°äº LenLenï¼Œåˆ™å°†å½“å‰çŸ³å¤´æ‹¿èµ°</strong></li>
<li><strong>å¦‚æœå½“å‰çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»å¤§äºç­‰äº LenLenï¼Œåˆ™å°†ä¸Šä¸€å—çŸ³å¤´æ›´æ–°æˆå½“å‰è¿™å—ã€‚</strong>ï¼ˆå’Œä¸Šä¸€æ¡æ˜¯è´ªå¿ƒæ—¶å€™çš„ä¸¤ç§è§£æ³•ï¼‰</li>
<li>è¿™é‡Œç»™å‡ºè´ªå¿ƒè¯æ˜ï¼šå¦‚æœæŸä¸ªæœ€ä¼˜è§£ä¸­æ˜¯æ‹¿èµ°äº†ä¸Šä¸€å—çŸ³å¤´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹æˆç•™ä¸‹ä¸Šä¸€å—çŸ³å¤´ï¼Œæ‹¿èµ°å½“å‰è¿™å—çŸ³å¤´ï¼Œè¿™æ ·æ€»å…±æ‹¿èµ°çš„çŸ³å¤´æ•°é‡ä¸å˜ï¼Œæ‰€ä»¥å½“å‰é€‰æ³•ä¹Ÿæ˜¯ä¸€ç»„æœ€ä¼˜è§£ã€‚</li>
<li>checkå‡½æ•°ï¼š<strong>æˆ‘ä»¬éå†ä¸€éæ¯ä¸€å—çŸ³å¤´ï¼Œç´¯è®¡å‡ºæœ‰å¤šå°‘å—çŸ³å¤´ä¹‹é—´çš„é—´éš”&lt;&#x3D;mid,å¦‚æœè¶…è¿‡mä¸ªï¼Œå°±ä¸åˆæ³•ï¼Œå¦‚æœå°äºç­‰äºmï¼Œå°±åˆæ³•ã€‚</strong>(ç´¯è®¡é—´éš”å°ä¹Ÿå°±æ˜¯éœ€è¦æ¬èµ°å¤šå°‘ä¸ªçŸ³å¤´)</li>
<li>æ‰«æç»“æŸååˆ¤æ–­æ‹¿èµ°çš„çŸ³å¤´æ•°é‡æ˜¯å¦å°äºç­‰äº Mã€‚ï¼ˆ<strong>åˆ¤æ–­è¿™ä¸ªç­”æ¡ˆèƒ½ä¸èƒ½æ‰§è¡Œï¼Œèƒ½è¯´æ˜ç­”æ¡ˆmidè¿˜èƒ½çŒœæµ‹æ›´å¤§ï¼Œæ›´æ–°lï¼Œä¸èƒ½è¯´æ˜midçŒœæµ‹è¿‡å¤§äº†ï¼Œæ›´æ–°r</strong>ï¼‰</li>
</ul>
<p>æ—¶é—´å¤æ‚åº¦åˆ†æ<br>æ€»å…±äºŒåˆ† O(logL)O(logL) æ¬¡ï¼Œæ¯æ¬¡è´ªå¿ƒçš„è®¡ç®—æ˜¯ O(N)O(N)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(NlogL)O(NlogL)ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">50005</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> n,m,s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span> <span class="comment">//checkå‡½æ•°åˆ¤æ–­è¿™ä¸ªæœ€çŸ­è·³è·ƒè·ç¦»xæ˜¯å¦åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>,last=<span class="number">0</span>; <span class="comment">//lastè¡¨ç¤ºçš„æ˜¯ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®,cntç”¨æ¥è®¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)   <span class="comment">//æšä¸¾æ¯ä¸€å—çŸ³å¤´ </span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ä¸ç§»åŠ¨èµ°çŸ³å¤´ï¼Œå°±å®æ—¶æ›´æ–°ä¸Šä¸€å—çŸ³å¤´ä½ç½®ï¼Œå¦‚æœç§»åŠ¨ï¼Œå°±ä¸æ›´æ–°</span></span><br><span class="line">        <span class="keyword">if</span>(a[i]-last&lt;x) cnt++;<span class="comment">//å¦‚æœè¿™ä¸€å—çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»æ¯”xå°,è®¡æ•°+1ã€‚è€Œä¸”å¦‚æœçŸ³å¤´ç§»èµ°ï¼Œlastè¿˜æ˜¯ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®ã€‚</span></span><br><span class="line">        <span class="keyword">else</span> last=a[i]; <span class="comment">//å¦åˆ™è¿™å—çŸ³å¤´å°±ä¸å¿…ç§»èµ°ï¼Œlast=è¿™å—çŸ³å¤´çš„ä½ç½®ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt&gt;m) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//cntå¦‚æœè¶…è¿‡mä¸ªï¼Œå°±ä¸åˆæ³•ã€‚</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;s&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    a[n+<span class="number">1</span>]=s;<span class="comment">//å°†ç»ˆç‚¹çš„è·ç¦»ä¹Ÿç®—è¿›å»</span></span><br><span class="line"></span><br><span class="line">    n=n+<span class="number">1</span>;<span class="comment">//æ³¨æ„è¿™é‡Œçš„néœ€è¦åŠ ä¸€ï¼Œcheckå‡½æ•°éœ€è¦ç”¨</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> l=<span class="number">1</span>,r=s; <span class="comment">//æ³¨æ„lå’Œréƒ½æ˜¯æœ€çŸ­è·³è·ƒè·ç¦»çš„è¾¹ç•Œï¼Œè€Œä¸æ˜¯çŸ³å¤´çš„è¾¹ç•Œã€‚ </span></span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid=l+r+<span class="number">1</span>&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;<span class="comment">//ç­”æ¡ˆçŒœå°äº†</span></span><br><span class="line">        <span class="keyword">else</span> r=mid<span class="number">-1</span>;<span class="comment">//ç­”æ¡ˆçŒœå¤§äº†</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/blog/content/21312/" >https://www.acwing.com/blog/content/21312/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/118815/" >https://www.acwing.com/solution/content/118815/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/leetbook/read/illustration-of-algorithm/59bjss/" >https://leetcode.cn/leetbook/read/illustration-of-algorithm/59bjss/<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/120802/" >https://www.acwing.com/solution/content/120802/<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="æµ®ç‚¹æ¨¡æ¿"><a href="#æµ®ç‚¹æ¨¡æ¿" class="headerlink" title="æµ®ç‚¹æ¨¡æ¿"></a>æµ®ç‚¹æ¨¡æ¿</h6><p>æµ®ç‚¹å¥½å¤„åœ¨äºä¸ç”¨è€ƒè™‘æ•´æ•°äºŒåˆ†ä¸­çš„è¾¹ç•Œé—®é¢˜ï¼Œå› æ­¤ç›´æ¥ç”¨</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> x)</span> </span>&#123;<span class="comment">/* ... */</span>&#125; <span class="comment">// æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">bsearch_3</span><span class="params">(<span class="type">double</span> l, <span class="type">double</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;   <span class="comment">// eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚</span></span><br><span class="line">    <span class="keyword">while</span> (r - l &gt; eps)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid)) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid;<span class="comment">//è¿™é‡Œå°±ä¸ç”¨å¤šè€ƒè™‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹é¢˜ï¼š<a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/792/" >790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">double</span> x;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    <span class="type">double</span> l = <span class="number">-1000</span>,r = <span class="number">1000</span>;<span class="comment">//è¿™é‡Œä¸€å¼€å§‹èŒƒå›´è®¾å®šå¤§ï¼Œç›´æ¥ä»0å¼€å§‹</span></span><br><span class="line">    <span class="keyword">while</span> (r - l &gt;= <span class="number">1e-7</span>) &#123;</span><br><span class="line">        <span class="type">double</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (mid * mid * mid &lt;= x) l = mid;  <span class="comment">//å¦‚æœæ˜¯å°äºç­‰äºçš„è¯ï¼Œå°±å¯ä»¥è¯´æ˜ç­”æ¡ˆä¼šæ›´å¤§</span></span><br><span class="line">        <span class="comment">//æ¯”è¾ƒé‡è¦çš„ä¸€æ­¥ï¼Œc++é‡Œé¢å‡ æ¬¡æ–¹å°±ç›´æ¥å¼„ï¼Œåˆ«ç”¨mid^3,é…åˆc++primeré£Ÿç”¨</span></span><br><span class="line">        <span class="keyword">else</span> r = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">&quot;%.6lf&quot;</span>,l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="äºŒåˆ†æ”¹è¿›ï¼š"><a href="#äºŒåˆ†æ”¹è¿›ï¼š" class="headerlink" title="äºŒåˆ†æ”¹è¿›ï¼š"></a>äºŒåˆ†æ”¹è¿›ï¼š</h5><h6 id="æ’å€¼æŸ¥æ‰¾"><a href="#æ’å€¼æŸ¥æ‰¾" class="headerlink" title="æ’å€¼æŸ¥æ‰¾"></a>æ’å€¼æŸ¥æ‰¾</h6><p>åº”ç”¨èŒƒå›´ï¼š<strong>è¡¨é•¿è¾ƒå¤§ï¼Œå…³é”®å­—åˆ†å¸ƒå‡åŒ€</strong></p>
<h6 id="å…³é”®ä¸åŒï¼š"><a href="#å…³é”®ä¸åŒï¼š" class="headerlink" title="å…³é”®ä¸åŒï¼š"></a>å…³é”®ä¸åŒï¼š</h6><p>äºŒåˆ†midå›ºå®šä¸º0.5ï¼Œæ’å€¼æŸ¥æ‰¾midå‚æ•°åŠ¨æ€å˜åŒ–</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mid = low + (high - low) * (key - arr[low]) / (arr[high] - arr[low]) ;</span><br></pre></td></tr></table></figure>

<h6 id="æ–æ³¢é‚£å¥‘æŸ¥æ‰¾"><a href="#æ–æ³¢é‚£å¥‘æŸ¥æ‰¾" class="headerlink" title="æ–æ³¢é‚£å¥‘æŸ¥æ‰¾"></a>æ–æ³¢é‚£å¥‘æŸ¥æ‰¾</h6><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46359697/article/details/121952936?ops_request_misc=%7B%22request_id%22:%22166770338816782388045113%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166770338816782388045113&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-121952936-null-null.142%5Ev63%5Econtrol,201%5Ev3%5Econtrol_1,213%5Ev1%5Et3_control1&utm_term=%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%9F%A5%E6%89%BE&spm=1018.2226.3001.4187" >(104æ¡æ¶ˆæ¯) ä¸ƒå¤§æŸ¥æ‰¾ä¹‹æ–æ³¢é‚£å¥‘æŸ¥æ‰¾_éå¸¸è§„è‡ªæˆ‘å®ç°çš„åšå®¢-CSDNåšå®¢_fibonacciæŸ¥æ‰¾<i class="fas fa-external-link-alt"></i></a></p>
<h4 id="å‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰"><a href="#å‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰" class="headerlink" title="å‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰"></a>å‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰</h4><p>æ•°æ®ç»“æ„åº”ç”¨ï¼šå­—ç¬¦ä¸²å“ˆå¸Œè¡¨kmpï¼Œè‡ªåŠ¨æœºkmpï¼Œ</p>
<h5 id="å‰ç¼€å’Œ-å“ˆå¸Œè¡¨-x3D-LZWå‹ç¼©-gt-æ–‡æœ¬å‹ç¼©"><a href="#å‰ç¼€å’Œ-å“ˆå¸Œè¡¨-x3D-LZWå‹ç¼©-gt-æ–‡æœ¬å‹ç¼©" class="headerlink" title="å‰ç¼€å’Œ+å“ˆå¸Œè¡¨&#x3D;LZWå‹ç¼©-&gt;æ–‡æœ¬å‹ç¼©"></a>å‰ç¼€å’Œ+å“ˆå¸Œè¡¨&#x3D;LZWå‹ç¼©-&gt;æ–‡æœ¬å‹ç¼©</h5><h6 id="å‹ç¼©éƒ¨åˆ†ï¼š"><a href="#å‹ç¼©éƒ¨åˆ†ï¼š" class="headerlink" title="å‹ç¼©éƒ¨åˆ†ï¼š"></a>å‹ç¼©éƒ¨åˆ†ï¼š</h6><h6 id="è§£å‹ç¼©éƒ¨åˆ†ï¼š"><a href="#è§£å‹ç¼©éƒ¨åˆ†ï¼š" class="headerlink" title="è§£å‹ç¼©éƒ¨åˆ†ï¼š"></a>è§£å‹ç¼©éƒ¨åˆ†ï¼š</h6><h4 id="ç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–</h4><p>å¦‚æœä½¿ç”¨å“ˆå¸Œï¼Œä¼šæœ‰é¢å¤–çš„ç©ºé—´å¼€é”€</p>
<p>ç‰¹ç‚¹ï¼šå€¼åŸŸèŒƒå›´å¤§ï¼Œä½†æ˜¯ä¸ªæ•°å°‘ï¼ˆæ¯”å¦‚è¦è®¿é—®åˆ°æ•°ç»„çš„10^9çš„ä½ç½®ï¼Œä½†ä¸ªæ•°åªæœ‰10^5ï¼‰ä¹Ÿå°±æ˜¯å¯¹äºä¸€ä¸ªå‡½æ•°a-&gt;bï¼Œå®é™…ä¸Šåªéœ€è¦æ˜ å°„aï¼Œä¸éœ€è¦æ“ä½œbï¼ˆ<strong>å½“ç„¶é«˜çº§ç©å®¶ä¹Ÿå¯ä»¥ç»§ç»­å¼„b</strong>ï¼‰ã€‚ä¸€èˆ¬æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>aæ•°ç»„é‡Œé¢å¯èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå› æ­¤éœ€è¦<em><strong>å»é‡</strong></em>ï¼Œï¼ˆå»é‡æ˜¯æœ€é‡è¦çš„ï¼‰</li>
<li>å¦‚ä½•ç®—å‡ºa[i]ç¦»æ•£åŒ–åçš„å€¼ï¼Œ<strong>ä¿åºç¦»æ•£åŒ–</strong>ï¼ˆaæ•°ç»„æœ¬èº«ä¸‹æ ‡æœ‰åºçš„ï¼‰ï¼Œæ˜ å°„åä¸€å®šä¹Ÿè¦æ˜¯æœ‰åºçš„ï¼Œa[i].ç”±äºaæœ‰åºï¼Œå¯ä»¥ä½¿ç”¨<strong>äºŒåˆ†</strong></li>
</ol>
<p>éœ€è¦ä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li>vector</li>
<li>pair</li>
</ul>
<h6 id="ç¦»æ•£åŒ–æ¨¡æ¿ï¼š-c-ç‰ˆæœ¬"><a href="#ç¦»æ•£åŒ–æ¨¡æ¿ï¼š-c-ç‰ˆæœ¬" class="headerlink" title="ç¦»æ•£åŒ–æ¨¡æ¿ï¼š(c++ç‰ˆæœ¬)"></a>ç¦»æ•£åŒ–æ¨¡æ¿ï¼š(c++ç‰ˆæœ¬)</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//allså­˜å‚¨çš„æ˜¯æœ€å¼€å§‹çš„ä¸‹æ ‡</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; alls; <span class="comment">// å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼</span></span><br><span class="line"><span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()); <span class="comment">// å°†æ‰€æœ‰å€¼æ’åº</span></span><br><span class="line">alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());   <span class="comment">// å»æ‰é‡å¤å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> <span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (alls[mid] &gt;= x) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>; <span class="comment">// æ˜ å°„åˆ°1, 2, ...n</span></span><br><span class="line">    <span class="comment">//å‰ç¼€å’Œä»1å¼€å§‹ç›¸å¯¹æ–¹ä¾¿</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/2321/" >AcWing 802. åŒºé—´å’Œ - AcWing<i class="fas fa-external-link-alt"></i></a></p>
<p>åˆ†æï¼š</p>
<p>ä½¿ç”¨ç¦»æ•£åŒ–åŸå› ï¼š</p>
<ol>
<li>å­˜å‚¨ä¸‹æ ‡è¿‡å¤§ï¼Œä¸èƒ½å¼€è¿™ä¹ˆå¤§çš„ä¸‹æ ‡</li>
<li>ä½¿ç”¨æ•°è½´ï¼Œä¼šå­˜åœ¨è´Ÿå€¼ï¼Œä¸èƒ½ä½¿ç”¨ä¸‹æ ‡</li>
<li><strong>å“ˆå¸Œè¡¨ä¸èƒ½åƒç¦»æ•£åŒ–ç¼©å°æ•°ç»„çš„ç©ºé—´ï¼Œå¯èƒ½å¯¼è‡´éå†-e9~1e9</strong>ã€‚æ­¤å¤„çš„å«ä¹‰å°±æ˜¯å‡å¦‚æˆ‘ä»¬éœ€è¦è®¡ç®—1e-9å’Œ1e9åŒºé—´å†…çš„å€¼ï¼Œé‚£æˆ‘ä»¬éœ€è¦ä»å‰åˆ°åæšä¸¾ï¼Œæ— è®ºè¯¥å€¼æ˜¯å¦å­˜åœ¨ã€‚<strong>å› ä¸ºå“ˆå¸Œè¡¨ä¸èƒ½æ’åº</strong>ï¼Œå› æ­¤ä¸èƒ½æå‰çŸ¥é“å“ªäº›æ•°å‘¨ä¸Šçš„ç‚¹ä¸å­˜åœ¨ï¼Œä¼šæšä¸¾å¤šæ¬¡ï¼ˆå¦‚æœ€åqueryçš„æ—¶å€™ï¼Œä»1åˆ°1e9ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å°±è¦éå†æ‰çŸ¥é“æ˜¯å¦æœ‰ç‚¹ï¼Œæ—¶é—´å¼€é”€å¤ªå¤§ï¼‰ï¼Œ</li>
</ol>
<p>ç¦»æ•£åŒ–æœ¬è´¨ï¼š<strong>æ˜ å°„ï¼Œå°†é—´éš”å¾ˆå¤§çš„ç‚¹ï¼Œæ˜ å°„åˆ°ç›¸é‚»çš„æ•°ç»„å…ƒç´ ä¸­ã€‚å‡å°‘å¯¹ç©ºé—´çš„éœ€æ±‚ï¼Œä¹Ÿå‡å°‘è®¡ç®—é‡</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>å¦‚ä½•èƒ½å¤Ÿå°†ä¸è¿ç»­çš„ç‚¹æ˜ å°„åˆ°è¿ç»­çš„æ•°ç»„çš„ä¸‹æ ‡ã€‚</strong></p>
<p>æœ¬é¢˜è§£æ³•ï¼š(ç¦»æ•£åŒ–) O((n+2âˆ—m)log(n+2âˆ—m))</p>
<ol>
<li>å¼€è¾Ÿé¢å¤–æ•°ç»„å­˜æ”¾åŸæ¥ çš„ä¸‹æ ‡æ ‡å¿—</li>
<li>å¯¹åŸæ¥çš„æ•°è½´ä¸‹æ ‡è¿›è¡Œæ’åºå†å»é‡ï¼ŒåŸå› ï¼šè€ƒè™‘å‰ç¼€å’Œæ€æƒ³ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºçš„åŒºé—´å†…çš„å’Œçš„ä¸¤ç«¯æ–­ç‚¹ä¸ä¸€å®šæœ‰å…ƒç´ ï¼Œæå‰åŠ å¦‚éœ€è¦æ±‚å‰ç¼€å’Œçš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œæœ‰åˆ©äºæˆ‘ä»¬è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œå…¶å®äºŒåˆ†æœç´¢é‡Œé¢æˆ‘ä»¬ä¸€èˆ¬å‡å®šæœ‰è§£çš„ï¼Œå¦‚æœæ²¡è§£çš„è¯éœ€è¦ç‰¹åˆ¤ï¼Œæ‰€ä»¥æå‰åŠ å…¥äº†è¿™äº›å…ƒç´ ï¼Œä»è€Œå¯¼è‡´å¯èƒ½å‡ºç°é‡å¤å…ƒç´ </li>
<li>æœ€å¤šä½¿ç”¨n+2mæ¬¡æ“ä½œï¼Œæœ€å¤šä½¿ç”¨çš„ä¸‹æ ‡è·¨åº¦ä¸º3*10^5,</li>
</ol>
<p>é¦–å…ˆç”¨è€ŒäºŒåˆ†å†™å¥½æ˜ å°„åå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼Œå¤æ‚åº¦log(n + 2 * m)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(alls[mid] &gt;= x) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¨è§£ï¼š</p>
<p>å…³äºuniqueå’Œereaseå¯ä»¥çœ‹</p>
<p>[(100æ¡æ¶ˆæ¯) C++ ä¹‹vectorå…ƒç´ å»é‡unique()_sandalphon4869çš„åšå®¢-CSDNåšå®¢_unique vector](<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/sandalphon4869/article/details/98209093?ops_request_misc=%7B%22request_id%22:%22166674706816800184111752%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166674706816800184111752&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-98209093-null-null.142%5Ev59%5Epc_rank_34_1,201%5Ev3%5Econtrol_1,213%5Ev1%5Et3_control1&utm_term=vector" >https://blog.csdn.net/sandalphon4869/article/details/98209093?ops_request_misc=%7B%22request%5Fid%22%3A%22166674706816800184111752%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=166674706816800184111752&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-98209093-null-null.142^v59^pc_rank_34_1,201^v3^control_1,213^v1^t3_control1&amp;utm_term=vector<i class="fas fa-external-link-alt"></i></a> unique&amp;spm&#x3D;1018.2226.3001.4187)</p>
<p>auto:<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/lwgkzl/article/details/82110068?ops_request_misc=%7B%22request_id%22:%22166674813816782412534322%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166674813816782412534322&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-82110068-null-null.142%5Ev59%5Epc_rank_34_1,201%5Ev3%5Econtrol_1,213%5Ev1%5Et3_control1&utm_term=auto&spm=1018.2226.3001.4187" >(100æ¡æ¶ˆæ¯) c++ autoåŸºæœ¬ç”¨æ³•_lwgkzlçš„åšå®¢-CSDNåšå®¢_autoç”¨æ³•<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;<span class="comment">//pairå¯ä»¥åŒæ—¶å­˜å‚¨ä¸¤ä¸ªæ•°æ®ï¼Œå¯ä»¥ç†è§£æˆåŠå°è£…çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">300010</span>;<span class="comment">//æœ€å¤šæ¶‰åŠçš„ä¸‹æ ‡é•¿åº¦</span></span><br><span class="line"><span class="type">int</span> a[N], s[N];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; alls;<span class="comment">//å­˜å‚¨ä¸‹æ ‡å€¼</span></span><br><span class="line">vector&lt;PII&gt; add, query;<span class="comment">//åˆ†åˆ«å­˜å‚¨è¯¢é—®å’ŒåŠ </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(alls[mid] &gt;= x) r = mid;</span><br><span class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>;<span class="comment">//ä¸ºäº†æœ€ç»ˆçš„æ˜ å°„ä»1å¼€å§‹</span></span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;:: <span class="function">iterator <span class="title">unique</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp;a)</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//è¿™é‡Œæ˜¯æ‰‹åŠ¨å®ç°uniqueï¼Œéc++è¯­è¨€éœ€è¦æ‰‹åŠ¨</span></span><br><span class="line">    <span class="comment">//ä½œç”¨ä¸ºè‡ªåŠ¨å»é‡</span></span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i ++)</span><br><span class="line">        <span class="keyword">if</span>(!i || a[i] != a[i - <span class="number">1</span>])</span><br><span class="line">            a[j ++ ] = a[i];</span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">begin</span>() + j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, c;<span class="comment">//xæ˜¯ä¸‹æ ‡</span></span><br><span class="line">        cin &gt;&gt; x &gt;&gt; c;</span><br><span class="line">        add.<span class="built_in">push_back</span>(&#123;x, c&#125;);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        query.<span class="built_in">push_back</span>(&#123;l, r&#125;);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(l);</span><br><span class="line">        alls.<span class="built_in">push_back</span>(r);</span><br><span class="line">        <span class="comment">//å…¨éƒ¨å­˜å‚¨åallsç»„æˆä¸ºx,x,x,x,x,l1,r1,l2,r2ç­‰ç­‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›´æ¥unique(a)ä¸åŠ å…¶å®ƒå‚æ•°å°±æ˜¯é»˜è®¤ç›´æ¥ä»å¤´åˆ°å°¾ï¼Œ</span></span><br><span class="line">    <span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>());<span class="comment">//å¯¹åŸæ¥çš„æ•°ç»„ä¸‹æ ‡è¿›è¡Œä»å°åˆ°å¤§</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;::iterator pos = <span class="built_in">unique</span>(alls);</span><br><span class="line">     <span class="comment">//posæ˜¯å»é‡ä»¥åvectorä¸­æ²¡æœ‰é‡å¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</span></span><br><span class="line">    <span class="comment">//ä»å®¹å™¨çš„å¼€å§‹åˆ°è¿”å›çš„è¿­ä»£å™¨ä½ç½®çš„å…ƒç´ æ˜¯ä¸é‡å¤çš„å…ƒç´ ï¼Œè€Œä»è¿”å›çš„è¿­ä»£å™¨ä½ç½®åˆ°vector.end()çš„å…ƒç´ éƒ½æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼ˆè¿™ä¸œè¥¿å°±æ˜¯åŸæ¥æ’åºåçš„ä¸œè¥¿ï¼Œæ²¡å˜è¿‡ï¼‰ã€‚</span></span><br><span class="line">    <span class="comment">//æ¯”å¦‚1 2 3 3 4 4 5 5uniqueåä¸º1 2 3 4 5   5 5 5ï¼ˆåˆ«ç®¡è¿™ä¸‰ä¸ªä»€ä¹ˆï¼Œæ²¡æ„ä¹‰ï¼‰</span></span><br><span class="line"></span><br><span class="line">    alls.<span class="built_in">erase</span>(pos, alls.<span class="built_in">end</span>());<span class="comment">//åˆ é™¤é‡å¤å…ƒç´ </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> item : add)<span class="comment">//addæ˜¯ä¸€ä¸ªvector&lt;PII&gt; addï¼Œä¸ºæ–¹ä¾¿åˆå§‹åŒ–è¿™ä¹ˆç”¨</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">find</span>(item.first);<span class="comment">//ç¬¬ä¸€ä¸ªå€¼æ˜¯è¦åŠ çš„æ•°çš„ä¸‹æ ‡</span></span><br><span class="line">        a[x] += item.second;<span class="comment">//å¯¹åº”çš„æ•°ç»„ä½ç½®åŠ è¯¥æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= alls.<span class="built_in">size</span>(); i ++ ) s[i] = s[i - <span class="number">1</span>] + a[i];</span><br><span class="line">    <span class="comment">//è¿™é‡Œç”¨å‰ç¼€å’Œæ–¹æ³•æ±‚æ‰€æœ‰çš„å‰ç¼€</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> item : query)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l = <span class="built_in">find</span>(item.first), </span><br><span class="line">        r = <span class="built_in">find</span>(item.second);<span class="comment">//ä¸¤ä¸ªéƒ½æ˜¯</span></span><br><span class="line">        cout &lt;&lt; s[r] - s[l - <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//è¿™é‡Œæœ€åå°±æ˜¯å¯¹åº”è¿‡æ¥çš„å‡å»åçš„å€¼ï¼Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™äº›æ•°æ®æ˜¯éªŒç®—ç”¨çš„</span></span><br><span class="line"><span class="number">3</span> <span class="number">3</span><span class="comment">//mã€‚n</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">6</span></span><br><span class="line"><span class="number">7</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">6</span></span><br><span class="line"><span class="number">7</span> <span class="number">8</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¡¥å……autoï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt;v;</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    v.<span class="built_in">push_back</span>(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i : v)&#123;<span class="comment">//è¿™ä¸€æ­¥å°±æ˜¯è¿­ä»£å™¨ä»beginèµ°åˆ°end</span></span><br><span class="line">        cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–"><a href="#åŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–" class="headerlink" title="åŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–"></a>åŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–</h4><p>åº”ç”¨ï¼šå¾ˆå¤šåŒºé—´ï¼Œå¦‚æœæœ‰äº¤é›†å°±åˆå¹¶æˆä¸€ä¸ªæ›´é•¿çš„åŒºé—´</p>
<p>åŒºé—´åˆå¹¶ç®—æ³•ï¼šå¿«é€Ÿåœ°è¿›è¡Œå¤šä¸ªåŒºé—´çš„åˆå¹¶,å½“ç„¶å¯ä»¥è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚å¯¹äºç«¯ç‚¹å°±è¿›è¡Œç»Ÿä¸€å½’å¹¶</p>
<h6 id="æ­¥éª¤ï¼š"><a href="#æ­¥éª¤ï¼š" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h6><ol>
<li>æŒ‰åŒºé—´å·¦ç«¯ç‚¹è¿›è¡Œæ’åº</li>
<li>æ‰«æè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ‰€æœ‰æœ‰äº¤é›†çš„åŒºé—´è¿›è¡Œåˆå¹¶ã€‚</li>
</ol>
<p>å·¦è¾¹ç«¯ç‚¹è®¾ç½®æˆstartï¼Œå³è¾¹è®¾ç½®æˆendï¼Œå¯èƒ½æœ‰çš„å…³ç³»ï¼š</p>
<img  
                     lazyload
                     alt="image"
                     data-src="D:\me\é…å›¾\image-20221203210856611.png"
                      alt="image-20221203210856611" style="zoom:33%;" 
                >

<ol>
<li><strong>å·¦å³éƒ½åœ¨å†…éƒ¨ï¼šåŸæœ¬åŒºé—´ä¸å˜</strong></li>
<li>ä»…ä¸€éƒ¨åˆ†åœ¨å†…éƒ¨ï¼šæ–°çš„edä¼šè¾¹é•¿ï¼ˆ<strong>å·¦ç«¯ç‚¹ä¸ä¼šæ›´æ–°ï¼Œå› ä¸ºæ˜¯æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡ŒåŒºé—´çš„æ‰«æçš„</strong>ï¼‰</li>
<li><strong>éƒ½ä¸åœ¨å†…éƒ¨ï¼šä¸ç”¨ç®¡å°±å®Œäº‹äº†</strong></li>
</ol>
<h6 id="ä»£ç æ¨¡æ¿"><a href="#ä»£ç æ¨¡æ¿" class="headerlink" title="ä»£ç æ¨¡æ¿"></a>ä»£ç æ¨¡æ¿</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(vector&lt;PII&gt; &amp;segs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;PII&gt; res;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(segs.<span class="built_in">begin</span>(), segs.<span class="built_in">end</span>());<span class="comment">//è¿™é‡Œæ˜¯å› ä¸ºpairæ˜¯é»˜è®¤æŒ‰ç…§å·¦ç«¯ç‚¹æ’åºçš„</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> st = <span class="number">-2e9</span>, ed = <span class="number">-2e9</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> seg : segs)</span><br><span class="line">        <span class="keyword">if</span> (ed &lt; seg.first)<span class="comment">//æƒ…å†µ3ï¼šä¸¤ä¸ªåŒºé—´æ— æ³•åˆå¹¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (st != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;st, ed&#125;);<span class="comment">//åŒºé—´1æ”¾è¿›å»resæ•°ç»„</span></span><br><span class="line">            st = seg.first, ed = seg.second;<span class="comment">//ç»´æŠ¤åŒºé—´2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> ed = <span class="built_in">max</span>(ed, seg.second);<span class="comment">//æƒ…å†µ12ï¼Œå¯ä»¥åˆå¹¶ï¼Œè¿›è¡Œæ›´æ–°</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//è€ƒè™‘å¾ªç¯ç»“æŸæ—¶çš„st,edå˜é‡ï¼Œæ­¤æ—¶çš„st,edå˜é‡ä¸éœ€è¦ç»§ç»­ç»´æŠ¤ï¼Œåªéœ€è¦æ”¾è¿›resæ•°ç»„å³å¯ã€‚</span></span><br><span class="line">    <span class="comment">//å› ä¸ºè¿™æ˜¯æœ€åçš„ä¸€ä¸ªåºåˆ—ï¼Œæ‰€ä»¥ä¸å¯èƒ½ç»§ç»­è¿›è¡Œåˆå¹¶ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (st != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;st, ed&#125;);<span class="comment">//è¯´çš„å°±æ˜¯ä½ ï¼Œæœ€åä¸€ä¸ªåºåˆ—ï¼Œifå°±æ˜¯é˜²ä¸€ä¸‹ç©ºåºåˆ—</span></span><br><span class="line"></span><br><span class="line">    segs = res;<span class="comment">//è¿™æ ·å›å¤çš„å°±æ˜¯ç­”æ¡ˆsegs</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€å¤§åŸå› ï¼šæ’è¿‡åºäº†ï¼Œä¸ç”¨æ‹…å¿ƒå¤ç”¨</span></span><br><span class="line"><span class="comment">//æ’è¿‡åºä¹‹åï¼Œä¸å¯èƒ½æœ‰åŒºé—´2åŒ…å«åŒºé—´1ï¼Œåªèƒ½æ˜¯1åŒ…å«åé¢çš„</span></span><br><span class="line"><span class="comment">//æœ¬è´¨ï¼Œéå†ï¼Œæ¯ä¸€æ¬¡å¦‚æœä¸¤ä¸ªåŒºé—´æ²¡æœ‰ç›¸äº¤çš„éƒ¨åˆ†ï¼ˆæ— æ³•åˆå¹¶ï¼‰ï¼Œé‚£ä¹ˆå°±å°†ä¸€ä¸ªåŒºé—´æ¨å…¥ä½œä¸ºç­”æ¡ˆï¼ŒåŒæ—¶æ›´æ–°å·¦å³ç«¯ç‚¹</span></span><br></pre></td></tr></table></figure>

<p>yæ€»ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; PII;</span><br><span class="line">vector&lt;PII&gt; segs;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(vector&lt;PII&gt;&amp;segs)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;PII&gt; res;</span><br><span class="line">    <span class="built_in">sort</span>(segs.<span class="built_in">begin</span>(),segs.<span class="built_in">end</span>());<span class="comment">//å…ˆå¯¹äºå…¨éƒ¨åŒºé—´è¿›è¡Œæ’åº</span></span><br><span class="line">    <span class="type">int</span> l = <span class="number">-2e9</span>,r = <span class="number">-2e9</span>;<span class="comment">//å°å°±å®Œäº‹äº†</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> item:segs)<span class="comment">//å®šä¹‰äº†ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªéå†çš„è¿‡ç¨‹</span></span><br><span class="line">    &#123;<span class="comment">//! ç¬¬ä¸€æ®µåŒºé—´ä¸€å®šæ˜¯  ed&lt; item.first</span></span><br><span class="line">        <span class="keyword">if</span>(r &lt; item.first)<span class="comment">//å½“å‰åŒºé—´å³ç«¯ç‚¹ä¸¥æ ¼å°äºæšä¸¾åŒºé—´çš„å·¦è¾¹</span></span><br><span class="line">        &#123;<span class="comment">//æƒ…å†µ1ï¼šä¸¤ä¸ªåŒºé—´æ— æ³•åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span>(l != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;l,r&#125;);<span class="comment">//! ç¬¬ä¸€æ¬¡åœ¨è¿™é‡Œåˆå§‹åŒ–</span></span><br><span class="line">            <span class="comment">//åŒºé—´1æ”¾è¿›å»resæ•°ç»„</span></span><br><span class="line">            l = item.first;<span class="comment">//! ç¬¬ä¸€æ®µåŒºé—´ä»è¿™é‡Œå¼€å§‹å³seg[0].first</span></span><br><span class="line">            <span class="comment">//ç»´æŠ¤åŒºé—´2</span></span><br><span class="line">            r = item.second;<span class="comment">//ç¬¬ä¸€æ®µåŒºé—´çš„ã€‚seg[0].second</span></span><br><span class="line">        &#125;<span class="comment">//todo è¿™ä¸ªå¾ªç¯ç»“æŸä¹‹åè¿˜ä¼šå‰©ä¸‹ä¸€ä¸ªåŒºé—´</span></span><br><span class="line">        <span class="keyword">else</span> r = <span class="built_in">max</span>(r,item.second);<span class="comment">//ç¬¬äºŒç§æƒ…å†µï¼Œè¯´æ˜æœ‰äº¤é›†ï¼Œå³ç«¯ç‚¹æ›´æ–°æˆç»´æŠ¤çš„åŒºé—´çš„å³ç«¯ç‚¹ä»¥åŠæœ€å¤§å€¼</span></span><br><span class="line">    &#125;<span class="comment">//! å¦‚æœä¸æ˜¯ç©ºçš„  é‚£æˆ‘ä»¬å°±åŠ ä¸Šä¸€æ®µ</span></span><br><span class="line">    <span class="keyword">if</span>(l != <span class="number">-2e9</span>) res.<span class="built_in">push_back</span>(&#123;l,r&#125;);<span class="comment">//æœ€åä¸€ä¸ªåŒºé—´åˆ¤æ–­ä¸€ä¸‹ï¼Œé˜²æ­¢ç©ºåŒºé—´</span></span><br><span class="line">    segs = res;<span class="comment">//åŒºé—´æ›´æ–°å˜æˆres</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l,r;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;l,&amp;r);</span><br><span class="line">        segs.<span class="built_in">push_back</span>(&#123;l,r&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">merge</span>(segs);</span><br><span class="line">    cout &lt;&lt; segs.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><h4 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h4><p> æœ‰é™æ€§ï¼šæ•°æ®å…ƒç´ ä¸ªæ•°æœ‰ç©·</p>
<p>ç›¸åŒæ€§ï¼šæ•°æ®å…ƒç´ çš„ç±»å‹æ˜¯åŒä¸€çš„</p>
<p>é¡ºåºæ€§ï¼šç›¸é‚»çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨åºå¶å…³ç³»</p>
<h6 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h6><ul>
<li><p>é“¾è¡¨å½“ä¸­åˆ©ç”¨ç»“æ„ä½“åˆ¶é€ é“¾è¡¨çš„é€Ÿåº¦éƒ½æ˜¯éå¸¸æ…¢çš„ï¼Œä¼šæ¶ˆè€—å¾ˆå¤šçš„æ—¶é—´ï¼Œè€Œæ­£å¸¸é¢è¯•ä¸­éœ€è¦ä½¿ç”¨åˆ°é“¾è¡¨æ—¶å€™å¤§å°éƒ½æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸€èˆ¬æ˜¯åä¸‡æˆ–è€…ç™¾ä¸‡çš„çº§åˆ«ï¼Œè€Œå•å•æ˜¯newè¿™äº›èŠ‚ç‚¹å°±ä¼šå¯¼è‡´è¶…æ—¶ï¼Œ<strong>åœ¨ç¬”è¯•é¢˜ä¸­æœ€å¥½ä¸è¦ç”¨ç»“æ„ä½“æŒ‡é’ˆ</strong>ï¼Œå¯ä»¥ä¼˜åŒ–æ¯”å¦‚æå‰æ„å»ºå¥½å¤šä¸ªèŠ‚ç‚¹ï¼Œä½†å·²ç»ç±»ä¼¼äºæ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨äº†.<strong>ç®—æ³•é¢˜ä¸­ç»å¯¹ç»å¯¹ä¸è¦è€ƒè™‘å†…å­˜æ³„æ¼çš„é—®é¢˜</strong></p>
</li>
<li><p>ä½¿ç”¨ç»“æ„ä½“å»æ„å»ºé“¾è¡¨çš„å¦ä¸€ä¸ªé—®é¢˜åœ¨äºé”®å…¥æŒ‡ä»¤ä¼šå¾ˆéº»çƒ¦</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°ç»„ç‰ˆæœ¬</span></span><br><span class="line"><span class="type">int</span> next[N],prev[N],valu[N]</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">delete</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    next[prev[k]]=next[k];<span class="comment">//å‘å³è·³è¿‡ä¸­é—´</span></span><br><span class="line">    prev[next[k]]=prev[k];<span class="comment">//å‘å·¦è·³è¿‡ä¸­é—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç»“æ„ä½“ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> valu,next,prev;</span><br><span class="line">&#125;nodes[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">delete</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    nodes[nodes[k].prev].next=nodes[k].next;</span><br><span class="line">    nodes[nodes[k].next].prev=nodes[k].prev;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸¤ç§ç±»å‹ç›¸æ¯”ç¬¬äºŒç§æ•´ä½“ç»“æ„æ˜“äºç†è§£ä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è¯­å¥ç‰¹åˆ«é•¿è€Œä¸”ä¸å¤ªå®¹æ˜“ç†è§£</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>ps:ç®—æ³•é¢˜ä¸­å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯å¤´æ’æ³•</p>
<h6 id="é“¾è¡¨åˆ¶é€ æ–¹å¼"><a href="#é“¾è¡¨åˆ¶é€ æ–¹å¼" class="headerlink" title="é“¾è¡¨åˆ¶é€ æ–¹å¼"></a>é“¾è¡¨åˆ¶é€ æ–¹å¼</h6><ol>
<li>ç»“æ„ä½“+æŒ‡é’ˆï¼ˆc++éœ€è¦ä½¿ç”¨newï¼Œè´¹æ—¶é—´ï¼‰</li>
<li>æ•°ç»„æ¨¡æ‹Ÿï¼ˆè¿™é‡Œæ˜¯é™æ€æ•°ç»„ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼‰</li>
</ol>
<p>å°tipsï¼šé‚»æ¥è¡¨<strong>æœ¬è´¨å°±æ˜¯nä¸ªå•é“¾è¡¨æ‹¼èµ·æ¥</strong>ï¼Œæ­£å¸¸ä¸€ä¸ªheadå¯¹åº”ä¸€æ¡é“¾è¡¨ï¼Œè¿™ä¸ªå°±æ˜¯å¼€äº†ä¸€ä¸ªç»„ï¼Œhead[i]å¯¹åº”ç¬¬iæ¡é“¾è¡¨</p>
<p>æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨</p>
<ol>
<li>å•é“¾è¡¨ï¼šé‚»æ¥è¡¨ï¼ˆå®é™…ä¸Šnä¸ªé“¾è¡¨ï¼‰ï¼Œä¸»è¦åº”ç”¨åœ¨äºå­˜å‚¨å›¾å’Œæ ‘</li>
<li>åŒé“¾è¡¨ï¼šä¼˜åŒ–æŸäº›é—®é¢˜</li>
</ol>
<h6 id="å•é“¾è¡¨åˆ¶ä½œ"><a href="#å•é“¾è¡¨åˆ¶ä½œ" class="headerlink" title="å•é“¾è¡¨åˆ¶ä½œ"></a>å•é“¾è¡¨åˆ¶ä½œ</h6><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/828/" >826. å•é“¾è¡¨ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šç”¨ç‰ˆæœ¬çš„é™æ€é“¾è¡¨  </span></span><br><span class="line"><span class="comment">//e[n]:æŸä¸ªç‚¹çš„å€¼ï¼Œne[n]:æŸä¸ªç‚¹çš„æŒ‡é’ˆï¼Œä½¿ç”¨ä¸‹æ ‡å…³è”èµ·æ¥</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> n =<span class="number">1000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//e[i]èŠ‚ç‚¹i</span></span><br><span class="line"><span class="comment">//ne[i]èŠ‚ç‚¹içš„nextæŒ‡é’ˆæŒ‡å‘çš„å€¼</span></span><br><span class="line"><span class="comment">//idxå­˜å‚¨å·²ç»ç”¨è¿‡å“ªä¸€ä¸ªç‚¹</span></span><br><span class="line"><span class="type">int</span> head,e[n],ne[n],idx;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿™ä¸ªçš„çµé­‚åœ¨äºidx,æœ‰äº†idxå¯ä»¥ä¿è¯æ— è®ºæ–°æ’çš„èŠ‚ç‚¹æ˜¯å¤´æ’è¿˜æ˜¯å°¾æ’éƒ½æ²¡åŒºåˆ«ï¼Œéƒ½ä¼šç”¨æ¥è®¡æ•°ï¼Œç„¶ååœ¨å¯¹ç¬¬kä¸ªè¿›è¡Œæ“ä½œçš„æ—¶å€™ç›´æ¥å°±å®šä½åˆ°äº†idx</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initial</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    head=<span class="number">-1</span>;<span class="comment">//è®©headæŒ‡å‘ä¸€ä¸ªç©ºçš„ä½ç½®</span></span><br><span class="line">    idx=<span class="number">0</span><span class="comment">//idxæ•°é‡å®é™…ä¸Šå°±æ˜¯é“¾è¡¨å½“ä¸­æ€»å…±èŠ‚ç‚¹çš„æ•°é‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">add_to_tail</span>(<span class="type">int</span> x)<span class="comment">//å°¾æ’</span></span><br><span class="line">&#123;</span><br><span class="line">    e[idx]=x;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="number">-1</span><span class="comment">//å½“æ˜¯ç¬¬ä¸€æ¬¡æ’å…¥æ—¶ç‰¹æ®Šå¤„ç†</span></span><br><span class="line">    &#123;</span><br><span class="line">        ne[idx]=head;</span><br><span class="line">        head=idx;</span><br><span class="line">        idx++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> i=head;</span><br><span class="line">    <span class="keyword">if</span>(head!=<span class="number">-1</span>)<span class="keyword">while</span>(ne[i]!=<span class="number">-1</span>)i=ne[i];<span class="comment">//æœ€åne[i]=-1</span></span><br><span class="line">    ne[idx]=<span class="number">-1</span>;</span><br><span class="line">    ne[i]=idx;</span><br><span class="line">    idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">add_to_head</span>(<span class="type">int</span> x)<span class="comment">//å¤´æ’</span></span><br><span class="line">&#123;</span><br><span class="line">    e[idx]=x;<span class="comment">//ä¿å­˜xçš„å€¼åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®</span></span><br><span class="line">    ne[idx]=head;<span class="comment">//æ›´æ–°æŒ‡å‘ï¼Œæ–°å…ƒç´ æŒ‡å‘åŸå…ˆheadçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯-1ï¼ˆç¬¬ä¸€æ¬¡è·‘ï¼‰</span></span><br><span class="line">    head=idx;<span class="comment">//headå¤´èŠ‚ç‚¹æ›´æ–°ä½ç½®ï¼Œæ›´æ–°åˆ°æ–°å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">    idx++;<span class="comment">//ä¸‹ä¸€ä¸ªæ–°çš„å…ƒç´ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">add</span>(<span class="type">int</span> k,<span class="type">int</span> x)<span class="comment">//æ³¨æ„å’Œå¤´æ’çš„åŒºåˆ«åœ¨äºä½ç½®å˜æ¢çš„æ˜¯ne[k]</span></span><br><span class="line">&#123;</span><br><span class="line">    k=k<span class="number">-1</span>ï¼›<span class="comment">//åƒä¸‡æ³¨æ„æ³¨æ„è¿™é‡Œè¦æ”¹ä¸€ä¸‹</span></span><br><span class="line">        <span class="comment">//å¦åˆ™ä¼šå‡ºèŒƒå›´çš„</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    e[idx]=x;<span class="comment">//å…ˆä¿å­˜</span></span><br><span class="line">    ne[idx]=ne[k];<span class="comment">//æŒ‡å‘åŸå…ˆkçš„ä½ç½®</span></span><br><span class="line">    ne[k]=idx;</span><br><span class="line">    idx++;<span class="comment">//è¯´æ˜åŠ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">delete</span>(<span class="type">int</span> k)<span class="comment">//tmæƒŠä¸ºå¤©äººçš„ç®€æ´ç‰ˆæœ¬</span></span><br><span class="line">&#123;<span class="comment">//è¿™é‡Œæ˜¯åˆ é™¤ç¬¬kä¸ªæ·»åŠ çš„ï¼Œå¹¶ä¸æ˜¯æŒ‰ç…§å€¼æ¥åˆ é™¤</span></span><br><span class="line">    k=k<span class="number">-1</span>ï¼›<span class="comment">//åƒä¸‡æ³¨æ„æ³¨æ„è¿™é‡Œè¦æ”¹ä¸€ä¸‹</span></span><br><span class="line">        <span class="comment">//åŒæ ·ä¼šå‡ºèŒƒå›´</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    ne[k]=ne[ne[k]];<span class="comment">//æˆ‘tmç›´æ¥æ›´æ–°ne[k]æŒ‡å‘çš„ä½ç½®ï¼Œä¸­é—´æ•°ç›´æ¥æŸå¤±æŒ‡å¼•</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">dele</span>(<span class="type">int</span> a)<span class="comment">//è¿™ä¸ªæ˜¯åˆ é™¤æŸä¸€ä¸ªç‰¹å®šå€¼</span></span><br><span class="line">       &#123;<span class="comment">//ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚æœåªæœ‰ä¸€ä¸ªå…ƒç´ éœ€è¦ç‰¹åˆ¤</span></span><br><span class="line">           <span class="keyword">if</span>(e[head]==a)head=ne[head];<span class="comment">//ç›´æ¥æ¸…ç©ºå°±è¡Œ</span></span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">for</span>(<span class="type">int</span> i=head;ne[i]!=<span class="number">-1</span>;i=ne[i])<span class="comment">//å¤šä¸ªå…ƒç´ æ—¶å€™çš„åˆ é™¤æ“ä½œ</span></span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">if</span>(e[ne[i]]==a)<span class="comment">//è¿™é‡Œå…³ç³»æ˜¯è·³è¿‡ä¸­é—´</span></span><br><span class="line">               &#123;</span><br><span class="line">                   ne[i]=ne[ne[i]];</span><br><span class="line">               &#125;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">print</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=head;i!=<span class="number">-1</span>;i=ne[i])<span class="comment">//çµé­‚åœ¨äºè¿™é‡Œæ¯ä¸€æ¬¡ç´¢å¼•æ›´æ–°ï¼ši=ne[i]ï¼ˆå› ä¸ºé™æ€æ•°ç»„é‡Œé¢ä¸‹æ ‡æ‰€åœ¨ä½ç½®ä¸å›ºå®šäº†ï¼‰</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;e[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="åŒé“¾è¡¨åˆ¶ä½œ"><a href="#åŒé“¾è¡¨åˆ¶ä½œ" class="headerlink" title="åŒé“¾è¡¨åˆ¶ä½œ"></a>åŒé“¾è¡¨åˆ¶ä½œ</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span>&lt;iostream&lt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">20010</span>;</span><br><span class="line"><span class="type">int</span> r[M],prev[M],e[M],index;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initial</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">//åŒé“¾è¡¨ç›¸å¯¹å•é“¾è¡¨çš„åˆå§‹åŒ–ä¸åŒ</span></span><br><span class="line">   r[<span class="number">0</span>]=<span class="number">1</span>;<span class="comment">//æœ€å·¦ç«¯æŒ‡å‘æœ€å³ç«¯</span></span><br><span class="line">   l[<span class="number">1</span>]=<span class="number">0</span>;<span class="comment">//æœ€å³ç«¯æŒ‡å‘æœ€å·¦ç«¯</span></span><br><span class="line">   index=<span class="number">2</span>;<span class="comment">//å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯éå¸¸ç›´ç™½ï¼ŒåŒæ•°è‚¯å®šæ˜¯å‘å³çš„ï¼Œå•æ•°å‘å·¦çš„</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_right</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> k)</span><span class="comment">//ç¬¬kä¸ªçš„å³è¾¹æ’å…¥</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx]=x;</span><br><span class="line">    r[idx]=r[k];</span><br><span class="line">    l[idx]=k;</span><br><span class="line">    <span class="comment">//æ–°èŠ‚ç‚¹çš„å»¶ç”³éƒ¨ä½éƒ½æå®šäº†ï¼Œå¼€å§‹åŒå‘è¿æ¥</span></span><br><span class="line">    l[r[k]]=idx;</span><br><span class="line">    r[k]=idx<span class="comment">//</span></span><br><span class="line">    idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‘å³æ’å°±æ˜¯</span></span><br><span class="line">  <span class="built_in">add_to_right</span>( x, k+<span class="number">1</span>)<span class="comment">//k+1å› ä¸ºindexä»2å¼€å§‹è®¡æ•°</span></span><br><span class="line"><span class="comment">//èªæ˜çš„æ–¹æ³•ï¼Œåœ¨å·¦è¾¹æ’å…¥ç›´æ¥è°ƒç”¨add_to_right(x,l[k]),ä¹Ÿå°±æ˜¯åœ¨kçš„å·¦è¾¹èŠ‚ç‚¹è°ƒç”¨å‘å³æ’ï¼Œç»“æœå°±æ˜¯ç¬¬kä¸ªèŠ‚ç‚¹å·¦è¾¹æ’å…¥</span></span><br><span class="line"><span class="built_in">add_to_right</span>( x, l[k+<span class="number">1</span>])<span class="comment">//åŒç†</span></span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯æœ€å·¦ç«¯æˆ–è€…æœ€å³ç«¯æ›´ç®€å•</span></span><br><span class="line"><span class="comment">//æœ€å·¦ç«¯</span></span><br><span class="line"> <span class="built_in">add_to_right</span>( x, <span class="number">0</span>)</span><br><span class="line"> <span class="comment">//å³ç«¯</span></span><br><span class="line"><span class="built_in">add_to_right</span>( x, l[<span class="number">1</span>])      </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dele</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    r[l[k]]=r[k];</span><br><span class="line">    l[r[k]]=l[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=r[<span class="number">0</span>];i!=<span class="number">1</span>;i=r[i])<span class="comment">//çµé­‚åœ¨äºè¿™é‡Œæ¯ä¸€æ¬¡ç´¢å¼•æ›´æ–°ï¼ši=ne[i]ï¼ˆå› ä¸ºé™æ€æ•°ç»„é‡Œé¢ä¸‹æ ‡æ‰€åœ¨ä½ç½®ä¸å›ºå®šäº†ï¼‰</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;e[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨çš„æ—¶å€™çš„apiï¼š</span></span><br><span class="line">	<span class="built_in">add_to_right</span>( x, k+<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">add_to_left</span>(x,k+<span class="number">1</span>)</span><br><span class="line">	<span class="built_in">dele</span>(k+<span class="number">1</span>)</span><br><span class="line">     ç¬¬kä¸ªæ’å…¥çš„æ•°å·¦è¾¹æ’å…¥ï¼š<span class="built_in">add_to_right</span>(x,l[k+<span class="number">1</span>])</span><br><span class="line">     ç¬¬kä¸ªæ’å…¥çš„æ•°å³è¾¹æ’å…¥ï¼š<span class="built_in">add_to_right</span>(x,k+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒå‘é“¾è¡¨åˆ¶ä½œ</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">	<span class="type">char</span> data;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>* next;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>* pre; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>*p;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>*head;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>*tail;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Home</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p=head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">End</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	p=tail-&gt;pre;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Left</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p==head) <span class="keyword">return</span>;</span><br><span class="line">    p=p-&gt;pre;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Right</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p-&gt;next==tail) <span class="keyword">return</span>;</span><br><span class="line">	p=tail-&gt;pre;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">	<span class="keyword">if</span>(p==head) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>*tmp=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">	tmp=p;</span><br><span class="line">	tmp-&gt;pre-&gt;next=tmp-&gt;next;</span><br><span class="line">	tmp-&gt;next-&gt;pre=tmp-&gt;pre;</span><br><span class="line">	<span class="built_in">free</span>(tmp);</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">char</span> s[<span class="number">50010</span>];</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>*head=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>*tail=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Node</span>*p=head;</span><br><span class="line">	head-&gt;next=tail;</span><br><span class="line">	tail-&gt;pre=head;</span><br><span class="line">	tail-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	head-&gt;pre=<span class="literal">NULL</span>; </span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;s[i]!=<span class="string">&#x27;\0&#x27;</span>;i++)</span><br><span class="line">	&#123;</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">if</span>(s[i]==<span class="string">&#x27;&#123;&#x27;</span>) <span class="built_in">Home</span>();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;&#125;&#x27;</span>) <span class="built_in">End</span>();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;&lt;&#x27;</span>) <span class="built_in">Left</span>();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;&gt;&#x27;</span>) <span class="built_in">Right</span>();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">&#x27;#&#x27;</span>) <span class="built_in">Back</span>();</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">struct</span> Node*q=(<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> Node));</span><br><span class="line">			q-&gt;data=s[i];</span><br><span class="line">			q-&gt;pre=p;</span><br><span class="line">			q-&gt;next=p-&gt;next;</span><br><span class="line">			p-&gt;next-&gt;pre=q;</span><br><span class="line">			p-&gt;next=q;</span><br><span class="line">			p=p-&gt;next;</span><br><span class="line">			&#125;	</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(p=head-&gt;next;p!=tail;p=p-&gt;next)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,p-&gt;data);</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">100090</span>;</span><br><span class="line"><span class="type">int</span> nex[M];</span><br><span class="line"><span class="type">int</span> pre[M];</span><br><span class="line"><span class="type">int</span> valu[M];</span><br><span class="line"><span class="type">int</span> idx;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initial</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">//åŒé“¾è¡¨ç›¸å¯¹å•é“¾è¡¨çš„åˆå§‹åŒ–ä¸åŒ</span></span><br><span class="line">   nex[<span class="number">0</span>]=<span class="number">1</span>;<span class="comment">//æœ€å·¦ç«¯æŒ‡å‘æœ€å³ç«¯</span></span><br><span class="line">   pre[<span class="number">1</span>]=<span class="number">0</span>;<span class="comment">//æœ€å³ç«¯æŒ‡å‘æœ€å·¦ç«¯</span></span><br><span class="line">   idx=<span class="number">2</span>;<span class="comment">//å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯éå¸¸ç›´ç™½ï¼ŒåŒæ•°è‚¯å®šæ˜¯å‘å³çš„ï¼Œå•æ•°å‘å·¦çš„</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_to_right</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    valu[idx]=x;</span><br><span class="line">    nex[idx]=nex[k];</span><br><span class="line">    pre[idx]=k;</span><br><span class="line">    <span class="comment">//æ–°èŠ‚ç‚¹çš„å»¶ç”³éƒ¨ä½éƒ½æå®šäº†ï¼Œå¼€å§‹åŒå‘è¿æ¥</span></span><br><span class="line">    pre[nex[k]]=idx;</span><br><span class="line">    nex[k]=idx;<span class="comment">//</span></span><br><span class="line">    idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ›´èªæ˜çš„æ–¹æ³•ï¼Œåœ¨å·¦è¾¹æ’å…¥ç›´æ¥è°ƒç”¨add_to_right(x,prev[k]),ä¹Ÿå°±æ˜¯åœ¨kçš„å·¦è¾¹èŠ‚ç‚¹è°ƒç”¨å‘å³æ’</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dele</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    nex[pre[k]]=nex[k];</span><br><span class="line">    pre[nex[k]]=pre[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> tem;</span><br><span class="line">    <span class="type">int</span> index;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="built_in">initial</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        string a;</span><br><span class="line">        cin&gt;&gt;a;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;D&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;index;</span><br><span class="line">            <span class="built_in">dele</span>(index+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;L&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;tem;</span><br><span class="line">            <span class="built_in">add_to_right</span>(tem,<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;R&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;tem;</span><br><span class="line">            <span class="built_in">add_to_right</span>(tem,pre[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;IL&quot;</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;index&gt;&gt;tem;</span><br><span class="line">            <span class="built_in">add_to_right</span>(tem,pre[index+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;IR&quot;</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt;index&gt;&gt;tem;</span><br><span class="line">            <span class="built_in">add_to_right</span>(tem,index+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=nex[<span class="number">0</span>];i!=<span class="number">1</span>;i=nex[i])</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;valu[i] &lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h6 id="é“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆ"><a href="#é“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆ" class="headerlink" title="é“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆ"></a>é“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆ</h6><p>åº”ç”¨ï¼šåŠ›æ‰£19é¢˜</p>
<p>æ–¹æ³•ï¼šæœªçŸ¥é“¾è¡¨é•¿åº¦æƒ…å†µä¸‹é€šè¿‡é€’å½’è·å–é•¿åº¦</p>
<p><strong>æ³¨æ„è¿™ç§é€’å½’æœ¬è´¨ä¸Šæ˜¯é€†åºè¿›è¡Œæ‰«æï¼Œä»nullæ‰«æåˆ°headï¼ˆä¸æ˜¯ç©ºèŠ‚ç‚¹å¤´ï¼Œè€Œæ˜¯å­˜æ”¾ç¬¬ä¸€ä¸ªå€¼çš„å¤´ï¼‰</strong></p>
<p>è¯»å–é¡ºåºè®²è§£ï¼š</p>
<p>ä»¥1234ï¼Œ2ç¤ºä¾‹å¦‚æœ‰a,b,c,då››ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«å­˜æ”¾1ï¼Œ2ï¼Œ3ï¼Œ4ï¼ˆaæ˜¯å¤´4æ˜¯å°¾ï¼Œ4-&gt;next&#x3D;NULLï¼‰</p>
<p>é‚£ä¹ˆè°ƒç”¨å‡½æ•°lengthæ—¶å€™ä¼šå…ˆä¸€ç›´å‘ä¸‹æ‰«æï¼ˆå› ä¸ºæœªæ»¡è¶³æ¡ä»¶ä¹‹å‰ä¸ä¼šè¿›è¡Œreturnï¼‰ï¼Œæ‰«æåˆ°dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nullè¿™æ—¶è¿”å›1-&gt;åˆ°è¾¾èŠ‚ç‚¹dï¼Œï¼ˆ<strong>å› ä¸ºæœ‰pos&#x3D;length(node-&gt;next,n)+1,+1å¯¼è‡´ä»èŠ‚ç‚¹nullè¿”å›dæ—¶å€™poså˜æˆ1</strong>ï¼‰è¿”å›2ï¼ˆåˆ°è¾¾èŠ‚ç‚¹cï¼‰ï¼Œè¿”å›3ï¼ˆåˆ°è¾¾èŠ‚ç‚¹bï¼‰ï¼Œæ³¨æ„<strong>è¿™æ—¶å€™æ»¡è¶³å€’åºæ‰«æåˆ°ç¬¬ä¸‰ä¸ªäº†ï¼Œä¹Ÿå°±æ˜¯è¦åˆ é™¤çš„èŠ‚ç‚¹å†å‘ä¸Šå›æº¯äº†1ä½</strong>,å› æ­¤åˆ é™¤èŠ‚ç‚¹c,å³node-&gt;next&#x3D;node-&gt;next-&gt;next**(bæŒ‡å‘cå˜æˆbæŒ‡å‘d)**</p>
<p>å¥½å¤„ï¼šæ—¶é—´å°‘ï¼ˆåªç”¨æ‰«æä¸€æ¬¡ï¼‰ï¼Œç©ºé—´å°‘ï¼ˆæ²¡æœ‰é¢å¤–å¼€è¾ŸæŒ‡é’ˆï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:<span class="comment">//å°è¯•é€’å½’è§£å†³</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">(ListNode *node,<span class="type">int</span> n)</span><span class="comment">//è¿™ä¸€æ®µåƒä¸‡åƒä¸‡æ³¨æ„æ˜¯å€’åºï¼Œå€’å™è¿›è¡Œè¯»å–ï¼ï¼ï¼</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(node==<span class="literal">NULL</span>)<span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//é€’å½’åœæ­¢</span></span><br><span class="line">        <span class="type">int</span> pos=<span class="built_in">length</span>(node-&gt;next,n)+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(pos==n+<span class="number">1</span>)<span class="comment">//è¿›è¡Œåˆ¤æ–­äº†ï¼Œè¯´æ˜åœ¨ç¬¬å‡ å±‚é€’å½’</span></span><br><span class="line">            node-&gt;next=node-&gt;next-&gt;next;</span><br><span class="line">        <span class="keyword">return</span> pos;<span class="comment">//é€’å½’å±‚å±‚å›æº¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> pos =<span class="built_in">length</span>(head,n);</span><br><span class="line">        <span class="keyword">if</span>(pos==n)<span class="keyword">return</span> head-&gt;next;<span class="comment">//é“¾è¡¨æ€»é•¿åº¦åˆšå¥½ç­‰äºå€’é€€é•¿åº¦ï¼Œå³å¤„ç†å¤´èŠ‚ç‚¹æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">return</span> head;<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒç½‘å€ï¼š<a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-linked-list/solution/fan-zhuan-lian-biao-shuang-zhi-zhen-di-gui-yao-mo-/" >ã€åè½¬é“¾è¡¨ã€‘ï¼šåŒæŒ‡é’ˆï¼Œé€’å½’ï¼Œå¦–é­”åŒ–çš„åŒæŒ‡é’ˆ - åè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="åŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰"><a href="#åŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰" class="headerlink" title="åŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰"></a>åŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰</h6><h6 id="-1"><a href="#-1" class="headerlink" title=""></a><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/8951bc3b8b7eb4da2a46063c1bb96932e7a69910c0a93d973bd8aa5517e59fc8.gif"
                      alt="img"
                ></h6><p>åŸç†ï¼šé“¾è¡¨è‡ªèº«å¸¦æœ‰é€’å½’å±æ€§ï¼ˆä¸€ä¸ªå¤§é—®é¢˜å¯ä»¥æ‹†è§£æˆå°é—®é¢˜ï¼‰</p>
<p>å°†é“¾è¡¨æ‹†åˆ†æˆå¤´èŠ‚ç‚¹å’Œå‰©ä½™èŠ‚ç‚¹ï¼ŒåŒç†ç»§ç»­æ‹†è§£ï¼Œä¸€ç›´æ‹†è§£åˆ°æœ€åçš„å°¾èŠ‚ç‚¹å’Œå‰é¢çš„ä¸€å †â€œå¤´â€èŠ‚ç‚¹,<strong>æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸éœ€è¦è¿›è¡Œç¿»è½¬</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/1611457324-INLSje-image.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/1611457360-ZminDz-image.png"
                      alt="image.png"
                ></p>
<p>è¿™é‡Œå°±æ˜¯å¯¹äºå­é—®é¢˜ï¼Œå°†å­é“¾è¡¨è¿›è¡Œç¿»è½¬ï¼Œå°±å¯ä»¥å¾—åˆ°æ•´ä¸ªé“¾è¡¨çš„åè½¬ï¼Œä¹Ÿå°±æ˜¯é€’å½’çš„ç¬¬ä¸€æ­¥</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨é€’æ¨å…¬å¼åè½¬å½“å‰ç»“ç‚¹ä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">// è¿”å›çš„ç»“æœæ˜¯åè½¬åçš„é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span><br><span class="line">    ListNode newHead = <span class="built_in">reverseList</span>(head.next);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå‡è®¾åç»­å­é“¾è¡¨å·²ç»å…¨éƒ¨å®Œæˆç¿»è½¬ï¼Œé‚£ä¹ˆåªéœ€è¦å¯¹â€œå¤´èŠ‚ç‚¹â€å®Œæˆç¿»è½¬</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/1611457400-xIhTwQ-image.png"
                      alt="image.png"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/1611457409-hQkmzj-image.png"
                      alt="image.png"
                ></p>
<p>ä¹Ÿå°±æ˜¯</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">head-&gt;next-&gt;neat=head;</span><br><span class="line">head-&gt;next=<span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>

<p>å®Œå–„ä¹‹åå°±æ˜¯æœ‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨é€’æ¨å…¬å¼åè½¬å½“å‰ç»“ç‚¹ä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">// è¿”å›çš„ç»“æœæ˜¯åè½¬åçš„é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span><br><span class="line">    ListNode newHead = <span class="built_in">reverseList</span>(head.next);</span><br><span class="line">    <span class="comment">//åˆ°è¿™é‡Œå·²ç»æ˜¯å‡è®¾åé¢çš„é“¾è¡¨éƒ¨åˆ†å·²ç»å…¨éƒ¨åè½¬å®Œæˆï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦å¤„ç†å¤´èŠ‚ç‚¹å’Œå‰©ä½™éƒ¨åˆ†çš„å…³ç³»</span></span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = null;</span><br><span class="line">    <span class="keyword">return</span> newHead;<span class="comment">//æ³¨æ„å“¦ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯newheadï¼Œå› ä¸ºnewheadæ˜¯åè½¬ä¹‹åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œå³æœ€å°¾éƒ¨çš„èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å†åŠ ä¸Šçº¦æŸæ¡ä»¶ï¼ˆé€’å½’ç»ˆæ­¢æ¡ä»¶ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">if (head == NULL || head-&gt;next == NULL) &#123;//è¿”å›æ¡ä»¶/ç»“æŸé€’å½’æ¡ä»¶</span></span><br><span class="line"><span class="comment">            return head;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>) &#123;<span class="comment">//è¿”å›æ¡ä»¶/ç»“æŸé€’å½’æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* ret = <span class="built_in">reverseList</span>(head-&gt;next);<span class="comment">//è¿™é‡Œé€’å½’ï¼Œretä¼šåœ¨èµ°åˆ°é“¾è¡¨æœ«ç«¯å¼€å§‹ç¿»è½¬</span></span><br><span class="line">        head-&gt;next-&gt;next = head;</span><br><span class="line">        head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> ret;<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*æ‰§è¡Œèµ·æ¥å¤§æ¦‚æ˜¯è¿™ä¹ˆä¸€ä¸ªæ—¢è§†æ„Ÿ</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure>



<h6 id="åŒæŒ‡é’ˆå®ç°é€†åº"><a href="#åŒæŒ‡é’ˆå®ç°é€†åº" class="headerlink" title="åŒæŒ‡é’ˆå®ç°é€†åº"></a>åŒæŒ‡é’ˆå®ç°é€†åº</h6><p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/9ce26a709147ad9ce6152d604efc1cc19a33dc5d467ed2aae5bc68463fdd2888.gif"
                      alt="img"
                ></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        ListNode* cur = <span class="literal">NULL</span>, *pre = head;</span><br><span class="line">        <span class="keyword">while</span> (pre != <span class="literal">NULL</span>) &#123;<span class="comment">//ç»ˆæ­¢æ¡ä»¶ï¼Œæœ€åçš„æŒ‡é’ˆpreèµ°åˆ°æœ«å°¾åœæ­¢</span></span><br><span class="line">            ListNode* temp = pre-&gt;next;</span><br><span class="line">            pre-&gt;next = cur;<span class="comment">//å¼€å§‹åç½®æŒ‡é’ˆæŒ‡å‘</span></span><br><span class="line">            <span class="comment">//curå’Œpreæ•´ä½“å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®</span></span><br><span class="line">            cur = pre;</span><br><span class="line">            pre = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŸç†ï¼šä¸€å¼€å§‹åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆpreå’Œcurï¼ŒpreæŒ‡å‘headï¼ŒcuræŒ‡å‘nullï¼Œtemæœ‰ç‚¹ç±»ä¼¼æŒ‡é’ˆäº¤æ¢æ•°å€¼ä¸­çš„temï¼ŒæŒ‡å‘æ­£å¸¸é“¾è¡¨é¡ºåºçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¿™é‡Œå°±æ˜¯head-&gt;nextï¼‰ï¼Œ</p>
<hr>
<h6 id="æœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’-x2F-bushiï¼‰"><a href="#æœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’-x2F-bushiï¼‰" class="headerlink" title="æœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’&#x2F;bushiï¼‰"></a><strong>æœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’&#x2F;bushiï¼‰</strong></h6><p>æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="literal">NULL</span>) &#123;<span class="comment">//ç»ˆæ­¢æ¡ä»¶ï¼šl1èµ°åˆ°æœ«å°¾äº†</span></span><br><span class="line">            <span class="keyword">return</span> l2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="literal">NULL</span>) &#123;<span class="comment">//ç»ˆæ­¢æ¡ä»¶ï¼šl2èµ°åˆ°æœ«å°¾äº†</span></span><br><span class="line">            <span class="keyword">return</span> l1;<span class="comment">//å‰©ä¸‹çš„éƒ½å¼„ä¸Šå»å°±æ˜¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//åˆ†å‰²çº¿</span></span><br><span class="line">        <span class="keyword">if</span> (l1-&gt;val &lt;= l2-&gt;val) &#123;</span><br><span class="line">            l1-&gt;next = <span class="built_in">mergeTwoLists</span>(l1-&gt;next, l2);<span class="comment">//å¯¹l1çš„å‰©ä½™éƒ¨åˆ†è¿›è¡Œä¸€ä¸ªé€’å½’æ“ä½œ</span></span><br><span class="line">            <span class="comment">//é‡ç‚¹éƒ¨åˆ†mergeTwoLists(l1-&gt;next, l2)ï¼Œå¯¹l1åé¢çš„å…ƒç´ å¤„ç†</span></span><br><span class="line">        </span><br><span class="line">            <span class="keyword">return</span> l1;<span class="comment">//å› ä¸ºL1çš„è¿™ä¸ªå…ƒç´ å°ï¼Œå› æ­¤æŠŠå®ƒæ‹å‡ºæ¥</span></span><br><span class="line">        &#125;</span><br><span class="line">        l2-&gt;next = <span class="built_in">mergeTwoLists</span>(l1, l2-&gt;next);<span class="comment">//å¯¹l2çš„å‰©ä½™éƒ¨åˆ†è¿›è¡Œé€’å½’æ“ä½œï¼Œl2-&gt;nextåŒç†</span></span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> l2;<span class="comment">//åŒç†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">è§£é‡Šçš„ä¸€ä¸ªéƒ¨åˆ†</span><br><span class="line"></span><br><span class="line">å…³äº<span class="keyword">return</span> L1çš„ä¸ªäººç†è§£: é€’å½’çš„æ ¸å¿ƒåœ¨äº,æˆ‘åªå…³æ³¨æˆ‘è¿™ä¸€å±‚è¦å¹²ä»€ä¹ˆ,è¿”å›ä»€ä¹ˆ,è‡³äºæˆ‘çš„ä¸‹ä¸€å±‚(è§„æ¨¡å‡<span class="number">1</span>),æˆ‘ä¸ç®¡,æˆ‘å°±æ˜¯ç”©æ‰‹æŒæŸœ.</span><br><span class="line"></span><br><span class="line">å¥½,ç°åœ¨æˆ‘è¦merge L1,L2.æˆ‘è¦æ€ä¹ˆåš?</span><br><span class="line"></span><br><span class="line">- æ˜¾ç„¶,å¦‚æœL1ç©ºæˆ–L2ç©º,æˆ‘ç›´æ¥è¿”å›L2æˆ–L1å°±è¡Œ,è¿™å¾ˆå¥½ç†è§£.<span class="comment">//ä¸Šæ–¹çš„ä¸¤ä¸ªNULLæƒ…å†µ</span></span><br><span class="line">- <span class="comment">//å¦‚æœL1ç¬¬ä¸€ä¸ªå…ƒç´ å°äºL2çš„? é‚£æˆ‘å¾—æŠŠL1çš„è¿™ä¸ªå…ƒç´ æ”¾åˆ°æœ€å‰é¢,è‡³äºåé¢çš„é‚£ä¸²é•¿å•¥æ · ,æˆ‘ä¸ç®¡. æˆ‘åªè¦æ¥è¿‡ä¸‹çº§å‘˜å·¥å¹²å®Œæ´»åç»™æˆ‘çš„åŒ…è£¹, ç„¶åæŠŠæˆ‘å¹²çš„æ´»é™„ä¸Šå»(ä»¤L1-&gt;next = è¿™ä¸ªåŒ…è£¹)å°±è¡Œ</span></span><br><span class="line">- è¿™ä¸ªåŒ…è£¹æ˜¯ä¸‹çº§å‘˜å·¥å¹²çš„æ´»,å³<span class="built_in">merge</span>(L1-&gt;next, L2)</span><br><span class="line"></span><br><span class="line">æˆ‘è¯¥è¿”å›å•¥?</span><br><span class="line"></span><br><span class="line">- ç°åœ¨ä¸ç®¡æˆ‘çš„ä¸‹ä¸€å±‚å¹²äº†ä»€ä¹ˆ,åˆè¿”å›äº†ä»€ä¹ˆç»™æˆ‘, æˆ‘åªè¦çŸ¥é“,å‡è®¾æˆ‘çš„å·¥å…·äººä»¬éƒ½å®Œæˆäº†ä»»åŠ¡, é‚£æˆ‘çš„ä»»åŠ¡ä¹Ÿå°±å®Œæˆäº†,å¯ä»¥è¿”å›æœ€ç»ˆç»“æœäº†</span><br><span class="line">- æœ€ç»ˆç»“æœå°±æ˜¯æˆ‘ä¸€å¼€å§‹æ¥æ‰‹çš„L1å¤´ç»“ç‚¹+ä¸‹çº§å‘˜å·¥ç»™æˆ‘çš„å¤§åŒ…è£¹,è¦ä¸€å¹¶äº¤ä¸Šå», è¿™æ ·æˆ‘çš„bossæ‰èƒ½æ ¹æ®æˆ‘ç»™å®ƒçš„L1å¤´èŠ‚ç‚¹å¾€ä¸‹æ‰¾,æ£€æŸ¥æˆ‘å®Œæˆçš„å·¥ä½œ</span><br></pre></td></tr></table></figure>

<h6 id="å›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰"><a href="#å›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰" class="headerlink" title="å›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰"></a>å›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰</h6><p><strong>æ˜ å°„åˆ°æ•°ç»„ä¸Šå†å¯¹æ•°ç»„è¿›è¡Œæ“ä½œ</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; vals;</span><br><span class="line">        <span class="keyword">while</span> (head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            vals.<span class="built_in">emplace_back</span>(head-&gt;val);<span class="comment">//ä½¿ç”¨è¿­ä»£å™¨æ›´åŠ èŠ‚çœæ—¶é—´ä¸€äº›ï¼Œå¦‚æœæ˜¯æ•°ç»„ä¼šæŠ¥é”™</span></span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = (<span class="type">int</span>)vals.<span class="built_in">size</span>() - <span class="number">1</span>; i &lt; j; ++i, --j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vals[i] != vals[j]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜é›…é€’å½’</strong></p>
<p>éå†èŠ‚ç‚¹çš„æ–¹å¼<strong>å¯æ˜¯æˆ‘çœ‹ä¸æ‡‚</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    ListNode* frontPointer;<span class="comment">//è¿™ä¸ªæ˜¯å‰æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">recursivelyCheck</span><span class="params">(ListNode* currentNode)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (currentNode != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">recursivelyCheck</span>(currentNode-&gt;next)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (currentNode-&gt;val != frontPointer-&gt;val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            frontPointer = frontPointer-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        frontPointer = head;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">recursivelyCheck</span>(head);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼šcurrentNode æŒ‡é’ˆæ˜¯å…ˆåˆ°å°¾èŠ‚ç‚¹ï¼Œç”±äºé€’å½’çš„ç‰¹æ€§å†ä»åå¾€å‰è¿›è¡Œæ¯”è¾ƒã€‚frontPointer æ˜¯é€’å½’å‡½æ•°å¤–çš„æŒ‡é’ˆã€‚è‹¥ currentNode.val !&#x3D; frontPointer.val åˆ™è¿”å› falseã€‚åä¹‹ï¼ŒfrontPointer å‘å‰ç§»åŠ¨å¹¶è¿”å› trueã€‚</p>
<p>å¤æ‚åº¦åˆ†æ</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æŒ‡çš„æ˜¯é“¾è¡¨çš„å¤§å°ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æŒ‡çš„æ˜¯é“¾è¡¨çš„å¤§å°ã€‚æˆ‘ä»¬è¦ç†è§£è®¡ç®—æœºå¦‚ä½•è¿è¡Œé€’å½’å‡½æ•°ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè®¡ç®—æœºéœ€è¦åœ¨è¿›å…¥è¢«è°ƒç”¨å‡½æ•°ä¹‹å‰è·Ÿè¸ªå®ƒåœ¨å½“å‰å‡½æ•°ä¸­çš„ä½ç½®ï¼ˆä»¥åŠä»»ä½•å±€éƒ¨å˜é‡çš„å€¼ï¼‰ï¼Œé€šè¿‡è¿è¡Œæ—¶å­˜æ”¾åœ¨å †æ ˆä¸­æ¥å®ç°ï¼ˆå †æ ˆå¸§ï¼‰ã€‚åœ¨å †æ ˆä¸­å­˜æ”¾å¥½äº†æ•°æ®åå°±å¯ä»¥è¿›å…¥è¢«è°ƒç”¨çš„å‡½æ•°ã€‚åœ¨å®Œæˆè¢«è°ƒç”¨å‡½æ•°ä¹‹åï¼Œä»–ä¼šå¼¹å‡ºå †æ ˆé¡¶éƒ¨å…ƒç´ ï¼Œä»¥æ¢å¤åœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨ä¹‹å‰æ‰€åœ¨çš„å‡½æ•°ã€‚åœ¨è¿›è¡Œå›æ–‡æ£€æŸ¥ä¹‹å‰ï¼Œé€’å½’å‡½æ•°å°†åœ¨å †æ ˆä¸­åˆ›å»º nn ä¸ªå †æ ˆå¸§ï¼Œè®¡ç®—æœºä¼šé€ä¸ªå¼¹å‡ºè¿›è¡Œå¤„ç†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨é€’å½’æ—¶ç©ºé—´å¤æ‚åº¦è¦è€ƒè™‘å †æ ˆçš„ä½¿ç”¨æƒ…å†µã€‚<br>è¿™ç§æ–¹æ³•ä¸ä»…ä½¿ç”¨äº† O(n)O(n) çš„ç©ºé—´ï¼Œä¸”æ¯”ç¬¬ä¸€ç§æ–¹æ³•æ›´å·®ï¼Œå› ä¸ºåœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œå †æ ˆå¸§çš„å¼€é”€å¾ˆå¤§ï¼ˆå¦‚ Pythonï¼‰ï¼Œå¹¶ä¸”æœ€å¤§çš„è¿è¡Œæ—¶å †æ ˆæ·±åº¦ä¸º 1000ï¼ˆå¯ä»¥å¢åŠ ï¼Œä½†æ˜¯æœ‰å¯èƒ½å¯¼è‡´åº•å±‚è§£é‡Šç¨‹åºå†…å­˜å‡ºé”™ï¼‰ã€‚ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºå †æ ˆå¸§æå¤§çš„é™åˆ¶äº†ç®—æ³•èƒ½å¤Ÿå¤„ç†çš„æœ€å¤§é“¾è¡¨å¤§å°ã€‚</p>
<p><strong>å¿«æ…¢æŒ‡é’ˆ</strong></p>
<p>å¾ˆä¼˜é›…**<del>ä½†æ˜¯æˆ‘ç…§æ ·çœ‹ä¸æ‡‚</del>***<strong>æ²¡æƒ³åˆ°å§è€å­çœ‹æ‡‚äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰¾åˆ°å‰åŠéƒ¨åˆ†é“¾è¡¨çš„å°¾èŠ‚ç‚¹å¹¶åè½¬ååŠéƒ¨åˆ†é“¾è¡¨</span></span><br><span class="line">        ListNode* firstHalfEnd = <span class="built_in">endOfFirstHalf</span>(head);<span class="comment">//è¿”å›æ…¢çš„é‚£ä¸€åŠ</span></span><br><span class="line">        ListNode* secondHalfStart = <span class="built_in">reverseList</span>(firstHalfEnd-&gt;next);<span class="comment">//å¯¹ä¸­é—´å¼€å§‹å¾€å³çš„ç¬¬ä¸€ä¸ªå¼€å§‹ç¿»è½¬</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦å›æ–‡</span></span><br><span class="line">        ListNode* p1 = head;</span><br><span class="line">        ListNode* p2 = secondHalfStart;</span><br><span class="line">        <span class="type">bool</span> result = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (result &amp;&amp; p2 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p1-&gt;val != p2-&gt;val) &#123;</span><br><span class="line">                result = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p1 = p1-&gt;next;</span><br><span class="line">            p2 = p2-&gt;next;</span><br><span class="line">        &#125;        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿˜åŸé“¾è¡¨å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">        firstHalfEnd-&gt;next = <span class="built_in">reverseList</span>(secondHalfStart);<span class="comment">//ä¸ºäº†ä¿è¯é“¾è¡¨æœ¬èº«ä¸å˜ï¼Œå®é™…ä¸Šå¯ä»¥çœç•¥ï¼ˆå¤§æ¦‚ï¼‰</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;<span class="comment">//æ˜¯ä½ æœ€çˆ±çš„åŒæŒ‡é’ˆç¿»è½¬æ³•</span></span><br><span class="line">        ListNode* prev = <span class="literal">nullptr</span>;</span><br><span class="line">        ListNode* curr = head;</span><br><span class="line">        <span class="keyword">while</span> (curr != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            ListNode* nextTemp = curr-&gt;next;</span><br><span class="line">            curr-&gt;next = prev;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = nextTemp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">endOfFirstHalf</span><span class="params">(ListNode* head)</span> </span>&#123;<span class="comment">//å¿«æ…¢æŒ‡é’ˆï¼Œå¿«çš„èµ°ä¿©ï¼Œæ…¢çš„èµ°1ï¼Œåœ¨ä¸­ç‚¹åœæ­¢</span></span><br><span class="line">        ListNode* fast = head;</span><br><span class="line">        ListNode* slow = head;</span><br><span class="line">        <span class="keyword">while</span> (fast-&gt;next != <span class="literal">nullptr</span> &amp;&amp; fast-&gt;next-&gt;next != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fast = fast-&gt;next-&gt;next;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="zhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ª"><a href="#zhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ª" class="headerlink" title="zhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ª"></a>zhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ª</h4><h6 id="å‰è¨€ï¼š-1"><a href="#å‰è¨€ï¼š-1" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h6><p>æ ˆå±äºä¸€ç§FILOæ•°æ®ç»“æ„ï¼Œç±»ä¼¼é˜‰å‰²ç‰ˆæœ¬çš„é¡ºåºè¡¨ï¼Œåœ¨è®¡ç®—æœºä¸­æœ‰éå¸¸å¹¿æ³›çš„åº”ç”¨</p>
<p>ä¾‹ï¼šä½¿ç”¨é€’å½’æ—¶ï¼Œç¼–è¯‘å™¨è‡ªèº«å¯¹äºé€’å½’æŒ‡ä»¤çš„ä½¿ç”¨å°±æ˜¯ä¸€ç§æ ˆï¼Œæˆ–è€…è®¡ç®—ä¸­ç¼€è¡¨è¾¾å¼ï¼ˆé€šè¿‡å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œå†å¯¹åç¼€è¡¨è¾¾å¼è¿›è¡Œæ ˆè¿ç®—å°±å¯ä»¥å¾—å‡ºç»“æœï¼‰-&gt;å…¨éƒ¨åˆ©ç”¨æ ˆçš„FILOç»“æ„</p>
<h6 id="æ ˆåˆ¶é€ æ–¹å¼"><a href="#æ ˆåˆ¶é€ æ–¹å¼" class="headerlink" title="æ ˆåˆ¶é€ æ–¹å¼"></a>æ ˆåˆ¶é€ æ–¹å¼</h6><ul>
<li>æ•°ç»„æ ˆ-&gt;éå¸¸éå¸¸easy</li>
<li>é“¾è¡¨æ ˆ-&gt;å‚è€ƒé“¾è¡¨ï¼Œä½†æ˜¯é˜‰å‰²</li>
</ul>
<h6 id="æ ˆåšéé™è·¯å¾„é—®é¢˜"><a href="#æ ˆåšéé™è·¯å¾„é—®é¢˜" class="headerlink" title="æ ˆåšéé™è·¯å¾„é—®é¢˜"></a>æ ˆåšéé™è·¯å¾„é—®é¢˜</h6><p>ç¦»æ•£æ•°å­¦ç»„åˆæ•°å­¦é‡Œé¢çš„ä¸œè¥¿ï¼Œå¦‚æœå¯¹ä¸€ä¸ªæ ˆä»…å…è®¸å‡ºæ ˆå…¥æ ˆæ“ä½œï¼Œå¯¹è¾“å…¥å›ºå®šé•¿åº¦å­—æ¯æ±‚æ‰€æœ‰çš„è¾“å‡ºæ¨¡å¼ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ä¸€ä¸ªéé™è·¯å¾„ï¼Œåªéœ€è¦è®¡ç®—ä»(0,0)åˆ°(n,n)çš„ä¸ç»è¿‡y&#x3D;x+1çš„æ‰€æœ‰è·¯å¾„</p>
<h6 id="ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼"><a href="#ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼" class="headerlink" title="ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼"></a>ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼</h6><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/wujing1_1/article/details/107774753?ops_request_misc=%7B%22request_id%22:%22166755340216782425667308%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166755340216782425667308&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-107774753-null-null.142%5Ev63%5Econtrol,201%5Ev3%5Econtrol_1,213%5Ev1%5Et3_control1&utm_term=%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BD%AC%E5%90%8E%E7%BC%80&spm=1018.2226.3001.4187" >(104æ¡æ¶ˆæ¯) ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ–¹æ³•_èªªè©¤æ¦¢çš„åšå®¢-CSDNåšå®¢_ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="æ­£åˆ™è¡¨è¾¾å¼åˆ†æ"><a href="#æ­£åˆ™è¡¨è¾¾å¼åˆ†æ" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼åˆ†æ"></a>æ­£åˆ™è¡¨è¾¾å¼åˆ†æ</h6><p>åˆ†æï¼š</p>
<ul>
<li><strong>ä½¿ç”¨æ ˆæ¥æ±‚ï¼š</strong>ä¸­ç¼€è¡¨è¾¾å¼å¯ä»¥æ‹†åˆ†æˆä¸€æ£µä¸­ç¼€æ ‘ï¼Œåç¼€ç±»ä¼¼æ‹†åˆ†æˆåç¼€æ ‘ï¼Œå¦‚ï¼ˆ1+1ï¼‰<em>ï¼ˆ2+2ï¼‰ï¼Œä¸­ç¼€ä¸­æ ¹èŠ‚ç‚¹æ˜¯</em>ï¼Œå¶èŠ‚ç‚¹æ˜¯+ï¼Œå¶å­æ˜¯1 1 2 2ï¼Œå¦‚æœç”¨æ ‘çš„æ€æƒ³å»åšåº”è¯¥ä½¿ç”¨æ ‘çš„ä¸­åºéå†ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä¸å¥½å¤„ç†è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é—®é¢˜ï¼Œè€Œæ”¹é€ æˆåç¼€è¡¨è¾¾å¼å°±ä¼šæ–¹ä¾¿å¾ˆå¤šï¼Œå¦‚åŒä¸Šä¾‹å­æ¢æˆåç¼€è¡¨è¾¾å¼å˜æˆäº†1 1 + 2 2 + *ï¼Œç„¶åä½¿ç”¨æ ˆæ¥è¿›è¡Œè¿ç®—ï¼Œæ•°å­—å‹æ ˆï¼Œè¿ç®—ç¬¦å‡ºæ ˆä¸¤ä¸ªè¿›è¡Œè¿ç®—åå†æ¬¡å‹æ ˆï¼Œè¿™æ ·å°±å¯ä»¥é¿å¼€è¿ç®—ç¬¦ä¼˜å…ˆçº§çš„å¤„ç†é—®é¢˜ï¼ˆ<del><strong>ç›¸å¯¹æ›´å¥½ç†è§£ä¸€äº›è€Œä¸”ä¸éœ€è¦æ­å»ºæ ‘ï¼Œå¯ä»¥ä½¿ç”¨æ ˆæ¥æ</strong></del>ï¼‰</li>
<li><strong>ä½¿ç”¨é€’å½’æ¥æ±‚ï¼š</strong>å·²çŸ¥å°†è¯¥è¡¨è¾¾å¼æŠ½è±¡æˆä¸ºä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆå¯¹æ¯ä¸ªå­æ ‘ä½¿ç”¨é€’å½’æ±‚å€¼å¯ä»¥ä¸æ–­å‰Šå‡æ ‘çš„å±‚æ•°ï¼Œæœ€åè·å¾—æ ¹æ ‘çš„å€¼ï¼ˆ**<del>å¾ˆç‰›é€¼ä½†æ˜¯å¾ˆéº»çƒ¦ï¼Œè¦æå‰æ¥è§¦åˆ°æ ‘</del>**ï¼‰</li>
</ul>
<p>è¿™é‡Œä½¿ç”¨æ ˆæ¥è¿›è¡Œä¸€ä¸ªä¸­ç¼€è¡¨è¾¾å¼çš„è®¡ç®—</p>
<p>å…ˆçœ‹ä¸‹åªæœ‰ + å’Œ * çš„ã€‚</p>
<p>è¾“å…¥é•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š1+2+3<em>4</em>5</p>
<p>è¾“å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œå³ï¼š63</p>
<p>åº”è¯¥ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Ÿ</p>
<p>æ ˆã€‚</p>
<p>åº”è¯¥å…ˆè®¡ç®—å“ªä¸€æ­¥ï¼Ÿ</p>
<p>å®é™…åº”è¯¥å…ˆè®¡ç®—1+2ã€‚</p>
<p>â€œè¡¨è¾¾å¼æ±‚å€¼â€é—®é¢˜ï¼Œä¸¤ä¸ªæ ¸å¿ƒå…³é”®ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰åŒæ ˆï¼Œä¸€ä¸ªæ“ä½œæ•°æ ˆï¼Œä¸€ä¸ªè¿ç®—ç¬¦æ ˆï¼›</p>
<p>ï¼ˆ2ï¼‰è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œæ ˆé¡¶è¿ç®—ç¬¦ï¼Œå’Œï¼Œå³å°†å…¥æ ˆçš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”è¾ƒï¼š</p>
<p>å¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œæ–°è¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ</p>
<p>å¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜ï¼Œå…ˆå‡ºæ ˆè®¡ç®—ï¼Œæ–°è¿ç®—ç¬¦å†å…¥æ ˆ</p>
<p>ä»ä»¥1+2+3<em>4</em>5ä¸¾ä¾‹ï¼Œçœ‹æ˜¯å¦‚ä½•åˆ©ç”¨ä¸Šè¿°ä¸¤ä¸ªå…³é”®ç‚¹å®æ–½è®¡ç®—çš„ã€‚</p>
<p>é¦–å…ˆï¼Œè¿™ä¸ªä¾‹å­åªæœ‰+å’Œ*ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œæ‰€ä»¥å®ƒçš„è¿ç®—ç¬¦è¡¨æ˜¯ï¼š</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_095276ee89-00.webp.jpg"
                      alt="00.webp.jpg"
                ></p>
<p>è¿™é‡Œçš„å«ä¹‰æ˜¯ï¼š</p>
<p>ï¼ˆ1ï¼‰å¦‚æœæ ˆé¡¶æ˜¯+ï¼Œå³å°†å…¥æ ˆçš„æ˜¯+ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›</p>
<p>ï¼ˆ2ï¼‰å¦‚æœæ ˆé¡¶æ˜¯+ï¼Œå³å°†å…¥æ ˆçš„æ˜¯*ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§ä½ï¼Œç›´æ¥å…¥æ ˆï¼›</p>
<p>ï¼ˆ3ï¼‰å¦‚æœæ ˆé¡¶æ˜¯*ï¼Œå³å°†å…¥æ ˆçš„æ˜¯+ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›</p>
<p>ï¼ˆ4ï¼‰å¦‚æœæ ˆé¡¶æ˜¯<em>ï¼Œ å³å°†å…¥æ ˆçš„æ˜¯</em>ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›</p>
<p>æœ‰äº†è¿ç®—ç¬¦è¡¨ï¼Œä¸€åˆ‡å°±å¥½åŠäº†ã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_0d357dc289-01.webp.jpg"
                      alt="01.webp.jpg"
                ></p>
<p>ä¸€å¼€å§‹ï¼Œåˆå§‹åŒ–å¥½è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œä»¥åŠæ“ä½œæ•°æ ˆï¼Œè¿ç®—ç¬¦æ ˆã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_10cc705789-02.webp.jpg"
                      alt="02.webp.jpg"
                ></p>
<p>ä¸€æ­¥æ­¥ï¼Œæ‰«æå­—ç¬¦ä¸²ï¼Œæ“ä½œæ•°ä¸€ä¸ªä¸ªå…¥æ ˆï¼Œè¿ç®—ç¬¦ä¹Ÿå…¥æ ˆã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_14359ecb89-3.png"
                      alt="3.png"
                ></p>
<p>ä¸‹ä¸€ä¸ªæ“ä½œç¬¦è¦å…¥æ ˆæ—¶ï¼Œéœ€è¦å…ˆæ¯”è¾ƒä¼˜å…ˆçº§ã€‚</p>
<p>æ ˆå†…çš„ä¼˜å…ˆçº§é«˜ï¼Œå¿…é¡»å…ˆè®¡ç®—ï¼Œæ‰èƒ½å…¥æ ˆã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_17b96fe289-4.webp.jpg"
                      alt="4.webp.jpg"
                ></p>
<p>è®¡ç®—çš„è¿‡ç¨‹ä¸ºï¼š</p>
<p>ï¼ˆ1ï¼‰æ“ä½œæ•°å‡ºæ ˆï¼Œä½œä¸ºnum2ï¼›</p>
<p>ï¼ˆ2ï¼‰æ“ä½œæ•°å‡ºæ ˆï¼Œä½œä¸ºnum1ï¼›</p>
<p>ï¼ˆ3ï¼‰è¿ç®—ç¬¦å‡ºæ ˆï¼Œä½œä¸ºopï¼›</p>
<p>ï¼ˆ4ï¼‰è®¡ç®—å‡ºç»“æœï¼›</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_1b6cac1c89-5.webp.jpg"
                      alt="5.webp.jpg"
                ></p>
<p>ï¼ˆ5ï¼‰ç»“æœå…¥æ“ä½œæ•°æ ˆï¼›</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_1ed49bd989-6.png"
                      alt="6.png"
                ></p>
<p>æ¥ä¸‹æ¥ï¼Œè¿ç®—ç¬¦å’Œæ“ä½œæ•°æ‰èƒ½ç»§ç»­å…¥æ ˆã€‚ä¸‹ä¸€ä¸ªæ“ä½œç¬¦è¦å…¥æ ˆæ—¶ï¼Œç»§ç»­æ¯”è¾ƒä¸æ ˆé¡¶çš„ä¼˜å…ˆçº§ã€‚</p>
<p>æ ˆå†…çš„ä¼˜å…ˆçº§ä½ï¼Œå¯ä»¥ç›´æ¥å…¥æ ˆã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_21bfcd8989-7.png"
                      alt="7.png"
                ></p>
<p>å­—ç¬¦ä¸²ç»§ç»­ç§»åŠ¨ã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_26237d8e89-8.png"
                      alt="8.png"
                ></p>
<p>åˆè¦æ¯”è¾ƒä¼˜å…ˆçº§äº†ã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_28e8139389-9.webp.jpg"
                      alt="9.webp.jpg"
                ></p>
<p>æ ˆå†…çš„ä¼˜å…ˆçº§é«˜ï¼Œè¿˜æ˜¯å…ˆè®¡ç®—ï¼ˆ3*4&#x3D;12ï¼‰ï¼Œå†å…¥æ ˆã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_2c8291c589-10.png"
                      alt="10.png"
                ></p>
<p>ä¸æ–­å…¥æ ˆï¼Œç›´åˆ°å­—ç¬¦ä¸²æ‰«æå®Œæ¯•ã€‚</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/55289_2e61c67089-11.webp.jpg"
                      alt="11.webp.jpg"
                ></p>
<p>ä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°å¾—åˆ°æœ€ç»ˆç»“æœ3+60&#x3D;63ï¼Œç®—æ³•å®Œæˆã€‚</p>
<p>æ€»ç»“</p>
<p>â€œè¡¨è¾¾å¼æ±‚å€¼â€é—®é¢˜ï¼Œä¸¤ä¸ªæ ¸å¿ƒå…³é”®ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰åŒæ ˆï¼Œä¸€ä¸ªæ“ä½œæ•°æ ˆï¼Œä¸€ä¸ªè¿ç®—ç¬¦æ ˆï¼›</p>
<p>ï¼ˆ2ï¼‰è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œæ ˆé¡¶è¿ç®—ç¬¦ï¼Œå’Œï¼Œå³å°†å…¥æ ˆçš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”è¾ƒï¼š<br>å¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œæ–°è¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ</p>
<p>å¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜ï¼Œå…ˆå‡ºæ ˆè®¡ç®—ï¼Œæ–°è¿ç®—ç¬¦å†å…¥æ ˆ</p>
<p>è¿™ä¸ªæ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²åªéœ€è¦æ‰«æä¸€éã€‚</p>
<p>è¿ç®—ç¬¦æœ‰+-<em>&#x2F;()~^&amp;éƒ½æ²¡é—®é¢˜ï¼Œå¦‚æœå…±æœ‰nä¸ªè¿ç®—ç¬¦ï¼Œä¼šæœ‰ä¸€ä¸ªn</em>nçš„ä¼˜å…ˆçº§è¡¨ã€‚</p>
<h6 id="æ­£åˆ™è¡¨è¾¾å¼ä»£ç "><a href="#æ­£åˆ™è¡¨è¾¾å¼ä»£ç " class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ä»£ç "></a>æ­£åˆ™è¡¨è¾¾å¼ä»£ç </h6><p>ä»£ç ï¼š</p>
<p><strong>ä¸Š       ä»£        ç </strong></p>
<p><del>è™½ç„¶ä½†æ˜¯æ¥ä¸‹æ¥è¿™ä¸ªä»£ç æ˜¯ä¸­ç¼€è®¡ç®—çš„</del></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span><span class="comment">//stlåº“ä¸­ä½¿ç”¨æ ˆ</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span><span class="comment">//</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span><span class="comment">//ä¸€ä¸ªç›®å‰ä¸å¤ªæ‡‚çš„å¤´æ–‡ä»¶ï¼Œå›å¤´çœ‹primerè‡ªå·±ç†è§£å§</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">stack&lt;<span class="type">int</span>&gt; num;<span class="comment">//å­˜å‚¨æ•°å­—çš„æ ˆ</span></span><br><span class="line">stack&lt;<span class="type">char</span>&gt; op;<span class="comment">//å­˜å‚¨è¿ç®—ç¬¦çš„æ ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼˜å…ˆçº§è¡¨</span></span><br><span class="line">unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; h&#123; &#123;<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;*&#x27;</span>,<span class="number">2</span>&#125;, &#123;<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>&#125; &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eval</span><span class="params">()</span><span class="comment">//æ±‚å€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = num.<span class="built_in">top</span>();<span class="comment">//ç¬¬äºŒä¸ªæ“ä½œæ•°</span></span><br><span class="line">    num.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> b = num.<span class="built_in">top</span>();<span class="comment">//ç¬¬ä¸€ä¸ªæ“ä½œæ•°</span></span><br><span class="line">    num.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> p = op.<span class="built_in">top</span>();<span class="comment">//è¿ç®—ç¬¦</span></span><br><span class="line">    op.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> r = <span class="number">0</span>;<span class="comment">//ç»“æœ </span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¡ç®—ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> (p == <span class="string">&#x27;+&#x27;</span>) r = b + a;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="string">&#x27;-&#x27;</span>) r = b - a;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="string">&#x27;*&#x27;</span>) r = b * a;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="string">&#x27;/&#x27;</span>) r = b / a;</span><br><span class="line"></span><br><span class="line">    num.<span class="built_in">push</span>(r);<span class="comment">//ç»“æœå…¥æ ˆåˆ°numä¸­</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;<span class="comment">//è¯»å…¥è¡¨è¾¾å¼</span></span><br><span class="line">    cin &gt;&gt; s;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)<span class="comment">//è°ƒç”¨äº†stringçš„å‡½æ•°s.size()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(s[i]))<span class="comment">//åˆ¤æ–­æ•°å­—å…¥æ ˆ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x = <span class="number">0</span>, j = i;<span class="comment">//è®¡ç®—æ•°å­—</span></span><br><span class="line">            <span class="keyword">while</span> (j &lt; s.<span class="built_in">size</span>() &amp;&amp; <span class="built_in">isdigit</span>(s[j]))</span><br><span class="line">            &#123;</span><br><span class="line">                x = x * <span class="number">10</span> + s[j] - <span class="string">&#x27;0&#x27;</span>;<span class="comment">//å°†stringå‹çš„æ•°å­—è½¬æ¢ä¸ºintï¼Ÿ</span></span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            num.<span class="built_in">push</span>(x);<span class="comment">//æ•°å­—å…¥æ ˆ</span></span><br><span class="line">            i = j - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦æ‹¬å·æ— ä¼˜å…ˆçº§ï¼Œç›´æ¥å…¥æ ˆ</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>)<span class="comment">//å·¦æ‹¬å·å…¥æ ˆ</span></span><br><span class="line">        &#123;</span><br><span class="line">            op.<span class="built_in">push</span>(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ‹¬å·ç‰¹æ®Šï¼Œé‡åˆ°å·¦æ‹¬å·ç›´æ¥å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·è®¡ç®—æ‹¬å·é‡Œé¢çš„</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;)&#x27;</span>)<span class="comment">//å³æ‹¬å·</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>)<span class="comment">//ä¸€ç›´è®¡ç®—åˆ°å·¦æ‹¬å·</span></span><br><span class="line">                <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">pop</span>();<span class="comment">//å·¦æ‹¬å·å‡ºæ ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (op.<span class="built_in">size</span>() &amp;&amp; h[op.<span class="built_in">top</span>()] &gt;= h[s[i]])<span class="comment">//å¾…å…¥æ ˆè¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œåˆ™å…ˆè®¡ç®—</span></span><br><span class="line">                <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">push</span>(s[i]);<span class="comment">//æ“ä½œç¬¦å…¥æ ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (op.<span class="built_in">size</span>()) <span class="built_in">eval</span>();<span class="comment">//å‰©ä½™çš„è¿›è¡Œè®¡ç®—</span></span><br><span class="line">    cout &lt;&lt; num.<span class="built_in">top</span>() &lt;&lt; endl;<span class="comment">//è¾“å‡ºç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="å•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢"><a href="#å•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢" class="headerlink" title="å•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢"></a>å•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢</h6><p>ä½¿ç”¨å•è°ƒé€’å¢æ ˆ</p>
<p>éº»çƒ¦åœ°æ–¹ï¼šè¶…æ—¶</p>
<p>è€ƒè™‘æ–¹å¼æœ‰äº›ç±»ä¼¼åŒæŒ‡é’ˆ</p>
<p>æ€è·¯ï¼š<strong>æš´åŠ›</strong>-&gt;ä¼˜åŒ–æš´åŠ›</p>
<p>é˜Ÿåˆ—é‡Œé¢æ˜¯å¦æœ‰å…ƒç´ æ²¡ç”¨</p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/20201211221031165.gif"
                      alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
                ></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">10010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> stk[N],tt;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;<span class="comment">//æ€»å…±è¦è¾“å…¥å‡ æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="keyword">while</span>(tt&amp;&amp;stk[tt]&gt;=x)tt--;<span class="comment">//å¦‚æœæ ˆå†…å…ƒç´ åªè¦æ¯”å¾…è¿›å…¥å…ƒç´ å°å°±å¼¹å‡º</span></span><br><span class="line">        <span class="keyword">if</span>(tt)cout&lt;&lt;stk[tt]&lt;&lt;<span class="string">&quot; &quot;</span>;<span class="comment">//å¼¹å‡ºåè¾“å‡ºç¬¬ä¸€ä¸ªæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="string">&quot; &quot;</span>;<span class="comment">//æ ˆç©ºåè¾“å‡º-1</span></span><br><span class="line">        stk[++tt]=x;<span class="comment">//ä¸€è½®èµ°ä¸‹æ¥ä»¥åæ–°çš„å…ƒç´ å…¥æ ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h4><p>FIFOæ„é€ </p>
<h6 id="é˜Ÿåˆ—æ„é€ æ–¹å¼ï¼š"><a href="#é˜Ÿåˆ—æ„é€ æ–¹å¼ï¼š" class="headerlink" title="é˜Ÿåˆ—æ„é€ æ–¹å¼ï¼š"></a>é˜Ÿåˆ—æ„é€ æ–¹å¼ï¼š</h6><p>æ•°ç»„æ„é€ ï¼ˆä¹Ÿæ˜¯hinç®€å•å°±æ˜¯äº†ï¼‰ğŸ˜’</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨¡æ¿ç”¨æ ˆç›´æ¥æ”¹éƒ½å¯ä»¥</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">200600</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> bottom=<span class="number">0</span>;<span class="comment">//é˜Ÿåˆ—åº•éƒ¨ï¼Œå¼¹å‡ºæ—¶å€™bottom+1</span></span><br><span class="line"><span class="type">int</span> line[M]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> top=<span class="number">0</span>;<span class="comment">//é˜Ÿåˆ—å¤´éƒ¨ï¼Œå¢åŠ æ—¶å€™top+1</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//å…¥é˜Ÿ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    line[top]=x;</span><br><span class="line">    ++top;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pop</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bottom++;<span class="comment">//åº•éƒ¨ä¸Šç§»</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">query</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout&lt;&lt;line[bottom]&lt;&lt;endl;</span><br><span class="line">   <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">empty</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(top==bottom)cout&lt;&lt;<span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="å¾ªç¯é˜Ÿåˆ—ï¼š"><a href="#å¾ªç¯é˜Ÿåˆ—ï¼š" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—ï¼š"></a>å¾ªç¯é˜Ÿåˆ—ï¼š</h6><p>æ¨¡æ¿ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="type">int</span> q[N], hh = <span class="number">0</span>, tt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line">q[tt ++ ] = x;</span><br><span class="line"><span class="keyword">if</span> (tt == N) tt = <span class="number">0</span>;<span class="comment">//å¦‚æœåˆ°è¾¾æŸä¸€ç‰¹å®šå€¼é‚£ä¹ˆå°±é‡ç½®å˜æˆé˜Ÿå¤´</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°</span></span><br><span class="line">hh ++ ;</span><br><span class="line"><span class="keyword">if</span> (hh == N) hh = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜Ÿå¤´çš„å€¼</span></span><br><span class="line">q[hh];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">if</span> (hh != tt)<span class="comment">//ä¸ä¸ºç©º</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="å•è°ƒé˜Ÿåˆ—-ï½ï¿£â–½ï¿£-ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰"><a href="#å•è°ƒé˜Ÿåˆ—-ï½ï¿£â–½ï¿£-ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰" class="headerlink" title="å•è°ƒé˜Ÿåˆ—~~~~~~~(ï½ï¿£â–½ï¿£)ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰"></a>å•è°ƒ<del>é˜Ÿ</del>åˆ—~~~~~~~(ï½ï¿£â–½ï¿£)ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰</h6><p>ğŸ˜¶â€ğŸŒ«ï¸å‡†å¤‡å¥½å¼€å§‹å¤´ç–¼</p>
<p>æ€è·¯åŒå•è°ƒæ ˆï¼šä»æš´åŠ›è§£å†³å…¥æ‰‹æ¥ç€å¼€å§‹ä¼˜åŒ–</p>
<p>å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—å¯¹çª—å£è¿›è¡Œç»´æŠ¤ï¼ˆæ ‡å‡†çš„å…¥åˆ—å’Œå‡ºåˆ—ï¼‰</p>
<p>ä¼˜åŒ–ï¼š<strong>é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ²¡ç”¨çš„å…ƒç´ ï¼Œå¯¹æ²¡ç”¨çš„å…ƒç´ è¿›è¡Œåˆ é™¤çœ‹èƒ½å¦å¾—åˆ°å•è°ƒæ€§</strong>ï¼Œå¦‚3ï¼Œ-1ï¼Œ-3ï¼Œåœ¨-3å…¥åˆ—çš„æ—¶å€™å°±æœ‰3&gt;-3ï¼Œåˆ™æœ€å°å€¼ä¸€å®šä¸ä¼šæ˜¯3è€Œä¸”-3å­˜åœ¨æ—¶é—´æ›´ä¹…ï¼Œå› æ­¤ä½¿ç”¨å•è°ƒæ ˆçš„åŒæ ·åŸç†å¯ä»¥æ±‚å‡ºå•è°ƒæœ€å°ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æœ€å°</p>
<p>å¯ä»¥ä½¿ç”¨STLæ ‡å‡†åº“æ¥å†™æˆ–è€…è¯´ä½¿ç”¨æ ˆå’Œé˜Ÿåˆ—æ•°ç»„æ¨¡æ‹Ÿå»å†™ï¼Œè€Œç›¸å¯¹è€Œè¨€ä½¿ç”¨æ•°ç»„æœ‰å¾ˆå¤§çš„å¥½å¤„åœ¨äºæ•°ç»„é€Ÿåº¦å¿«ï¼Œåœ¨æ¯”èµ›æˆ–è€…ç¬”è¯•æ—¶å€™ä¼šæ…¢ä¸€äº›ï¼Œåœ¨IDEä¸­å¯èƒ½ä¼šæœ‰O2æˆ–è€…O3ä¼˜åŒ–</p>
<p>å†çœ‹ä¸€éå•è°ƒæ ˆ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">10010</span>;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> stk[N],tt;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;<span class="comment">//æ€»å…±è¦è¾“å…¥å‡ æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        <span class="keyword">while</span>(tt&amp;&amp;stk[tt]&gt;=x)tt--;<span class="comment">//å¦‚æœæ ˆå†…å…ƒç´ åªè¦æ¯”å¾…è¿›å…¥å…ƒç´ å¤§å°±å¼¹å‡º</span></span><br><span class="line">        <span class="keyword">if</span>(tt)cout&lt;&lt;stk[tt]&lt;&lt;<span class="string">&quot; &quot;</span>;<span class="comment">//å¼¹å‡ºåè¾“å‡ºç¬¬ä¸€ä¸ªæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="string">&quot; &quot;</span>;<span class="comment">//æ ˆç©ºåè¾“å‡º-1</span></span><br><span class="line">        stk[++tt]=x;<span class="comment">//ä¸€è½®èµ°ä¸‹æ¥ä»¥åæ–°çš„å…ƒç´ å…¥æ ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/20201211221031165.gif"
                      alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"
                ></p>
<p>è§£é¢˜æ€è·¯ï¼ˆä»¥æœ€å¤§å€¼ä¸ºä¾‹ï¼‰ï¼š</p>
<p>ç”±äºæˆ‘ä»¬éœ€è¦æ±‚å‡ºçš„æ˜¯æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚</p>
<p>å¦‚æœå½“å‰çš„æ»‘åŠ¨çª—å£ä¸­æœ‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ j ï¼Œå…¶ä¸­iåœ¨jçš„å·¦ä¾§ï¼ˆi&lt;jï¼‰ï¼Œå¹¶ä¸”iå¯¹åº”çš„å…ƒç´ ä¸å¤§äºjå¯¹åº”çš„å…ƒç´ ï¼ˆnums[i]â‰¤nums[j]ï¼‰ï¼Œåˆ™ï¼š</p>
<p>å½“æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨æ—¶ï¼Œåªè¦ i è¿˜åœ¨çª—å£ä¸­ï¼Œé‚£ä¹ˆ j ä¸€å®šä¹Ÿè¿˜åœ¨çª—å£ä¸­ã€‚è¿™æ˜¯ç”±äº i åœ¨ j çš„å·¦ä¾§æ‰€ä¿è¯çš„ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>ç”±äº nums[j] çš„å­˜åœ¨ï¼Œnums[i] ä¸€å®šä¸ä¼šæ˜¯æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼äº†ï¼Œæˆ‘ä»¬å¯ä»¥å°†nums[i]æ°¸ä¹…åœ°ç§»é™¤ã€‚</strong></p>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å­˜å‚¨<strong>æ‰€æœ‰è¿˜æ²¡æœ‰è¢«ç§»é™¤çš„ä¸‹æ ‡ï¼Œè¿™é‡Œæ˜¯q</strong>ã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œè¿™äº›ä¸‹æ ‡æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¢«å­˜å‚¨ï¼Œå¹¶ä¸”å®ƒä»¬åœ¨æ•°ç»„numsä¸­å¯¹åº”çš„å€¼æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ã€‚</p>
<p>å½“æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ªæ–°çš„å…ƒç´ æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚</p>
<p>ä¸ºäº†ä¿æŒé˜Ÿåˆ—çš„æ€§è´¨ï¼Œæˆ‘ä»¬ä¼šä¸æ–­åœ°å°†æ–°çš„å…ƒç´ ä¸é˜Ÿå°¾çš„å…ƒç´ ç›¸æ¯”è¾ƒï¼Œå¦‚æœæ–°å…ƒç´ å¤§äºç­‰äºé˜Ÿå°¾å…ƒç´ ï¼Œ<strong>é‚£ä¹ˆé˜Ÿå°¾çš„å…ƒç´ å°±å¯ä»¥è¢«æ°¸ä¹…åœ°ç§»é™¤</strong>ï¼Œæˆ‘ä»¬å°†å…¶å¼¹å‡ºé˜Ÿåˆ—ã€‚æˆ‘ä»¬éœ€è¦ä¸æ–­åœ°è¿›è¡Œæ­¤é¡¹æ“ä½œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…æ–°çš„å…ƒç´ å°äºé˜Ÿå°¾çš„å…ƒç´ ã€‚</p>
<p>ç”±äºé˜Ÿåˆ—ä¸­ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ï¼Œå› æ­¤æ­¤æ—¶é˜Ÿé¦–ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ å°±æ˜¯æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p>
<p>çª—å£å‘å³ç§»åŠ¨çš„æ—¶å€™ã€‚å› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸æ–­ä»é˜Ÿé¦–å¼¹å‡ºå…ƒç´ ä¿è¯é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯çª—å£ä¸­çš„ï¼Œå› æ­¤å½“é˜Ÿå¤´å…ƒç´ åœ¨çª—å£çš„å·¦è¾¹çš„æ—¶å€™ï¼Œå¼¹å‡ºé˜Ÿå¤´ã€‚</p>
<p>æ¯ä¸€ä¸ªçª—å£çš„æœ€å¤§å€¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">hh = <span class="number">0</span>; tt = <span class="number">-1</span>;          <span class="comment">//å¤´åœ¨å·¦å°¾åœ¨å³                         // é‡ç½®ï¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++ i)</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™ä¸ªæ ˆå¯ä»¥æƒ³æˆæœç€å³è¾¹ï¼ˆttï¼Œæ­£å¸¸æ ˆæ“ä½œï¼‰ï¼Œä½†æ˜¯åº•éƒ¨å¯ä»¥æ“ä½œï¼ˆhhï¼Œå‘å³ç¼©ï¼‰</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//çª—å£ç»ˆç‚¹æ˜¯iï¼Œé‚£ä¹ˆèµ·ç‚¹å°±æ˜¯i-k+1</span></span><br><span class="line">        <span class="keyword">if</span> (i - k + <span class="number">1</span> &gt; q[hh]) ++ hh;<span class="comment">//çª—å£å·¦è¾¹å‘å³ç§»åŠ¨ä¸€ä¸ª</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//è¿™é‡Œæ“ä½œä¸‹æ¥è¦æ˜¯ä»å¤§åˆ°å°çš„æ’åˆ—</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (hh &lt;= tt &amp;&amp; a[i] &gt;= a[q[tt]]) -- tt;<span class="comment">//å³è¾¹å·²ç»æœ‰æ›´å¤§çš„äº†ï¼Œä¹‹å‰çš„å°çš„a[q[tt]]å¯ä»¥ä¸ç”¨è€ƒè™‘äº†ï¼Œå°±æ“ä½œtt</span></span><br><span class="line">        q[++ tt] = i;<span class="comment">//çª—å£å³è¾¹å‘å³ç§»åŠ¨ä¸€ä¸ª</span></span><br><span class="line">        <span class="comment">//i+1&gt;=kè¿™é‡Œå°±æ˜¯ä¸€ä¸ªç‰¹åˆ¤ï¼Œå› ä¸ºä¸€å¼€å§‹çª—å£æ²¡æœ‰å€¼ï¼Œåªæœ‰çª—å£å…¨éƒ¨å……æ»¡ä¹‹åæ‰æœ‰åé¢çš„æ“ä½œ</span></span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &gt;= k) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q[hh]]);<span class="comment">//è¿™é‡ŒçŸ¥é“æ ˆçš„åº•éƒ¨ï¼ˆä¹Ÿå°±æ˜¯q[hh]ï¼‰å¯¹åº”çš„ä¸‹æ ‡æ˜¯è¯¥çª—å£ä¸­æ²¡æœ‰åˆ é™¤è€Œä¸”æ˜¯æœ€å¤§çš„</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­æœ€å°</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[N]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> q[N]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> hh=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> tt = <span class="number">-1</span>;<span class="comment">//å°¾éƒ¨æ˜¯1</span></span><br><span class="line"><span class="type">int</span> n, k;<span class="comment">//hhæ˜¯å¤´ï¼Œttæ˜¯å°¾ï¼Œ</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤´åœ¨å·¦å°¾åœ¨å³</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;<span class="comment">//kæ˜¯çª—å£å¤§å°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++ i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œæ˜¯å…³äºçª—å£çš„ç»´æŠ¤</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);<span class="comment">//æ•°ç»„aå­˜æ”¾äº†æ‰€æœ‰çš„æ•°å­—</span></span><br><span class="line">        <span class="keyword">if</span> (i - k + <span class="number">1</span> &gt; q[hh]) ++ hh;       </span><br><span class="line">        <span class="comment">//æ•°ç»„qå­˜æ”¾çš„æ˜¯ä¸‹æ ‡</span></span><br><span class="line">        <span class="comment">// è‹¥é˜Ÿé¦–å‡ºçª—å£ï¼ŒhhåŠ 1ï¼Œå³æ•´ä½“å‘å‰ç§»åŠ¨ä¸€æ ¼</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//è¿™é‡Œå¼€å§‹è·Ÿå•è°ƒæ ˆçš„åŸç†ç›¸åŒ</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        hh&lt;=ttæ˜¯é˜Ÿåˆ—ä¸ä¸ºç©º</span></span><br><span class="line"><span class="comment">        a[i] &lt;= a[q[tt]]è¿™é‡Œå°±æ˜¯å•è°ƒæ ˆçš„å¦‚æœæ–°æ¥çš„a[i]ä¸æ˜¯æ ˆé‡Œé¢æœ€å¤§çš„å°±å¼¹æ ˆï¼Œ--tt</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">while</span> (hh &lt;= tt &amp;&amp; a[i] &lt;= a[q[tt]]) -- tt;    <span class="comment">// è‹¥é˜Ÿå°¾ä¸å•è°ƒï¼Œttå‡1</span></span><br><span class="line">        q[++ tt] = i;                                  <span class="comment">// ä¸‹æ ‡åŠ åˆ°é˜Ÿå°¾ï¼Œæ–°å…ƒç´ å…¥æ ˆï¼Œä¸Šé¢å…¥çš„æ˜¯å…ƒç´ æœ¬èº«è¿™é‡Œå…¥çš„æ˜¯å…ƒç´ ä¸‹æ ‡</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &gt;= k) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q[hh]]);       <span class="comment">// è¿™é‡Œç¡®å®šè¿‡æ ˆä¸­çš„éƒ½æ˜¯æœ€å°çš„å…ƒç´ äº†å› æ­¤ç›´æ¥è¾“å‡º</span></span><br><span class="line">        <span class="comment">//è¾“å‡ºç»“æœ</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;<span class="comment">//æ¢è¡Œ</span></span><br></pre></td></tr></table></figure>



<p>å…¨éƒ¨ä»£ç ï¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1000010</span>;</span><br><span class="line"><span class="type">int</span> a[N], q[N], tail = <span class="number">-1</span>;</span><br><span class="line"><span class="type">int</span> head=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//aå­˜å‚¨æ­£å¸¸åŸæ•°ç»„çš„å€¼</span></span><br><span class="line"><span class="comment">//æ³¨æ„æ³¨æ„qå­˜å‚¨çš„æ˜¯açš„â€œä¸‹æ ‡â€ï¼Œâ€œä¸‹æ ‡â€è€Œä¸æ˜¯â€œå€¼â€</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, k;<span class="comment">//hhæ˜¯å¤´ï¼Œttæ˜¯å°¾</span></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++ i)<span class="comment">//è¾“å‡ºæœ€å°ï¼Œæ¯ä¸€æ¬¡å¾ªç¯é‡Œé¢q[head]çš„å€¼ä¹Ÿå°±æ˜¯a[q[head]]æ€»æ˜¯çª—å£ä¸­æœ€å°çš„</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//i-k+1å°±æ˜¯çª—å£å¤´éƒ¨ä½ç½®</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">        <span class="keyword">if</span> (i - k + <span class="number">1</span> &gt; q[head]) ++ head;                  <span class="comment">// è‹¥é˜Ÿé¦–å‡ºçª—å£ï¼ŒheadåŠ 1</span></span><br><span class="line">        <span class="keyword">while</span> (head &lt;= tail &amp;&amp; a[i] &lt;= a[q[tail]]) -- tail;    <span class="comment">// è‹¥é˜Ÿå°¾ä¸å•è°ƒï¼ŒtailæŒç»­å‡1</span></span><br><span class="line">        q[++ tail] = i;                                  <span class="comment">// ä¸‹æ ‡åŠ åˆ°é˜Ÿå°¾,å°¾éƒ¨è¿›å…¥çª—å£</span></span><br><span class="line">        <span class="keyword">if</span> (i-k + <span class="number">1</span> &gt;= <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q[head]]);       <span class="comment">// è¾“å‡ºç»“æœ(åªæœ‰çª—å£å½¢æˆä¹‹åæ‰ä¼šè¾“å‡º)</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    head = <span class="number">0</span>; tail = <span class="number">-1</span>;                                   <span class="comment">// é‡ç½®ï¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++ i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i - k + <span class="number">1</span> &gt; q[head]) ++ head;				<span class="comment">//åˆ¤æ–­å¤´éƒ¨æ˜¯å¦å‡ºçª—å£</span></span><br><span class="line">        <span class="keyword">while</span> (head &lt;= tail &amp;&amp; a[i] &gt;= a[q[tail]]) -- tail;</span><br><span class="line">        q[++ tail] = i;</span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &gt;= k) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[q[head]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="ä¸²"><a href="#ä¸²" class="headerlink" title="ä¸²"></a>ä¸²</h4><h5 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>K<del>M</del>P</h5><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46007276/article/details/104372119?ops_request_misc=%7B%22request_id%22:%22166616507616781432932798%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166616507616781432932798&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-104372119-null-null.142%5Ev59%5Epc_rank_34_1,201%5Ev3%5Econtrol_1&utm_term=kmp%E7%AE%97%E6%B3%95&spm=1018.2226.3001.4187" >(100æ¡æ¶ˆæ¯) æ•°æ®ç»“æ„KMPç®—æ³•é…å›¾è¯¦è§£ï¼ˆè¶…è¯¦ç»†ï¼‰_å“ˆé¡¿ä¹‹å…‰çš„åšå®¢-CSDNåšå®¢_kmpç®—æ³•éš¾å—æ˜¯ä»€ä¹ˆçº§åˆ«<i class="fas fa-external-link-alt"></i></a>ï¼ˆ<strong>å¥½å¥½çœ‹å¥½å¥½å­¦</strong>ï¼‰</p>
<h6 id="æ¨¡æ¿yæ€»"><a href="#æ¨¡æ¿yæ€»" class="headerlink" title="æ¨¡æ¿yæ€»"></a>æ¨¡æ¿yæ€»</h6><p><strong>æ³¨æ„kmpç®—æ³•çš„ä¸‹æ ‡è¦ä»1å¼€å§‹å¼„ï¼</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">//ä¸€å¼€å§‹å°±æ˜¯1å¼€å§‹å¼„çš„</span></span><br><span class="line">&#123;</span><br><span class="line">    cin&gt;&gt;p[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">æˆ–è€…é‚ªæ•™è¯»å–æ³•:cin&gt;&gt;n&gt;&gt;p+<span class="number">1</span>&gt;&gt;m&gt;&gt;s+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// s[]æ˜¯é•¿æ–‡æœ¬ï¼Œp[]æ˜¯æ¨¡å¼ä¸²ï¼Œnæ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦</span></span><br><span class="line">æ±‚æ¨¡å¼ä¸²çš„Nextæ•°ç»„ï¼š</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i ++ )<span class="comment">//ä¸åŒ¹é…éƒ¨åˆ†åŸºæœ¬ä¸€æ ·ä¸€æ ·</span></span><br><span class="line">&#123;<span class="comment">//ä¸€ç‚¹ç»†èŠ‚ï¼Œè¿™é‡Œæ˜¯å­ä¸²p</span></span><br><span class="line">    <span class="keyword">while</span> (j &amp;&amp; p[i] != p[j + <span class="number">1</span>]) j = ne[j];<span class="comment">//ä¹Ÿæ˜¯å›æº¯</span></span><br><span class="line">    <span class="keyword">if</span> (p[i] == p[j + <span class="number">1</span>]) j ++ ;<span class="comment">//åŒ¹é…æˆåŠŸå­ä¸²å‘å‰èµ°</span></span><br><span class="line">    ne[i] = j;<span class="comment">//æ¬¸ï¼Œè¿™é‡Œä¸ä¸€æ ·äº†ï¼Œ</span></span><br><span class="line">    <span class="comment">//neæ•°ç»„å…¶å®ä¹Ÿæ˜¯ä¸€æ ·æ ·çš„ï¼Œi=2æ˜¯å› ä¸ºå®é™…ä¸Š1æ˜¯è‚¯å®šæ˜¯0ï¼ˆå‰é¢éƒ½æ²¡å­—ç¬¦è‡ªç„¶æ˜¯0ï¼‰ï¼Œneæ•°ç»„ä¹Ÿæ˜¯ä»1å¼€å§‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// kmpåŒ¹é…</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i ++ )<span class="comment">//</span></span><br><span class="line">&#123;<span class="comment">//ä¸€ç‚¹ç»†èŠ‚ï¼Œä¸‹é¢æ˜¯é•¿ä¸²s</span></span><br><span class="line">    <span class="keyword">while</span> (j &amp;&amp; s[i] != p[j + <span class="number">1</span>]) j = ne[j];<span class="comment">//ä¸ç›¸ç­‰çš„æ—¶å€™é€’å½’å›é€€ï¼Œä¸ä»£ç éšæƒ³å½•æ˜¯ä¸€ç§æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (s[i] == p[j + <span class="number">1</span>]) j ++ ;<span class="comment">//å¦‚æœåŒ¹é…æˆåŠŸï¼Œå­ä¸²ä¹Ÿå‘å‰ä¸€ä½èµ°</span></span><br><span class="line">    <span class="keyword">if</span> (j == m)</span><br><span class="line">    &#123;</span><br><span class="line">        j = ne[j];<span class="comment">//å›æº¯åˆ°å‰ä¸€æ¬¡</span></span><br><span class="line">        <span class="comment">// åŒ¹é…æˆåŠŸåçš„é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">100010</span>,M=<span class="number">1000010</span>;</span><br><span class="line"><span class="type">char</span> p[N],s[M];</span><br><span class="line"><span class="type">int</span> ne[N];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;p+<span class="number">1</span>&gt;&gt;m&gt;&gt;s+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>,j=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(j&amp;&amp;p[i]!=p[j+<span class="number">1</span>])j=ne[j];</span><br><span class="line">		<span class="keyword">if</span>(p[i]==p[j+<span class="number">1</span>])j++;</span><br><span class="line">		ne[i]=j;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,j=<span class="number">0</span>;i&lt;=m;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(j&amp;&amp;s[i]!=p[j+<span class="number">1</span>])j=ne[j];</span><br><span class="line">		<span class="keyword">if</span>(s[i]==p[j+<span class="number">1</span>])j++;</span><br><span class="line">		<span class="keyword">if</span>(j==n)</span><br><span class="line">		&#123;</span><br><span class="line">			cout&lt;&lt;i-n&lt;&lt;<span class="string">&#x27; &#x27;</span>;<span class="comment">//å°±æ˜¯è¾“å‡ºä¸‹æ ‡</span></span><br><span class="line">			j=ne[j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³é”®ï¼š<strong>ç‰¹æ®Šæ•°ç»„nextçš„æ„é€ </strong>ï¼Œ<strong>å‰ç¼€è¡¨</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221019194121.gif"
                      alt="å¾®ä¿¡å›¾ç‰‡_20221019194121"
                ></p>
<p><strong>ä¸‹æ ‡5ä¹‹å‰è¿™éƒ¨åˆ†çš„å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²aabaaï¼‰çš„æœ€é•¿ç›¸ç­‰çš„å‰ç¼€ å’Œ åç¼€å­—ç¬¦ä¸²æ˜¯ å­å­—ç¬¦ä¸²aa ï¼Œå› ä¸ºæ‰¾åˆ°äº†æœ€é•¿ç›¸ç­‰çš„å‰ç¼€å’Œåç¼€ï¼ŒåŒ¹é…å¤±è´¥çš„ä½ç½®æ˜¯åç¼€å­ä¸²çš„åé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰¾åˆ°ä¸å…¶ç›¸åŒçš„å‰ç¼€çš„åé¢ä»æ–°åŒ¹é…å°±å¯ä»¥äº†</strong></p>
<h6 id="å‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿"><a href="#å‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿" class="headerlink" title="å‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿"></a>å‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿</h6><p>å‰ç¼€ï¼šä¸åŒ…å«å°¾å­—ç¬¦çš„æ‰€æœ‰å­ä¸²</p>
<p>åç¼€ï¼šç›¸è¾ƒäºå‰ç¼€ï¼Œä¸åŒ…å«é¦–å­—æ¯çš„æ‰€æœ‰å­ä¸²</p>
<p>å› æ­¤å¦‚æœä»…æœ‰å•ä¸ªå­—ç¬¦åˆ™å…¶å‰ç¼€ä¸º0</p>
<p>ç‰¹æ€§ï¼š</p>
<p>ç›®å‰è®²è§£çš„æ„é€ æ–¹æ³•</p>
<p>ä¾‹ï¼šå­ä¸²aabaabaafï¼Œå‰ç¼€è¡¨010120(aabaaf)</p>
<ul>
<li>å‰ç¼€å½¢å¼ï¼š010120</li>
<li>å…¨éƒ¨åç§»æ–¹å¼ï¼š-1 0 10120</li>
<li>æ•´ä½“å‡ä¸€æ–¹å¼ï¼š-1 0 -1 0 1 -1</li>
</ul>
<p>å…±åŒç‚¹ï¼šæœ€åéƒ½åº”å½“ä¿æŒå°é—­ï¼Œè™½ç„¶ç†è§£æœ‰å‡ºå…¥ä½†æœ¬è´¨ç›¸åŒ</p>
<h6 id="ä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼"><a href="#ä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼" class="headerlink" title="ä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼"></a>ä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼</h6><p>prev,latter;</p>
<p>prev:<strong>å‰ç¼€æœ«å°¾ä½ç½®</strong>ï¼ŒåŒæ—¶ä»£è¡¨<em><strong>prevåŒ…æ‹¬prevä¹‹å‰å­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦ï¼Œä¹Ÿè¡¨ç¤ºå‰ç¼€æœ«å°¾</strong></em></p>
<p>latter:<strong>åç¼€æœ«å°¾ä½ç½®</strong></p>
<p>åˆå§‹åŒ–</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">prev=<span class="number">0</span>;</span><br><span class="line">latter=<span class="number">1</span>;</span><br><span class="line">next[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–latter</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¼€å§‹å¤„ç†å‰åç¼€ä¸åŒæƒ…å†µ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//prevå’Œlatterä¸€ç›´ä¸ç›¸ç­‰</span></span><br><span class="line"><span class="keyword">for</span>(latter=<span class="number">1</span>;latter&lt;slength;latter++)<span class="comment">//åç¼€æŒ‡é’ˆåªç®¡å¾€å‰èµ°å°±å®Œäº‹</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œifæ˜¯å‡ºé”™çš„æ ¹æº</span></span><br><span class="line">    <span class="keyword">while</span>(s[prev]!=s[latter]&amp;&amp;prev&gt;<span class="number">0</span>)<span class="comment">//æ³¨æ„è¿™é‡Œå› ä¸ºæœ‰-1å­˜åœ¨æ‰€ä»¥ä¸€å®šå°å¿ƒè¶Šç•Œï¼Œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        prev=next[prev<span class="number">-1</span>];<span class="comment">//prevå†²çªæ—¶å€™æ˜¯ä¸€ä¸ªè¿ç»­å›é€€çš„è¿‡ç¨‹ï¼Œå¦‚æœä½¿ç”¨ifå°±é”™äº†ï¼Œä½¿ç”¨whileå¾ªç¯å›é€€</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åªè¦s[latter]!=s[prev]æ—¶å€™prevåº”è¯¥å‘å‰å›é€€</span></span><br><span class="line">    <span class="comment">//åŸå› ï¼šä½¿ç”¨å‰ç¼€è¡¨åœ¨è¿›è¡Œkmpå¯¹æ¯”çš„æ—¶å€™å¦‚æœé‡åˆ°å†²çªï¼Œä¹Ÿæ˜¯çœ‹å†²çªä½ç½®å‰ä¸€ä½çš„è¡¨è¿›è¡Œè·³è½¬</span></span><br><span class="line">    </span><br><span class="line">    åˆ†ç•Œçº¿ï¼šå‰åç¼€ç›¸åŒçš„æƒ…å†µ</span><br><span class="line">        <span class="keyword">if</span>(s[prev]==s[latter])</span><br><span class="line">        &#123;</span><br><span class="line">            prev++;<span class="comment">//ä»£è¡¨prevä¹‹å‰æœ€é•¿ç›¸ç­‰å‰ç¼€å¯ä»¥æ›´æ–°</span></span><br><span class="line">           </span><br><span class="line">           <span class="comment">//latterå› ä¸ºæœ‰forå¾ªç¯ï¼Œå› æ­¤è‡ªç„¶å‘å‰æœ‰++æ“ä½œ</span></span><br><span class="line">        &#125;</span><br><span class="line">    	 next[latter]=prev;<span class="comment">//æ›´æ–°nextæ•°ç»„çš„å€¼</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œåˆ™æ˜¯å…¨éƒ¨æ“ä½œçš„éƒ¨åˆ†</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="type">void</span> <span class="title">getNext</span><span class="params">(<span class="type">int</span>* next, <span class="type">const</span> string&amp; s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">        next[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s[i] != s[j]) &#123;</span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == s[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯è¿”å›ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (needle.<span class="built_in">size</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> next[needle.<span class="built_in">size</span>()];</span><br><span class="line">        <span class="built_in">getNext</span>(next, needle);<span class="comment">//è·å–nextæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; haystack.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(j &gt; <span class="number">0</span> &amp;&amp; haystack[i] != needle[j]) &#123;</span><br><span class="line">                j = next[j - <span class="number">1</span>];<span class="comment">//ä¸€æ ·è¿›è¡Œå›æº¯</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (haystack[i] == needle[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;<span class="comment">//ä½¿ç”¨å¾ªç¯ï¼Œç›´æ¥å¯¹prevè¿›è¡Œ+å°±è¡Œ</span></span><br><span class="line">            <span class="keyword">if</span> (j == needle.<span class="built_in">size</span>() ) &#123;</span><br><span class="line">                <span class="keyword">return</span> (i - needle.<span class="built_in">size</span>() + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221019194410.gif"
                      alt="å¾®ä¿¡å›¾ç‰‡_20221019194410"
                ></p>
<p>æ³¨æ„è¿™é‡Œæ˜¯æ–‡æœ¬ä¸²å’Œæ¨¡å¼ä¸²ä¸åŒ¹é…æ—¶å€™çš„æ“ä½œï¼ˆè¿™é‡Œnextæ•°ç»„é‡‡ç”¨æ­£å¸¸å‰ç¼€è¡¨ï¼‰</p>
<h6 id="æ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› "><a href="#æ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› " class="headerlink" title="æ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› "></a>æ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› </h6><p>è¦æ±‚æ¯ä¸€ä¸ªéƒ½æ±‚å‡ºæ¥</p>
<p>é—®é¢˜åœ¨äºï¼šå½“æ¯ä¸€æ¬¡<strong>æ»¡è¶³æ¡ä»¶åè¿›è¡Œæ¸…é›¶æ“ä½œ</strong>ï¼Œ<em><strong>æœ¬è´¨ä¸ŠåŒä¸€æ¬¡ä¸¤è€…ä¸ç­‰æ—¶å€™çš„å›æº¯æ“ä½œï¼ˆprevåˆ°ä¸Šä¸€ä½æœ€æ¥è¿‘çš„å‰ç¼€ä½ç½®ï¼‰</strong></em>,å¦‚æœä½¿ç”¨prev&#x3D;0å°±ä¼šå‡ºç°å¯èƒ½é”™è¿‡</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹ï¼š</span><br><span class="line">    ababa  aba <span class="number">001</span></span><br><span class="line">    <span class="comment">//æ­£ç¡®è§£</span></span><br><span class="line">    <span class="keyword">if</span>(prev==sublength)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;endl&lt;&lt;latter-sublength+<span class="number">1</span>&lt;&lt;endl;</span><br><span class="line">            prev=next[prev<span class="number">-1</span>];<span class="comment">//å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">	<span class="comment">//åœ¨ç¬¬ä¸€æ¬¡è§£çš„æ—¶å€™prev=3;latter=2(å› ä¸ºlatteråœ¨ä¸€æ¬¡å¾ªç¯ä¹‹åæ‰ä¼šæœ‰å¢æ“ä½œ)</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	ä½¿ç”¨å›æº¯prev=1,sub[prev]=bé‚£ä¹ˆå°±æ¥ç€ä»latter=3.T[latter]=bæ— ç¼å¼€å§‹å‘å‰å¯¹æ¯”</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">/é”™è¯¯</span><br><span class="line">    <span class="keyword">if</span>(prev==sublength)</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;endl&lt;&lt;latter-sublength+<span class="number">1</span>&lt;&lt;endl;</span><br><span class="line">            prev=<span class="number">0</span>;<span class="comment">//è¿™æ ·å°±ä¼šæ˜¯é”™è¯¯ç»“æœ</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h5 id="automata-æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"><a href="#automata-æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº" class="headerlink" title="automata~æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"></a>automata~æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</h5><p>å‚è€ƒï¼š</p>
<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/tyler_download/article/details/52549315?ops_request_misc=%7B%22request_id%22:%22166619414916782414994917%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166619414916782414994917&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-52549315-null-null.142%5Ev59%5Epc_rank_34_1,201%5Ev3%5Econtrol_1&utm_term=%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA&spm=1018.2226.3001.4187" >(100æ¡æ¶ˆæ¯) å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ä¹‹ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº_tyler_downloadçš„åšå®¢-CSDNåšå®¢_æœ‰é™è‡ªåŠ¨æœºç®—æ³•<i class="fas fa-external-link-alt"></i></a></li>
<li>è‹è€å¸ˆåšæœäº‘pptçŠ¶æ€æœºä»£ç éƒ¨åˆ†</li>
</ul>
<h6 id="ä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰"><a href="#ä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰" class="headerlink" title="ä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰"></a>ä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dfa[<span class="number">0</span>][P[<span class="number">0</span>]] = <span class="number">1</span>; <span class="comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œ</span></span><br><span class="line"><span class="comment">// dfa[çŠ¶æ€][ä¸‹ä¸€ä¸ªå­—ç¬¦] for(int X = 0, j = 1; j &lt; plen; j++) &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®— dfa[j][]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> c = <span class="number">0</span>; c &lt; R; c++) &#123; <span class="comment">// R ä¸ºå­—ç¬¦ç§ç±»æ•°é‡</span></span><br><span class="line"></span><br><span class="line">dfa[j][c] = dfa[X][c];</span><br><span class="line"></span><br><span class="line">&#125; dfa[j][P[j]] = j + <span class="number">1</span>; X = dfa[X][P[j]]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-20%20194911.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-20 194911"
                ></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-20%20195102.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-20 195102"
                ></p>
<h6 id="èªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœº"><a href="#èªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœº" class="headerlink" title="èªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœº"></a>èªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœº</h6><p>å·²çŸ¥asciiç æ€»å…±å°±128ä¸ªï¼Œç›´æ¥å¼€ä¸€ä¸ªå¤§è¡¨å°±è¡Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> dfa[<span class="number">256</span>][<span class="number">256</span>]=<span class="number">0</span>;<span class="comment">//è¿™æ ·ç›´æ¥çœç•¥åç»­ä¸€ç³»åˆ—åˆå§‹åŒ–ï¼Œä½¿ç”¨intè½¬æ¢å­—ç¬¦ä¸²ä¼ å…¥å°±è¡Œï¼Œéå¸¸çœå¿ƒ</span></span><br></pre></td></tr></table></figure>

<h5 id="TRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰"><a href="#TRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰" class="headerlink" title="TRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰"></a>TRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰</h5><p>ç±»ä¼¼ä½†å’Œå“ˆå¤«æ›¼æ ‘æ²¡æœ‰å…³ç³»</p>
<p>åˆç§°å­—å…¸æ ‘ã€å•è¯æŸ¥æ‰¾æ ‘</p>
<p>åº”ç”¨ï¼šå¿«é€Ÿå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆçš„æ•°æ®ç»“æ„</p>
<h6 id="å¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘"><a href="#å¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘" class="headerlink" title="å¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘"></a>å¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘</h6><p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹å­˜å‚¨æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œå¼€å§‹é€ä¸ªå‘ä¸‹è¿›è¡Œåˆ›å»ºï¼Œåœ¨å•è¯çš„æœ«å°¾æ‰“ä¸Šä¸€ä¸ªæ ‡è®°è¡¨ç¤ºè¯¥å•è¯èµ°åˆ°ç»“å°¾äº†</p>
<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-24%20202126.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-24 202126" style="zoom:33%;" 
                >

<p><strong>TRIEæ ‘æœ¬è´¨æ˜¯ä¸€é¢—Nå‰æ ‘ï¼Œæœ‰å¤šå°‘ç§å­—ç¬¦ä¸€ä¸ªèŠ‚ç‚¹å°±æœ€å¤šæœ‰å¤šå°‘æ¡è¾¹</strong></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/31041_aed49a42ad-Trie2.PNG"
                      alt="Trie2.PNG"
                ></p>
<h6 id="å¦‚ä½•æŸ¥æ‰¾"><a href="#å¦‚ä½•æŸ¥æ‰¾" class="headerlink" title="å¦‚ä½•æŸ¥æ‰¾"></a>å¦‚ä½•æŸ¥æ‰¾</h6><p>ä»å•è¯çš„é¦–å­—æ¯å¼€å§‹å‘ä¸‹èµ°ï¼Œèµ°åˆ°æ ‡è®°è¡¨ç¤ºåˆ°å¤´äº†</p>
<h6 id="æ„å»ºTRIEæ ‘"><a href="#æ„å»ºTRIEæ ‘" class="headerlink" title="æ„å»ºTRIEæ ‘"></a>æ„å»ºTRIEæ ‘</h6><p>è¿™é‡Œä½¿ç”¨äº†æ•°ç»„æ¨¡æ‹Ÿæ ‘çš„çŸ¥è¯†</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> son[N][<span class="number">26</span>];</span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯26å› ä¸ºåªæœ‰å°å†™å­—æ¯</span></span><br><span class="line"><span class="comment">//äºŒç»´æ˜¯å¯ä»¥æœ‰å¤šå°‘ä¸ªåˆ†æ”¯ï¼Œä¸€ç»´çš„æ„ä¹‰æ˜¯æ¥è‡ªå“ªä¸€ä¸ªåŒäº²èŠ‚ç‚¹</span></span><br><span class="line"><span class="type">int</span> cnt[N], idx;<span class="comment">//idxæ˜¯ä¸‹æ ‡ä¸º0çš„ç‚¹ï¼Œæ˜¯æ ¹èŠ‚ç‚¹å’Œç©ºèŠ‚ç‚¹ï¼Œè¡¨ç¤ºå½“å‰è¦æ’å…¥çš„èŠ‚ç‚¹æ˜¯ç¬¬å‡ ä¸ª,æ¯åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å€¼+1</span></span><br><span class="line">   <span class="comment">// cnt[]å­˜å‚¨ä»¥æŸèŠ‚ç‚¹ç»“å°¾çš„å­—ç¬¦ä¸²ä¸ªæ•°ï¼ˆåŒæ—¶ä¹Ÿèµ·æ ‡è®°ä½œç”¨ï¼‰</span></span><br><span class="line"><span class="type">char</span> str[N];<span class="comment">//å­˜å‚¨è¦æ’å…¥/æŸ¥è¯¢çš„å•è¯</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>; <span class="comment">//ç±»ä¼¼æŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;<span class="comment">//uè¡¨ç¤ºæ˜¯å…·ä½“å“ªä¸€ä¸ªå­—æ¯</span></span><br><span class="line">        <span class="comment">//pè¡¨ç¤ºçš„æ˜¯ç¬¬å‡ ä¸ªç»“ç‚¹ï¼Œuè¡¨ç¤ºçš„æ˜¯å“ªä¸ªå­—æ¯ï¼Œå¦‚æœs[p][u]ä¸ä¸ºç©ºå°±è¯æ˜æœ‰ä»¥è¿™ä¸ªå­—æ¯ä¸ºå€¼çš„å­ç»“ç‚¹</span></span><br><span class="line">        <span class="comment">//å®ƒä»£è¡¨çš„å€¼å°±æ˜¯æŒ‡å‘äº†è¯¥å­ç»“ç‚¹ï¼Œå³è¯´æ˜äº†ç¬¬å‡ ä¸ªç»“ç‚¹æ˜¯å®ƒçš„å­ç»“ç‚¹</span></span><br><span class="line">         <span class="comment">//å¦‚s[2][1]=3ï¼Œè¡¨ç¤ºç»“ç‚¹2æœ‰ä¸€ä¸ªå€¼ä¸ºbï¼ˆç¬¬äºŒä¸ªæ•°å­—ä»£è¡¨çš„æ˜¯aï½zï¼‰çš„å­ç»“ç‚¹ï¼Œæ˜¯ç»“ç‚¹3</span></span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) son[p][u] = ++ idx;<span class="comment">//ä¸å­˜åœ¨å°±åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">//ä»¤pæŒ‡å‘å­ç»“ç‚¹</span></span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸ç®¡æ˜¯æœªå­˜åœ¨è¿‡çš„æ–°æ’å…¥è¿˜æ˜¯å·²æœ‰å­—å…¸å†å¢åŠ ä¸€ä¸ªï¼Œéƒ½æ˜¯ä»¥è¿™ä¸ªç»“ç‚¹ä¸ºæœ«å°¾çš„å­—ç¬¦ä¸²æ¬¡æ•°åŠ 1</span></span><br><span class="line">    cnt[p] ++ ;<span class="comment">//ç»“æŸæ—¶çš„æ ‡è®°ï¼Œä¹Ÿæ˜¯è®°å½•ä»¥æ­¤èŠ‚ç‚¹ç»“æŸçš„å­—ç¬¦ä¸²ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">//è¿™ä¸€æ­¥é‡è¦ï¼</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; str[i]; i ++ )<span class="comment">//èµ°åˆ°è¯¥å•è¯ä¸º0</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;<span class="comment">//è·å¾—å¯¹åº”å­èŠ‚ç‚¹çš„ç¼–å·</span></span><br><span class="line">        <span class="keyword">if</span> (!son[p][u]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        p = son[p][u];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt[p];<span class="comment">//è¿”å›ä»¥pä¸ºç»“å°¾çš„å•è¯æ•°é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span><span class="comment">//è¿™é‡Œæœ‰Iæ˜¯æ’å…¥å­—ç¬¦ä¸²ï¼Œå…¶å®ƒæ˜¯æŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">while</span> (n -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>, op, str);<span class="comment">//å‰ä¸€æ¬¡è¾“å…¥è¢«è¦†ç›–</span></span><br><span class="line">        <span class="keyword">if</span> (*op == <span class="string">&#x27;I&#x27;</span>) <span class="built_in">insert</span>(str);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">query</span>(str));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="TRIEæ ‘çš„å…¶å®ƒåº”ç”¨"><a href="#TRIEæ ‘çš„å…¶å®ƒåº”ç”¨" class="headerlink" title="TRIEæ ‘çš„å…¶å®ƒåº”ç”¨"></a>TRIEæ ‘çš„å…¶å®ƒåº”ç”¨</h5><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF" >https://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF<i class="fas fa-external-link-alt"></i></a></p>
<p>å¯ç¤ºï¼š<strong>å­—å…¸æ ‘ä¸å•å•å¯ä»¥é«˜æ•ˆå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆï¼Œè¿˜å¯ä»¥å­˜å‚¨äºŒè¿›åˆ¶æ•°å­—</strong></p>
<h6 id="æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘"><a href="#æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘" class="headerlink" title="æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘"></a>æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘</h6><p><strong>å¯¹æ‰€æœ‰çš„aiajå»ºç«‹ä¸€ä¸ªä¸²æ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ªå›ºå®šçš„aiï¼Œæ¯ä¸€æ¬¡å°½é‡ä¸å’Œå½“å‰ä¸åŒçš„åˆ†æ”¯å‘ä¸‹èµ°ï¼Œèµ°åˆ°åº•è¿™æ ·ä¸€å®šå°±å¯ä»¥å¾—åˆ°æœ€ä¼˜è§£</strong></p>
<p>å³é¡ºåºï¼šæ‰€æœ‰å€¼çš„äºŒè¿›åˆ¶è¡¨ç¤ºå»ºç«‹æ ‘-&gt;éå†ä¸€æ¬¡ï¼Œæ¯ä¸€ä¸ªaiè¿›è¡Œå¯»æ‰¾å¯¹åº”çš„æœ€å¤§çš„å€¼ï¼Œæœ€åéå†ä¸€æ¬¡ä¹‹åè·å¾—ç­”æ¡ˆ</p>
<h6 id="ç®—æ³•å¤æ‚åº¦ï¼š"><a href="#ç®—æ³•å¤æ‚åº¦ï¼š" class="headerlink" title="ç®—æ³•å¤æ‚åº¦ï¼š"></a>ç®—æ³•å¤æ‚åº¦ï¼š</h6><p>ï¼ˆå»ºç«‹æ ‘ï¼‰+nï¼ˆæ¯ä¸€ä¸ªaiåªéœ€è¦åœ¨å·²ç»å»ºç«‹å¥½çš„æ ‘å†ä»å¤´åˆ°å°¾èµ°ä¸€æ¬¡å°±å¥½ï¼‰</p>
<h6 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><p>insertå‡½æ•°æ”¹ï¼š</p>
<p>æ¯ä¸ªæ•°çœ‹ä½œä¸€ä¸ª31ä½é•¿åº¦çš„äºŒè¿›åˆ¶æ•°ï¼Œæœ€é«˜ä½æ˜¯0å¾€0èµ°ï¼Œæœ€é«˜ä½1å¾€1èµ°ï¼Œç„¶åå’Œç±»ä¼¼TRIEçš„æ“ä½œï¼Œä½†æ˜¯æ„å»ºçš„æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼ˆä¸€å®šæ¦‚ç‡å˜æˆæ–œæ ‘ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p=<span class="number">0</span>;  <span class="comment">//æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)<span class="comment">//ä»æœ€å¤§ä½å¼€å§‹å»ºç«‹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u=x&gt;&gt;i&amp;<span class="number">1</span>;   <span class="comment">/////å–Xçš„ç¬¬iä½çš„äºŒè¿›åˆ¶æ•°æ˜¯ä»€ä¹ˆ  x&gt;&gt;k&amp;1(å‰é¢çš„æ¨¡æ¿)</span></span><br><span class="line">        <span class="keyword">if</span>(!son[p][u]) son[p][u]=++idx; <span class="comment">///å¦‚æœæ’å…¥ä¸­å‘ç°æ²¡æœ‰è¯¥å­èŠ‚ç‚¹,å¼€å‡ºè¿™æ¡è·¯</span></span><br><span class="line">        p=son[p][u]; <span class="comment">//æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚</span></span><br><span class="line">    &#125;<span class="comment">//ä¸ä¸Šé¢ä¸ä¸€æ ·è¿™é‡Œå°±ä¸éœ€è¦æ ‡è®°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p=<span class="number">0</span>;<span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    &#123;                               <span class="comment">///ä»æœ€å¤§ä½å¼€å§‹æ‰¾</span></span><br><span class="line">        <span class="type">int</span> u=x&gt;&gt;i&amp;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(son[p][!u]) <span class="comment">////å¦‚æœå½“å‰å±‚æœ‰å¯¹åº”çš„ä¸ç›¸åŒçš„æ•°</span></span><br><span class="line">        &#123;   <span class="comment">///pæŒ‡é’ˆå°±æŒ‡åˆ°ä¸åŒæ•°çš„åœ°å€</span></span><br><span class="line"></span><br><span class="line">          p=son[p][!u];</span><br><span class="line">          res=res*<span class="number">2</span>+<span class="number">1</span>;<span class="comment">//å³ç§»ï¼Œå› ä¸ºæ ‘å³å„¿å­æ˜¯1</span></span><br><span class="line">             <span class="comment">///*2ç›¸å½“å·¦ç§»ä¸€ä½  ç„¶åå¦‚æœæ‰¾åˆ°å¯¹åº”ä½ä¸Šä¸åŒçš„æ•°res+1 ä¾‹å¦‚    001</span></span><br><span class="line">        &#125;                                                   <span class="comment">///       010 </span></span><br><span class="line">        <span class="keyword">else</span><span class="comment">////   ---&gt;011                                                                           </span></span><br><span class="line">            <span class="comment">//åˆšå¼€å§‹æ‰¾0çš„æ—¶å€™æ˜¯ä¸€æ ·çš„æ‰€ä»¥+0    åˆ°äº†0å’Œ1çš„æ—¶å€™åŸæ¥0å³ç§»ä¸€ä½,åˆ¤æ–­å½“å‰ä½æ˜¯åŒè¿˜æ˜¯å¼‚,åŒ+0,å¼‚+1</span></span><br><span class="line">        &#123;</span><br><span class="line">            p=son[p][u];</span><br><span class="line">            res=res*<span class="number">2</span>+<span class="number">0</span>;<span class="comment">//å·¦ç§»ï¼Œå› ä¸ºæ ‘å·¦å„¿å­æ˜¯1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> <span class="type">const</span> N=<span class="number">100010</span>,M=<span class="number">31</span>*N;<span class="comment">//Mè¡¨ç¤ºæ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°æœ€å¤šæœ‰31ä¸ªé•¿åº¦ï¼Œå› æ­¤å»ºç«‹</span></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="type">int</span> son[M][<span class="number">2</span>],idx;</span><br><span class="line"><span class="comment">//Mä»£è¡¨ä¸€ä¸ªæ•°å­—ä¸²äºŒè¿›åˆ¶å¯ä»¥åˆ°å¤šé•¿</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p=<span class="number">0</span>;  <span class="comment">//æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)<span class="comment">//è¿™é‡Œç›¸ç­‰i&gt;=0</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u=x&gt;&gt;i&amp;<span class="number">1</span>;   <span class="comment">/////å–Xçš„ç¬¬iä½çš„äºŒè¿›åˆ¶æ•°æ˜¯ä»€ä¹ˆ  x&gt;&gt;k&amp;1(å‰é¢çš„æ¨¡æ¿)</span></span><br><span class="line">        <span class="keyword">if</span>(!son[p][u]) son[p][u]=++idx; <span class="comment">///å¦‚æœæ’å…¥ä¸­å‘ç°æ²¡æœ‰è¯¥å­èŠ‚ç‚¹,å¼€å‡ºè¿™æ¡è·¯</span></span><br><span class="line">        p=son[p][u]; <span class="comment">//æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> p=<span class="number">0</span>;<span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">30</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    &#123;                               <span class="comment">///ä»æœ€å¤§ä½å¼€å§‹æ‰¾</span></span><br><span class="line">        <span class="type">int</span> u=x&gt;&gt;i&amp;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(son[p][!u]) <span class="comment">////å¦‚æœå½“å‰å±‚æœ‰å¯¹åº”çš„ä¸ç›¸åŒçš„æ•°</span></span><br><span class="line">        &#123;   <span class="comment">///pæŒ‡é’ˆå°±æŒ‡åˆ°ä¸åŒæ•°çš„åœ°å€</span></span><br><span class="line"></span><br><span class="line">          p=son[p][!u];</span><br><span class="line">          res=res*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">             <span class="comment">///*2ç›¸å½“å·¦ç§»ä¸€ä½  ç„¶åå¦‚æœæ‰¾åˆ°å¯¹åº”ä½ä¸Šä¸åŒçš„æ•°res+1 ä¾‹å¦‚    001</span></span><br><span class="line">        &#125;                                                       <span class="comment">///       010 </span></span><br><span class="line">        <span class="keyword">else</span>                                            <span class="comment">////          ---&gt;011                                                                           //åˆšå¼€å§‹æ‰¾0çš„æ—¶å€™æ˜¯ä¸€æ ·çš„æ‰€ä»¥+0    åˆ°äº†0å’Œ1çš„æ—¶å€™åŸæ¥0å³ç§»ä¸€ä½,åˆ¤æ–­å½“å‰ä½æ˜¯åŒè¿˜æ˜¯å¼‚,åŒ+0,å¼‚+1</span></span><br><span class="line">        &#123;</span><br><span class="line">            p=son[p][u];</span><br><span class="line">            res=res*<span class="number">2</span>+<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;<span class="comment">//æœ€åè¿”å›æ˜¯åè¿›åˆ¶å½¢æ€çš„ç­”æ¡ˆ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    idx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        <span class="built_in">insert</span>(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;   </span><br><span class="line">        res=<span class="built_in">max</span>(res,<span class="built_in">search</span>(a[i]));  <span class="comment">///search(a[i])æŸ¥æ‰¾çš„æ˜¯a[i]å€¼çš„æœ€å¤§ä¸æˆ–å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="è·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“"><a href="#è·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“" class="headerlink" title="è·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“"></a>è·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“</h4><h6 id="ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š"><a href="#ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š" class="headerlink" title="ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š"></a>ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š</h6><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/yjw123456/article/details/105159817?ops_request_misc=%7B%22request_id%22:%22166720710116782395320448%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166720710116782395320448&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-105159817-null-null.142%5Ev62%5Epc_search_tree,201%5Ev3%5Econtrol_1,213%5Ev1%5Et3_control1&utm_term=%E8%B7%B3%E8%A1%A8&spm=1018.2226.3001.4187" >(101æ¡æ¶ˆæ¯) ååˆ†é’Ÿå¼„æ‡‚ä»€ä¹ˆæ˜¯è·³è¡¨ï¼Œä¸æ‡‚å¯ä»¥æ¥æ‰“æˆ‘_æ„¤æ€’çš„å¯ä¹çš„åšå®¢-CSDNåšå®¢_è·³è¡¨<i class="fas fa-external-link-alt"></i></a></p>
<p>ä¼˜ç‚¹ï¼š<strong>å°†é“¾è¡¨æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ”¹é€ æˆlog</strong>ï¼Œ<strong>æ®è¯´å¯ä»¥å–ä»£çº¢é»‘æ ‘</strong></p>
<p>è·³è¡¨å±äºå¯¹<strong>é“¾è¡¨</strong>çš„æ”¹è¿›</p>
<p>æœ‰ç‚¹ç›¸ä¼¼kmpï¼Ÿé€šè¿‡ä¸€äº›æ‰‹æ®µåŠ å¿«è·³è·ƒçš„é€Ÿåº¦</p>
<p>æƒ³æ³•ï¼šé“¾è¡¨ä¸­å¢åŠ ä¸€äº›â€œè¶…çº§é“¾æ¥â€</p>
<h6 id="ç‰¹ç‚¹ï¼š"><a href="#ç‰¹ç‚¹ï¼š" class="headerlink" title="ç‰¹ç‚¹ï¼š"></a>ç‰¹ç‚¹ï¼š</h6><ul>
<li>è·³è¡¨ç»“åˆäº†é“¾è¡¨å’ŒäºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³</li>
<li>ç”±åŸå§‹é“¾è¡¨å’Œä¸€äº›é€šè¿‡â€œè·³è·ƒâ€ç”Ÿæˆçš„é“¾è¡¨ç»„æˆ</li>
<li><strong>ç¬¬0å±‚æ˜¯åŸå§‹é“¾è¡¨ï¼Œè¶Šä¸Šå±‚â€œè·³è·ƒâ€çš„è¶Šé«˜ï¼Œå…ƒç´ è¶Šå°‘</strong></li>
<li>ä¸Šå±‚é“¾è¡¨æ˜¯ä¸‹å±‚é“¾è¡¨çš„å­åºåˆ—</li>
<li>æŸ¥æ‰¾æ—¶ä»é¡¶å±‚å‘ä¸‹ï¼Œä¸æ–­ç¼©å°æœç´¢èŒƒå›´</li>
<li><strong>æ¯ä¸€å±‚å¢é•¿å“ªä¸€ä¸ªèŠ‚ç‚¹å®é™…ä¸Šæ˜¯éšæœºç”Ÿé•¿çš„</strong></li>
</ul>
<h6 id="æ ¸å¿ƒæ€æƒ³ï¼š"><a href="#æ ¸å¿ƒæ€æƒ³ï¼š" class="headerlink" title="æ ¸å¿ƒæ€æƒ³ï¼š"></a>æ ¸å¿ƒæ€æƒ³ï¼š</h6><ul>
<li>è·³è¡¨èŠ‚ç‚¹ä¸­ç”¨æ•°ç»„å­˜å‚¨ä¸åŒå±‚çº§çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>éšå³ç”Ÿé•¿</li>
<li>ç©ºé—´ä½¿ç”¨ç‡æœ€é«˜çš„è·³è¡¨</li>
</ul>
<h5 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h5><h6 id="æ„å»ºè¿‡ç¨‹ï¼š"><a href="#æ„å»ºè¿‡ç¨‹ï¼š" class="headerlink" title="æ„å»ºè¿‡ç¨‹ï¼š"></a>æ„å»ºè¿‡ç¨‹ï¼š</h6><p>åˆå§‹åŒ–å’Œå•é“¾è¡¨ä¸€æ ·ï¼Œä»…æœ‰ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="comment">//ä¿å­˜å€¼</span></span><br><span class="line">    E data;</span><br><span class="line">    <span class="comment">//ä¿å­˜äº†æ¯ä¸€å±‚ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¯èƒ½ä¸ºnull</span></span><br><span class="line">    List&lt;Node&gt; forwards;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Node</span>(E data) &#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">        forwards = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//äº‹å…ˆæŠŠæ¯ä¸€å±‚éƒ½ç½®ä¸ºnullï¼Œè™½ç„¶ç©ºé—´åˆ©ç”¨ç‡æ²¡é‚£ä¹ˆé«˜ï¼Œä½†æ˜¯ç®€åŒ–äº†å®ç°</span></span><br><span class="line">        <span class="comment">//ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰åˆ—è¡¨(æ¯”å¦‚Bæ ‘å®ç°ä¸­ç”¨åˆ°çš„Vector)æ¥å®ç°ï¼Œå°±å¯ä»¥ä¸ç”¨ä¸‹é¢çš„æ“ä½œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= maxLevel; i++) &#123;</span><br><span class="line">            forwards.<span class="built_in">add</span>(null);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="function">Override</span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data == null ? <span class="string">&quot; &quot;</span> : <span class="string">&quot;&quot;</span> + data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¾—åˆ°å½“å‰èŠ‚ç‚¹levelå±‚ä¸Šçš„ä¸‹ä¸€ä¸ª(å³è¾¹ä¸€ä¸ª)èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param level</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Node <span class="title">next</span><span class="params">(<span class="type">int</span> level)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.forwards.<span class="built_in">get</span>(level);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="TRIEæ ‘çš„å…¶å®ƒ"><a href="#TRIEæ ‘çš„å…¶å®ƒ" class="headerlink" title="TRIEæ ‘çš„å…¶å®ƒ"></a>TRIEæ ‘çš„å…¶å®ƒ</h6><h4 id="æ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦"><a href="#æ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦" class="headerlink" title="æ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦"></a>æ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦</h4><p>ç‰¹ç‚¹ï¼šæŸ¥æ‰¾ä¸åˆ é™¤ï¼ŒæŸ¥æ‰¾å…¨éƒ¨åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆ</p>
<p>åº”ç”¨ï¼š</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ</li>
<li>æ•°æ®åº“</li>
<li>ç¼–è¯‘å™¨</li>
<li>è®¡ç½‘</li>
<li>å›¾åƒæ£€ç´¢ï¼ˆæœ€åˆå§‹ç”¨äºäººè„¸è¯†åˆ«ç­‰ï¼‰</li>
</ul>
<h6 id="çº¿æ€§è¡¨æ€»ç»“ï¼š"><a href="#çº¿æ€§è¡¨æ€»ç»“ï¼š" class="headerlink" title="çº¿æ€§è¡¨æ€»ç»“ï¼š"></a>çº¿æ€§è¡¨æ€»ç»“ï¼š</h6><p><img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-24%20163929.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-24 163929"
                ></p>
<h6 id="å“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨"><a href="#å“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨" class="headerlink" title="å“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨"></a>å“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨</h6><p>æœ¬è´¨ï¼šç»™å®šä¸€ä¸ªè¾“å…¥ç»™å‡ºä¸€ä¸ªå”¯ä¸€çš„åºåˆ—å·è¾“å‡ºï¼Œ<strong>å°†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç©ºé—´æ˜ å°„åˆ°ä¸€ä¸ªæ¯”è¾ƒå°çš„ç©ºé—´ï¼Œå°†ä¸€ä¸ªå¤æ‚çš„æ•°æ®ç»“æ„æ˜ å°„åˆ°ä¸€ä¸ªå°çš„</strong></p>
<p>åº”ç”¨ä¸¾ä¾‹ï¼š </p>
<ul>
<li>è¾“å…¥nä¸ªæ•°10^5ï¼Œæ•°çš„èŒƒå›´+-10^9,é€‰æ‹©ä¸€äº›æ•°å­—æ’å…¥ï¼Œé€‰æ‹©å¦å¤–ä¸€äº›æ•°å­—æŸ¥è¯¢</li>
<li>æ–‡æœ¬å‹ç¼©å’Œè§£å‹ç¼©</li>
</ul>
<p>å®šä½çš„è¿‡ç¨‹ï¼šå…ƒç´ é€šè¿‡å“ˆå¸Œå‡½æ•°è½¬æ¢æˆå”¯ä¸€çš„æ•´æ•°ï¼ˆ<strong>å¿…é¡»å¿«é€Ÿè®¡ç®—</strong>ï¼‰<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-10-24%20164952.png"
                      alt="å±å¹•æˆªå›¾ 2022-10-24 164952"
                ></p>
<p>ç¬¬ä¸€æ­¥ï¼šå°†ä¸€ä¸ªå…ƒç´ æ˜ å°„æˆä¸€ä¸ªæ•´æ•°</p>
<h6 id="å“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸-å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰"><a href="#å“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸-å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰" class="headerlink" title="å“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸+å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰"></a>å“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸+å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) æ‹‰é“¾æ³•</span><br><span class="line">    <span class="type">int</span> h[N], e[N], ne[N], idx;</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span>  N=<span class="number">1e5</span>+<span class="number">3</span>;</span><br><span class="line">    <span class="comment">// å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//è¿™ä¹ˆç†è§£ï¼šå°±æ˜¯æ­£å¸¸çš„æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨ï¼Œä½†æ˜¯åŠ å…¥å“ˆå¸Œå‡½æ•°</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> k = (x % N + N) % N;</span><br><span class="line">        e[idx] = x;</span><br><span class="line">        ne[idx] = h[k];<span class="comment">//å°±æ˜¯æŠŠheadæ¢æˆäº†h[k],å› ä¸ºåŸå…ˆæ˜¯å•é“¾ï¼Œç°åœ¨å¤šé“¾</span></span><br><span class="line">        h[k] = idx ++ ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> k = (x % N + N) % N;<span class="comment">//é¦–å…ˆå“ˆå¸Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = h[k]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">            &#123;<span class="keyword">if</span> (e[i] == x)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>) å¼€æ”¾å¯»å€æ³•</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> N=<span class="number">2e5</span>+<span class="number">3</span>;<span class="comment">//å¼€æ”¾å¯»å€çš„å¤§å°è¦æ”¾å¤§çš„</span></span><br><span class="line">    <span class="type">int</span> h[N];</span><br><span class="line">	<span class="type">const</span> <span class="type">int</span> null=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = (x % N + N) % N;</span><br><span class="line">        <span class="keyword">while</span> (h[t] != null &amp;&amp; h[t] != x)<span class="comment">//è¿™é‡Œæ˜“é”™ï¼Œæ˜¯&amp;&amp;</span></span><br><span class="line">        &#123;</span><br><span class="line">            t ++ ;</span><br><span class="line">            <span class="keyword">if</span> (t == N) t = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">æ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯<span class="number">131</span>æˆ–<span class="number">13331</span>ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½</span><br><span class="line">å°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨<span class="number">2</span>^<span class="number">64</span>ï¼Œè¿™æ ·ç›´æ¥ç”¨<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>å­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœ</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line">ULL h[N], p[N]; <span class="comment">// h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    h[i] = h[i - <span class="number">1</span>] * P + str[i];</span><br><span class="line">    p[i] = p[i - <span class="number">1</span>] * P;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="function">ULL <span class="title">get</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r] - h[l - <span class="number">1</span>] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h6 id="åˆ†é…ç´¢å¼•å€¼"><a href="#åˆ†é…ç´¢å¼•å€¼" class="headerlink" title="åˆ†é…ç´¢å¼•å€¼"></a>åˆ†é…ç´¢å¼•å€¼</h6><p>è¿™é‡Œå¯¹å­—ç¬¦è¿›è¡Œå¤„ç†ï¼Œæ¯ä¸€ç§å­—ç¬¦éƒ½è§†ä¸ºä¸€ç§å¯¹åº”çš„æ•°å­—ï¼Œä¸åŒçš„ä½æ•°æœ‰ä¸åŒçš„åŠ æƒå€¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">hash</span><span class="params">(<span class="type">char</span> *key)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="type">unsigned</span> <span class="type">int</span> hash_val = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">while</span>(*key != <span class="string">&#x27;\0&#x27;</span>) </span><br><span class="line"> &#123; hash_val = (hash_val &lt;&lt; <span class="number">5</span>) + *key++;</span><br><span class="line"><span class="comment">//è¿™é‡Œä½¿ç”¨&lt;&lt;å®é™…ä¸Šå°±æ˜¯ç›´æ¥Ã—2^5</span></span><br><span class="line">  <span class="comment">//æ¯ä¸€æ¬¡ç§»åŠ¨5ä½ï¼ˆè¿™æ ·å­ç¡¬ä»¶ä¾¿äºå®ç°ï¼Œå‚è€ƒè®¡ç»„ï¼‰</span></span><br><span class="line">&#125; <span class="keyword">return</span> hash_val;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼ºç‚¹ï¼šè™½ç„¶æ—¶é—´éå¸¸é«˜æ•ˆï¼Œä½†æ˜¯ç©ºé—´æµªè´¹éå¸¸å¤§ï¼ˆæ¯•ç«Ÿä¸èƒ½è½½æ»¡ï¼‰</p>
<h6 id="å‡å°‘ç´¢å¼•å€¼ï¼š"><a href="#å‡å°‘ç´¢å¼•å€¼ï¼š" class="headerlink" title="å‡å°‘ç´¢å¼•å€¼ï¼š"></a>å‡å°‘ç´¢å¼•å€¼ï¼š</h6><p>æ–¹æ³•1ï¼šå¿½ç•¥ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œå°†å¦ä¸€éƒ¨åˆ†ç›´æ¥è§†ä¸ºç´¢å¼•å€¼</p>
<p>å¥½å¤„ï¼šå¿«ï¼Œåå¤„ï¼šéš¾äºåˆ†é…ç´¢å¼•å€¼</p>
<p>æ–¹æ³•2ï¼šæŠ˜å ï¼Œä½¿ç”¨ä¸åŒæ–¹å¼å°†åŸæ•°æ®æ‹†åˆ†ï¼Œå†åˆå¹¶åœ¨ä¸€èµ·</p>
<p>æ–¹æ³•3ï¼šä½™æ•°è¿ç®—ï¼Œå¯ä»¥å…ƒç´ å€¼é™¤ä»¥æŸä¸€ç‰¹æ®Šæ•°å­—ï¼Œä½™æ•°ç”¨ä½œç´¢å¼•å€¼ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">hash</span><span class="params">(<span class="type">char</span> *key, <span class="type">unsigned</span> <span class="type">int</span> H_SIZE)</span> </span></span><br><span class="line"><span class="function"></span>&#123; <span class="type">unsigned</span> <span class="type">int</span> hash_val = <span class="number">0</span>; <span class="keyword">while</span>(*key != <span class="string">&#x27;\0&#x27;</span>) &#123; hash_val = (hash_val &lt;&lt; <span class="number">5</span>) + *key++;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">return</span> hash_val % H_SIZE;<span class="comment">//è¿™é‡Œç¼©äº†ä¸€ä¸‹</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="å­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”-gt-å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•"><a href="#å­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”-gt-å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•" class="headerlink" title="å­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”&gt;å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•"></a>å­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”&gt;å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•</h5><p>ä½œç”¨æœ‰äº›ç±»ä¼¼kmpï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨å“ˆå¸Œè¡¨åš-&gt;ä¸€ä¸ªé›†åˆåˆ°å¦ä¸€ä¸ªé›†åˆçš„æ˜ å°„</p>
<p>å®é™…ä¸Šæ˜¯<strong>å­—ç¬¦ä¸²çš„å‰ç¼€å“ˆå¸Œæ³•</strong>ï¼Œå¯¹å‰ç¼€è¿›è¡Œå“ˆå¸Œ</p>
<p>é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚ä½•å®šä¹‰æŸä¸€ä¸ªå‰ç¼€çš„å“ˆå¸Œå€¼ï¼Œå¯ä»¥å°†å­—ç¬¦ä¸²è§†ä¸ºpè¿›åˆ¶çš„ä¸€ä¸ªæ•°ï¼Œæ¯ä¸€ä½ä¸Šçš„å­—æ¯ï¼ˆacsciiï¼‰è§†ä¸ºå¯¹åº”çš„æ•°å­—ï¼Œ<strong>ä½†æ˜¯ä¸èƒ½æ˜ å°„æˆ0</strong>-&gt;ç›¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„ç»“æœä¼šç›¸åŒ-&gt;AAç­‰ç­‰</li>
<li>å“ˆå¸Œå­—ç¬¦ä¸²<strong>å‡å®šäººå“è¶³å¤Ÿä¸å­˜åœ¨ç¢°æ’</strong>ï¼Œæ²¡æœ‰è€ƒè™‘å†²çªæƒ…å†µï¼Œç»éªŒå€¼ï¼špå–<strong>131æˆ–13331</strong>æ—¶å€™ï¼Œqå–2^64ï¼Œå‡ ä¹99%æƒ…å†µä¸ä¼šå‡ºç°å†²çª</li>
</ul>
<p>å¥½å¤„ï¼š<em><strong>å¯ä»¥åˆ©ç”¨æœ€å‰çš„å“ˆå¸Œè®¡ç®—å‡ºæ‰€æœ‰å­ä¸²çš„å“ˆå¸Œ</strong></em>ï¼Œ</p>
<p>å·²çŸ¥h[r],h[l],</p>
<p>h[r]ä¸­rä¸ºç¬¬0ä½ï¼Œh[l-1]ä¸­l-2ä¸ºç¬¬0ä½</p>
<p>æ“ä½œ</p>
<ol>
<li>h[l-1]ä¸h[r]å¯¹é½ï¼Œå³å‘åç§»åŠ¨å¤šå°‘ä½</li>
<li>h[r]-h[l-1]å°±èƒ½æ±‚å‡ºæ¥äº†</li>
</ol>
<p>å°æŠ€å·§ï¼š<strong>ä½¿ç”¨unsigned long long å­˜å‚¨æ‰€æœ‰hï¼Œç›¸å½“äºå¯¹æ‰€æœ‰æ•°å–æ¨¡äº†</strong>(å› ä¸ºæº¢å‡ºå°±ç›¸å½“äºå–æ¨¡)</p>
<p>æ€»ç»“ï¼šå·¦ç§»é«˜ä½å¯¹é½</p>
<p>ä¹‹åå¯¹å‰ç¼€å…¨éƒ¨å¤„ç†å®Œä¹‹åï¼Œå°±èƒ½ç”¨o1æ—¶é—´è®¡ç®—ä»»æ„å­ä¸²å“ˆå¸Œå€¼</p>
<p>é¢„å¤„ç†ï¼šh[i]&#x3D;h[i-1]*p+str[i] (ç¬¬iä½å­—æ¯)</p>
<p>ç‰›é€¼çš„åœ°æ–¹ï¼šæ¯”kmpç‰›é€¼ï¼š<strong>å¯ä»¥å¿«é€Ÿåˆ¤æ–­ï¼Œå¿«è¿‡o(n)</strong>,<strong>æ˜¯å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨</strong></p>
<p>ä»£ç æ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line">ULL h[N], p[N]; <span class="comment">// h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">&#123;</span><br><span class="line">    h[i] = h[i - <span class="number">1</span>] * P + str[i];</span><br><span class="line">    p[i] = p[i - <span class="number">1</span>] * P;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="function">ULL <span class="title">get</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r] - h[l - <span class="number">1</span>] * p[r - l + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´ä»£ç ï¼š</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/843/" >841. å­—ç¬¦ä¸²å“ˆå¸Œ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/solution/content/24738/" >AcWing 841. å­—ç¬¦ä¸²å“ˆå¸Œ ã€å…¬å¼åŠ©ç†è§£ã€‘ - AcWing<i class="fas fa-external-link-alt"></i></a></p>
<p><img  
                     lazyload
                     alt="image"
                     data-src="C:\Users\èƒ¡é”¡ç¿\Pictures\Screenshots\å±å¹•æˆªå›¾_20221025_085505.png"
                      alt="å±å¹•æˆªå›¾_20221025_085505"
                ></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;<span class="comment">//ä¹Ÿå°±æ˜¯å–æ¨¡2^64ï¼Œ</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span>+<span class="number">5</span>,P = <span class="number">131</span>;<span class="comment">//131 13331</span></span><br><span class="line">ULL h[N],p[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// h[i]å‰iä¸ªå­—ç¬¦çš„hashå€¼</span></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²å˜æˆä¸€ä¸ªpè¿›åˆ¶æ•°å­—ï¼Œä½“ç°äº†å­—ç¬¦+é¡ºåºï¼Œéœ€è¦ç¡®ä¿ä¸åŒçš„å­—ç¬¦ä¸²å¯¹åº”ä¸åŒçš„æ•°å­—</span></span><br><span class="line"><span class="comment">// P = 131 æˆ–  13331 Q=2^64ï¼Œåœ¨99%çš„æƒ…å†µä¸‹ä¸ä¼šå‡ºç°å†²çª</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨åœºæ™¯ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­ä¸²æ˜¯å¦ç›¸åŒ</span></span><br><span class="line"><span class="function">ULL <span class="title">query</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h[r] - h[l<span class="number">-1</span>]*p[r-l+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//ä¸ºæ±‚låˆ°rçš„å“ˆå¸Œå€¼</span></span><br><span class="line">    <span class="comment">//å·²çŸ¥h[r],h[l-1]ï¼Œä¹Ÿå°±æ˜¯1åˆ°l-1ï¼Œ1åˆ°rçš„å“ˆå¸Œå€¼</span></span><br><span class="line">    <span class="comment">//å› ä¸ºå­—ç¬¦ä¸²è§†ä¸ºä¸€ä¸ªpè¿›åˆ¶çš„æ•°ï¼Œå› æ­¤è¶Šå·¦è¾¹æƒé‡è¶Šé«˜ï¼Œä¸ºé«˜ä½ï¼Œå³è¾¹æ˜¯ä½ä½</span></span><br><span class="line">    <span class="comment">//h[r]ä¸­ræ˜¯ç¬¬0ä½ï¼Œh[1]ä¸ºr-1ä½</span></span><br><span class="line">    <span class="comment">//h[l-1]l-1æ˜¯ç¬¬0ä½ï¼Œh[1]ä¸ºl-2ä½</span></span><br><span class="line">    <span class="comment">//ä¸¤è€…ç›¸å·®r-1-l+2=r-l+1ä½</span></span><br><span class="line">    <span class="comment">//æœ¬è´¨å°±æ˜¯é«˜ä½å¯¹é½ï¼Œh[r]ä¸h[l-1]å¯¹é½ï¼Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    string x;</span><br><span class="line">    cin&gt;&gt;x;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­—ç¬¦ä¸²ä»1å¼€å§‹ç¼–å·ï¼Œh[1]ä¸ºå‰ä¸€ä¸ªå­—ç¬¦çš„å“ˆå¸Œå€¼</span></span><br><span class="line">    p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    h[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ä»¥ä¸Šæ˜¯åˆå§‹åŒ–ï¼Œç¬¬0ä½å®é™…ä¸Šä¸åŠ å…¥è®¡ç®—</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        p[i+<span class="number">1</span>] = p[i]*P;            </span><br><span class="line">        h[i+<span class="number">1</span>] = h[i]*P +x[i];      <span class="comment">//å‰ç¼€å’Œæ±‚æ•´ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œxä¹Ÿæ˜¯ä»ç¬¬ä¸€ä½å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> l1,r1,l2,r2;</span><br><span class="line">        cin&gt;&gt;l1&gt;&gt;r1&gt;&gt;l2&gt;&gt;r2;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">query</span>(l1,r1) == <span class="built_in">query</span>(l2,r2)) <span class="built_in">printf</span>(<span class="string">&quot;Yes\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜"><a href="#å“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜" class="headerlink" title="å“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜"></a>å“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜</h4><p><strong>å¯ä»¥æŠŠç¦»æ•£åŒ–çœ‹æˆä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œæ–¹å¼</strong></p>
<p><strong>å“ˆå¸Œè¡¨å±äºæœŸæœ›ç®—æ³•</strong>ï¼Œå¯ä»¥å°†å“ˆå¸Œè¡¨çš„é“¾é•¿è§†ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œ</p>
<p>ç¢°æ’ï¼šä¸¤ä¸ªç›¸åŒçš„ç´¢å¼•æ”¾åœ¨ç›¸åŒçš„ç´¢å¼•ä½ç½®</p>
<p>ç¢°æ’å¯èƒ½æ€§å¾ˆå¤§-&gt;å®šä¹‰åŸŸå¾ˆå¤§å€¼åŸŸæ¯”è¾ƒå°</p>
<h6 id="æ‹‰é“¾æ³•ï¼ˆOpen-Hashingï¼‰"><a href="#æ‹‰é“¾æ³•ï¼ˆOpen-Hashingï¼‰" class="headerlink" title="æ‹‰é“¾æ³•ï¼ˆOpen Hashingï¼‰"></a>æ‹‰é“¾æ³•ï¼ˆOpen Hashingï¼‰</h6><p>åŸç†ï¼šå¦‚æœå¤šä¸ªç´¢å¼•å€¼æœ€ç»ˆå“ˆå¸Œå€¼ç›¸åŒï¼Œä½¿ç”¨é“¾è¡¨çš„å½¢å¼å¦å¤–å­˜å‚¨ç›¸åŒçš„å€¼</p>
<p>æ·»åŠ ï¼Œç›´æ¥æ·»åŠ é“¾</p>
<p>æŸ¥æ‰¾ï¼šå¯¹åº”ä½ç½®åœ¨é“¾è¡¨éå†ä¸€ä¸‹</p>
<p>åˆ é™¤ï¼šç®—æ³•é¢˜ä¸­ä¸€èˆ¬ä¸ä¼šè¿›è¡Œåˆ é™¤èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¼šå¼€ ä¸€ä¸ªæ•°ç»„æ‰“ä¸€ä¸ªæ ‡è®°ï¼ˆå¦‚boolæ ‡è®°ï¼‰</p>
<p><strong>æ•°å­¦ä¸Šå–è´¨æ•°ï¼Œè€Œä¸”ä¸¾ä¾‹2çš„å¹‚å°½å¯èƒ½è¿œå†²çªæ¦‚ç‡æœ€å°</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">3</span>;  <span class="comment">// å–å¤§äº1e5çš„ç¬¬ä¸€ä¸ªè´¨æ•°ï¼Œè€Œä¸”è¦ç¦»2çš„æ•´æ¬¡å¹‚å°½å¯èƒ½è¿œï¼Œ å–è´¨æ•°å†²çªçš„æ¦‚ç‡æœ€å°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//* å¼€ä¸€ä¸ªæ§½ h</span></span><br><span class="line"><span class="comment">//å›¾è®ºä¸­å­˜ç‚¹çš„æ–¹å¼å’Œæ•°ç»„çš„é“¾æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ä¸€ä¸ªé“¾</span></span><br><span class="line"><span class="type">int</span> h[N], <span class="comment">//å“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="comment">//ç»å…¸æ•°ç»„å®ç°é“¾è¡¨</span></span><br><span class="line">e[N], </span><br><span class="line">ne[N], </span><br><span class="line">idx;  <span class="comment">//é‚»æ¥è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// c++ä¸­å¦‚æœæ˜¯è´Ÿæ•° é‚£ä»–å–æ¨¡ä¹Ÿæ˜¯è´Ÿçš„ æ‰€ä»¥ åŠ N å† %N å°±ä¸€å®šæ˜¯ä¸€ä¸ªæ­£æ•°</span></span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;<span class="comment">//kå°±æ˜¯å¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œè¿™ä¸€æ­¥å®ç°äº†æ˜ å°„ã€‚æ¥ä¸‹æ¥æ˜¯å†™å…¥</span></span><br><span class="line">    <span class="comment">//(x%N+N)è¿™ä¸€æ­¥ä¸ºäº†æœ€åä¸€å®šæ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå¦‚æœæ˜¯è´Ÿæ•°æ•°ç»„æ— æ³•å†™å…¥</span></span><br><span class="line">    e[idx] = x;</span><br><span class="line">    ne[idx] = h[k];</span><br><span class="line">    h[k] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç”¨ä¸Šé¢åŒæ ·çš„ Hashå‡½æ•° è®²xæ˜ å°„åˆ° ä» 0-1e5 ä¹‹é—´çš„æ•°</span></span><br><span class="line">    <span class="type">int</span> k = (x % N + N) % N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = h[k]; i != <span class="number">-1</span>; i = ne[i]) &#123;<span class="comment">//è¿™é‡Œæ˜¯éå†å¯¹åº”åˆ°çš„é“¾è¡¨</span></span><br><span class="line">        <span class="comment">//åŒæ—¶ç”±äºåˆå§‹åŒ–æ˜¯-1ï¼Œå¼€å§‹å“ˆå¸Œæ•°ç»„ä¹Ÿè¦åˆå§‹åŒ–ä¸º-1</span></span><br><span class="line">        <span class="keyword">if</span> (e[i] == x) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">-1</span>, <span class="keyword">sizeof</span> h);  <span class="comment">//å°†æ§½å…ˆæ¸…ç©º ç©ºæŒ‡é’ˆä¸€èˆ¬ç”¨ -1 æ¥è¡¨ç¤º</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        string op;<span class="comment">//å­—ç¬¦ä¸²çš„è¯ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¿½ç•¥ç©ºæ ¼ï¼Œæ¢è¡Œç¬¦ç­‰ï¼Œä¸å®¹æ˜“å‡ºé”™</span></span><br><span class="line">        <span class="comment">//æœ‰äº›è„æ•°æ®ä¼šå¢åŠ é¢å¤–ç©ºæ ¼</span></span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;I&quot;</span>) &#123;</span><br><span class="line">            <span class="built_in">insert</span>(x);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">find</span>(x)) &#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼ºç‚¹ï¼šæ¶ˆè€—ç©ºé—´</p>
<h6 id="å¼€æ”¾åœ°å€æ³•-Open-Addressing"><a href="#å¼€æ”¾åœ°å€æ³•-Open-Addressing" class="headerlink" title="å¼€æ”¾åœ°å€æ³• Open Addressing"></a>å¼€æ”¾åœ°å€æ³• Open Addressing</h6><p>æ€è·¯ï¼šåªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥æ¨¡æ‹Ÿå“ˆå¸Œè¡¨ï¼Œå› æ­¤å½¢å¼ä¼šç›¸å¯¹ç®€æ´ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ä¸€ç»´æ•°ç»„çš„é•¿åº¦åº”è¯¥æ˜¯éœ€è¦çš„æ•°ç»„å¤§å°çš„2~3å€ï¼Œ</p>
<p>ç±»ä¼¼æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨çš„æ–¹å¼ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨ç©ºä½™ç©ºé—´ä¸­ï¼Œ<strong>æƒ³è±¡ä¸Šå•æ‰€ï¼Œä¸€ä¸ªå‘ä½å®Œäº†å°±ä¸‹ä¸€ä¸ª</strong></p>
<p>æ¢æµ‹æ–¹æ³•ï¼š</p>
<ul>
<li>çº¿æ€§æ¢æµ‹</li>
</ul>
<p>ç¼ºç‚¹ï¼šè´¹æ—¶é—´ï¼Œå…ƒç´ å®¹æ˜“èšé›†ï¼Œåˆ†å¸ƒä¸å‡åŒ€ï¼Œèšé›†è¶Šå¤šæ€§èƒ½è¶Šå·®</p>
<ul>
<li>å¹³æ–¹æ¢æµ‹</li>
</ul>
<p>é¿å…äº†å…ƒç´ çš„èšé›†ï¼Œå¦‚æœé¡ºåºè¡¨é•¿åº¦ä¸ºæŒ‡æ•°ï¼Œé¡ºåºè¡¨ç©ºä½å¤šäºä¸€åŠï¼Œå¹³æ–¹æ¢æµ‹æ€»èƒ½æ’å…¥æ–°å…ƒç´ </p>
<ul>
<li>ä¼ªéšæœºæ¢æµ‹</li>
</ul>
<p>ä»£ç </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼€æ”¾å¯»å€æ³•ä¸€èˆ¬å¼€ æ•°æ®èŒƒå›´çš„ 2~3å€, è¿™æ ·å¤§æ¦‚ç‡å°±æ²¡æœ‰å†²çªäº†</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">3</span>;        <span class="comment">//å¤§äºæ•°æ®èŒƒå›´çš„ç¬¬ä¸€ä¸ªè´¨æ•°</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> null = <span class="number">0x3f3f3f3f</span>;  <span class="comment">//è§„å®šç©ºæŒ‡é’ˆä¸º null 0x3f3f3f3f</span></span><br><span class="line"><span class="comment">//è¿™ä¸ªæ•°åªè¦ä¸åœ¨åŸæœ¬æ•°æ®èŒƒå›´å†…å°±è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> h[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="comment">//è¿™ä¸€ä¸ªå‡½æ•°åŒæ—¶å®ç°æŸ¥æ‰¾å’Œæ’å…¥åŠŸèƒ½</span></span><br><span class="line">    <span class="type">int</span> t = (x % N + N) % N;</span><br><span class="line">    <span class="keyword">while</span> (h[t] != null &amp;&amp; h[t] != x) &#123;</span><br><span class="line">        t++;<span class="comment">//è¿™ä¸€æ­¥æ˜¯çº¿æ€§æ¢æµ‹ï¼Œå¯ä»¥ä½¿ç”¨å¹³æ–¹æˆ–è€…ä¼ªéšæœºä¼˜åŒ–</span></span><br><span class="line">        <span class="keyword">if</span> (t == N) &#123;<span class="comment">//å¦‚æœåˆ°å¤´äº†ï¼Œå°±è¿”å›ä»å¤´æ‰¾</span></span><br><span class="line">            t = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;  <span class="comment">//å¦‚æœè¿™ä¸ªä½ç½®æ˜¯ç©ºçš„, åˆ™è¿”å›çš„æ˜¯ä»–åº”è¯¥å­˜å‚¨çš„ä½ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(h, <span class="number">0x3f</span>, <span class="keyword">sizeof</span> h);  <span class="comment">//è§„å®šç©ºæŒ‡é’ˆä¸º 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">        string op;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; op &gt;&gt; x;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&quot;I&quot;</span>) &#123;</span><br><span class="line">            h[<span class="built_in">find</span>(x)] = x;<span class="comment">//å¦™å•Š</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (h[<span class="built_in">find</span>(x)] == null) &#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">puts</span>(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="æœé¹ƒå“ˆå¸ŒğŸ˜"><a href="#æœé¹ƒå“ˆå¸ŒğŸ˜" class="headerlink" title="æœé¹ƒå“ˆå¸ŒğŸ˜"></a>æœé¹ƒå“ˆå¸ŒğŸ˜</h4><p>æ„Ÿè§‰ï¼šæ‹†ä¸œå¢™è¡¥è¥¿å¢™ï¼Œä½†æ˜¯å¾ˆç‰›é€¼</p>
<p>ä¼˜ç‚¹ï¼šåªè¦ä¸¤ä¸ªè¡¨ä¸­é—´æœ‰å…ƒç´ ï¼Œä¸€å®šå¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°åœ¨é¡ºåºè¡¨ä¸­ç›´æ¥æ‰¾åˆ°ä¸ç”¨æ¢æµ‹ï¼Œéå¸¸é«˜æ•ˆ</p>
<p>åŸå› ï¼šæ‰€æœ‰ç´¢å¼•ä½ç½®éƒ½æ˜¯å“ˆå¸Œå‡½æ•°å¾—åˆ°</p>
<h6 id="å¤±è´¥æ—¶ï¼š"><a href="#å¤±è´¥æ—¶ï¼š" class="headerlink" title="å¤±è´¥æ—¶ï¼š"></a>å¤±è´¥æ—¶ï¼š</h6><ul>
<li>æ²¡æœ‰è¶³å¤Ÿç©ºé—´ï¼Œè·¯å¾„æ— é™å¾ªç¯</li>
<li>è½¬ç§»é“¾è¡¨è¿‡é•¿</li>
</ul>
<p>ç¼ºç‚¹ï¼šå…ƒç´ è¿‡å¤šæ—¶å€™æ’å…¥å…ƒç´ å›°éš¾</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/blubluhao/article/details/74912393?ops_request_misc=&request_id=&biz_id=102&utm_term=%E6%9D%9C%E9%B9%83%E5%93%88%E5%B8%8C&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-4-74912393.142%5Ev59%5Epc_rank_34_1,201%5Ev3%5Econtrol_1&spm=1018.2226.3001.4187" >(101æ¡æ¶ˆæ¯) æœé¹ƒæ•£åˆ—_EmberWnçš„åšå®¢-CSDNåšå®¢_æœé¹ƒæ•£åˆ—<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/awst-lee/p/16801380.html" >ã€æ•£åˆ—ã€‘æœé¹ƒæ•£åˆ—è¯¦æƒ…ä¸C++å®ç°ä»£ç  - awst_lee - åšå®¢å›­ (cnblogs.com)<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/kekukele/p/3812780.html" >Cuckoo hashç®—æ³•åˆ†æ - å¯é…·å¯ä¹ - åšå®¢å›­ (cnblogs.com)<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cuckoo_hashing" >Cuckoo hashing - Wikipedia<i class="fas fa-external-link-alt"></i></a>ï¼ˆç§‘å­¦ä¸Šç½‘çœ‹ï¼‰</p>
<p>æœé¹ƒå“ˆå¸Œä¸¾ä¾‹ï¼š</p>
<p><strong>åæ¶ˆæ¯ï¼šæ ¹æœ¬çœ‹ä¸æ‡‚</strong></p>
<p><strong>å¥½æ¶ˆæ¯ï¼šä¸ç”¨çœ‹äº†</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ºæœé¹ƒæ•£åˆ—ç”Ÿæˆæ³›å‹HashFamilyæ¥å£,ç”¨æ¥å‘å‡ºå¤šç°‡æ•£åˆ—å‡½æ•°åˆ°æœé¹ƒæ•£åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> AnyType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CuckooHashFamily</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">size_t</span> <span class="title">hash</span><span class="params">(<span class="type">const</span> AnyType&amp; x, <span class="type">int</span> which)</span><span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getNumberOfFunctions</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">generateNewFunctions</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æœé¹ƒæ•£åˆ—æ³•çš„éæ­£å¼å­—ç¬¦ä¸²æ•£åˆ—</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="type">int</span> count&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StringHashFamily</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	std::vector&lt;<span class="type">int</span>&gt; MULTIPLIERS;</span><br><span class="line">	UniformRandom r;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">StringHashFamily</span>() :<span class="built_in">MULTIPLIERS</span>(count) &#123;</span><br><span class="line">		<span class="built_in">generateNewFuntions</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">getNumberOfFunctions</span><span class="params">()</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">generateNewFuntions</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span>&amp; mult : MULTIPLIERS)</span><br><span class="line">			mult = r.<span class="built_in">nextInt</span>();</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="function"><span class="type">size_t</span> <span class="title">hash</span><span class="params">(<span class="type">const</span> string&amp; x, <span class="type">int</span> which)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="type">const</span> <span class="type">int</span> multiplier = MULTIPLIERS[which];</span><br><span class="line">		<span class="type">size_t</span> hashVal = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> ch : x)</span><br><span class="line">			hashVal = multiplier * hashVal + ch;</span><br><span class="line">		<span class="keyword">return</span> hashVal;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æœé¹ƒæ•£åˆ—ç±»æ¥å£ï¼Œå…è®¸(ç”±HashFamilyæ¨¡æ¿å‚æ•°ç±»å‹æŒ‡å®š)ä»»æ„ä¸ªæ•°çš„æ•£åˆ—å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> AnyType, <span class="keyword">typename</span> HashFamily&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HashTable</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">HashEntry</span> &#123;</span><br><span class="line">		AnyType element;</span><br><span class="line">		<span class="type">bool</span> isActive;</span><br><span class="line"> </span><br><span class="line">		<span class="built_in">HashEntry</span>(<span class="type">const</span> AnyType&amp;e=<span class="built_in">AnyType</span>(),<span class="type">bool</span> a=<span class="literal">false</span>)</span><br><span class="line">			:element&#123;e&#125;,isActive&#123;a&#125;&#123;&#125;</span><br><span class="line">		<span class="built_in">HashEntry</span>(AnyType&amp;&amp;e,<span class="type">bool</span> a=<span class="literal">false</span>)</span><br><span class="line">			:element&#123;std::<span class="built_in">move</span>(e)&#125;,isActive&#123;a&#125;&#123;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* æœé¹ƒæ•£åˆ—çš„æ’å…¥ä¾‹ç¨‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼Œ</span></span><br><span class="line"><span class="comment">	* è¯¥ç®—æ³•éšæœºé€‰æ‹©è¦é€å‡ºçš„é¡¹ï¼Œ</span></span><br><span class="line"><span class="comment">	* ä½†ä¸å†è¯•å›¾é‡æ–°é€å‡ºæœ€åçš„é¡¹ã€‚</span></span><br><span class="line"><span class="comment">	* å¦‚æœå­˜åœ¨å¤ªå¤šçš„é€å‡ºé¡¹åˆ™æ•£åˆ—è¡¨å°†å°è¯•é€‰å–æ–°çš„æ•£åˆ—å‡½æ•°(å†æ•£åˆ—)ï¼Œ</span></span><br><span class="line"><span class="comment">	* è€Œè‹¥æœ‰å¤ªå¤šçš„å†æ•£åˆ—åˆ™æ•£åˆ—è¡¨å°†æ‰©å¼ </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">insertHelper1</span><span class="params">(<span class="type">const</span> AnyType&amp; xx)</span> </span>&#123;</span><br><span class="line">		<span class="type">const</span> <span class="type">int</span> COUNT_LIMIT = <span class="number">100</span>;</span><br><span class="line">		AnyType x = xx;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="type">int</span> lastPos = <span class="number">-1</span>;</span><br><span class="line">			<span class="type">int</span> pos;</span><br><span class="line"> </span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> count = <span class="number">0</span>; count &lt; COUNT_LIMIT; ++count) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numHashFunctions; ++i)</span><br><span class="line">					pos = <span class="built_in">myhash</span>(x, i);</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">if</span> (!<span class="built_in">isActive</span>(pos)) &#123;</span><br><span class="line">					array[pos] = std::<span class="built_in">move</span>(HashEntry&#123; std::<span class="built_in">move</span>(x),<span class="literal">true</span> &#125;);</span><br><span class="line">					++currentSize;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"> </span><br><span class="line">			<span class="comment">//æ— å¯ç”¨ä½ç½®ï¼Œé€å‡ºä¸€ä¸ªéšæœºé¡¹</span></span><br><span class="line">			<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">do</span> &#123;</span><br><span class="line">				pos = <span class="built_in">myhash</span>(x, r.<span class="built_in">nextInt</span>(numHashFunctions));</span><br><span class="line">			&#125; <span class="keyword">while</span> (pos == lastPos &amp;&amp; i++ &lt; <span class="number">5</span>);</span><br><span class="line"> </span><br><span class="line">			lastPos = pos;</span><br><span class="line">			std::<span class="built_in">swap</span>(x, array[pos].element);</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span> (++rehashes &gt; ALLOWED_REHASHES) &#123;</span><br><span class="line">			<span class="built_in">expand</span>();		<span class="comment">//ä½¿æ•£åˆ—è¡¨æ‰©å¤§</span></span><br><span class="line">			rehashes = <span class="number">0</span>;	<span class="comment">//é‡ç½®rehashesçš„è®¡æ•°</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">rehash</span>();		<span class="comment">//è¡¨å¤§å°ç›¸åŒï¼Œæ•£åˆ—å‡½æ•°éƒ½æ˜¯æ–°çš„</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">insertHelper1</span><span class="params">(AnyType&amp;&amp; x)</span> </span>&#123;</span><br><span class="line">		<span class="type">const</span> <span class="type">int</span> COUNT_LIMIT = <span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="type">int</span> lastPos = <span class="number">-1</span>;</span><br><span class="line">			<span class="type">int</span> pos;</span><br><span class="line"> </span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> count = <span class="number">0</span>; count &lt; COUNT_LIMIT; ++count) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numHashFunctions; ++i)</span><br><span class="line">					pos = <span class="built_in">myhash</span>(x, i);</span><br><span class="line"> </span><br><span class="line">				<span class="keyword">if</span> (!<span class="built_in">isActive</span>(pos)) &#123;</span><br><span class="line">					array[pos] = std::<span class="built_in">move</span>(HashEntry&#123; std::<span class="built_in">move</span>(x),<span class="literal">true</span> &#125;);</span><br><span class="line">					++currentSize;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"> </span><br><span class="line">			<span class="comment">//æ— å¯ç”¨ä½ç½®ï¼Œé€å‡ºä¸€ä¸ªéšæœºé¡¹</span></span><br><span class="line">			<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">do</span> &#123;</span><br><span class="line">				pos = <span class="built_in">myhash</span>(x, r.<span class="built_in">nextInt</span>(numHashFunctions));</span><br><span class="line">			&#125; <span class="keyword">while</span> (pos == lastPos &amp;&amp; i++ &lt; <span class="number">5</span>);</span><br><span class="line"> </span><br><span class="line">			lastPos = pos;</span><br><span class="line">			std::<span class="built_in">swap</span>(x, array[pos].element);</span><br><span class="line">		&#125;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span> (++rehashes &gt; ALLOWED_REHASHES) &#123;</span><br><span class="line">			<span class="built_in">expand</span>();		<span class="comment">//ä½¿æ•£åˆ—è¡¨æ‰©å¤§</span></span><br><span class="line">			rehashes = <span class="number">0</span>;	<span class="comment">//é‡ç½®rehashesçš„è®¡æ•°</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">rehash</span>();		<span class="comment">//è¡¨å¤§å°ç›¸åŒï¼Œæ•£åˆ—å‡½æ•°éƒ½æ˜¯æ–°çš„</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">isActive</span><span class="params">(<span class="type">int</span> currentPos)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> currentPos != <span class="number">-1</span> &amp;&amp; array[currentPos].isActive;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* ä½¿ç”¨ç‰¹å®šå‡½æ•°è®¡ç®—xçš„æ•£åˆ—ä»£ç </span></span><br><span class="line"><span class="comment">	* é€‰å–é€‚å½“çš„æ•£åˆ—å‡½æ•°ï¼Œç„¶åæŠŠå®ƒæ¢ç®—æˆåˆæ³•çš„æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">size_t</span> <span class="title">myhash</span><span class="params">(<span class="type">const</span> AnyType&amp; x, <span class="type">int</span> which)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> hashFunctions.<span class="built_in">hash</span>(x, which) % array.<span class="built_in">size</span>();</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* æŸ¥æ‰¾æ‰€æœ‰æ•£åˆ—å‡½æ•°çš„ä½ç½®</span></span><br><span class="line"><span class="comment">	* è¿”å›æŸ¥é˜…æ‰€æœ‰çš„æ•£åˆ—å‡½æ•°ä»¥è¿”å›åŒ…å«é¡¹xçš„ä¸‹æ ‡ï¼Œè‹¥æ‰¾ä¸åˆ°åˆ™è¿”å›-1</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">findPos</span><span class="params">(<span class="type">const</span> AnyType&amp; x)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numHashFunctions; ++i) &#123;</span><br><span class="line">			<span class="type">int</span> pos = <span class="built_in">myhash</span>(x, i);</span><br><span class="line"> </span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">isActive</span>(pos) &amp;&amp; array[pos].element == x)</span><br><span class="line">				<span class="keyword">return</span> pos;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* åˆ›å»ºä¸€ä¸ªå¤§æ•°ç»„ä½†ä½¿ç”¨é‚£äº›ç›¸åŒçš„æ•£åˆ—å‡½æ•°</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">expand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="built_in">rehash</span>(<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(array.<span class="built_in">size</span>() / MAX_LOAD));</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* ä¿ç•™æ•°ç»„çš„å¤§å°ä¸å˜ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">	* è¯¥æ•°ç»„ä½¿ç”¨é‚£äº›æ–°é€‰å‡ºçš„æ•£åˆ—å‡½æ•°å¡«å……</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">rehash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		hashFunctions.<span class="built_in">generateNewFuntions</span>();</span><br><span class="line">		<span class="built_in">rehash</span>(array.<span class="built_in">size</span>());</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">rehash</span><span class="params">(<span class="type">int</span> newSize)</span> </span>&#123;</span><br><span class="line">		std::vector&lt;HashEntry&gt; oldArray = array;</span><br><span class="line"> </span><br><span class="line">		<span class="comment">//åˆ›å»ºæ–°çš„åŒå€å¤§å°çš„ç©ºæ•£åˆ—è¡¨</span></span><br><span class="line">		array.<span class="built_in">resize</span>(<span class="built_in">nextPrime</span>(newSize));</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span>&amp; entry : array)</span><br><span class="line">			entry.isActive = <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="comment">//å¤åˆ¶æ•´ä¸ªè¡¨</span></span><br><span class="line">		currentSize = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span>&amp; entry : oldArray)</span><br><span class="line">			<span class="keyword">if</span> (entry.isActive)</span><br><span class="line">				<span class="built_in">insert</span>(std::<span class="built_in">move</span>(entry.element));</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">constexpr</span> <span class="type">static</span> <span class="type">const</span> <span class="type">double</span> MAX_LOAD=<span class="number">0.4</span>; <span class="comment">//æœ€å¤§è£…å¡«å› å­</span></span><br><span class="line">	<span class="type">static</span> <span class="type">const</span> <span class="type">int</span> ALLOWED_REHASHES = <span class="number">5</span>; <span class="comment">//æœ€å¤§æ•£åˆ—æ¬¡æ•°</span></span><br><span class="line"> </span><br><span class="line">	vector&lt;HashEntry&gt;array;</span><br><span class="line">	<span class="type">int</span> currentSize;</span><br><span class="line">	<span class="type">int</span> numHashFunctions;</span><br><span class="line">	<span class="type">int</span> rehashes;</span><br><span class="line">	UniformRandom r;</span><br><span class="line">	HashFamily hashFunctions;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">explicit</span> <span class="title">HashTable</span><span class="params">(<span class="type">int</span> size = <span class="number">101</span>)</span> :array(nextPrime(size)) &#123;</span></span><br><span class="line">		numHashFunctions = hashFunctions.<span class="built_in">getNumberOfFunctions</span>();</span><br><span class="line">		rehashes = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">makeEmpty</span>();</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">//æ¸…ç©ºæœé¹ƒæ•£åˆ—è¡¨</span></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">makeEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		currentSize = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span>&amp; entry : array)</span><br><span class="line">			entry.isActive = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* æœç´¢æœé¹ƒæ•£åˆ—è¡¨çš„ä¾‹ç¨‹</span></span><br><span class="line"><span class="comment">	* å¦‚æœæ‰¾åˆ°xåˆ™è¿”å›true</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> AnyType&amp; x)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">findPos</span>(x) != <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	* ä»æ•£åˆ—è¡¨ä¸­åˆ é™¤x</span></span><br><span class="line"><span class="comment">	* è‹¥é¡¹xè¢«æ‰¾åˆ°ä¸”è¢«åˆ é™¤åˆ™è¿”å›true</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">remove</span><span class="params">(<span class="type">const</span> AnyType&amp; x)</span> </span>&#123;</span><br><span class="line">		<span class="type">int</span> currentPos = <span class="built_in">findPos</span>(x);</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">isActive</span>(currentPos))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">		array[currentPos].isActive = <span class="literal">false</span>;</span><br><span class="line">		--currentSize;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">//æœé¹ƒæ•£åˆ—è¡¨ä¸­å…¬æœ‰æ’å…¥æ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">insert</span><span class="params">(<span class="type">const</span> AnyType&amp; x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">contains</span>(x))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span> (currentSize &gt;= array.<span class="built_in">size</span>() * MAX_LOAD)</span><br><span class="line">			<span class="built_in">expand</span>(); </span><br><span class="line"> </span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">insertHelper1</span>(x);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">bool</span> <span class="title">insert</span><span class="params">(AnyType&amp;&amp; x)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">contains</span>(x))</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="keyword">if</span> (currentSize &gt;= array.<span class="built_in">size</span>() * MAX_LOAD)</span><br><span class="line">			<span class="built_in">expand</span>(); </span><br><span class="line"> </span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">insertHelper1</span>(std::<span class="built_in">move</span>(x));</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> currentSize;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">capacity</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> array.<span class="built_in">size</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h4><p>æœ€åé€šè¿‡çœ‹å¤§ç¥çš„ä»£ç æ‰æç„¶å¤§æ‚Ÿï¼ŒäºŒå‰æ ‘çš„å»ºç«‹ï¼Œéœ€è¦æŒ‰ç…§ä¸€æ£µæ»¡äºŒå‰æ ‘æ¥å»ºç«‹</p>
<p>é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬çš„èŠ‚ç‚¹ä¸å¤Ÿæ»¡äºŒå‰æ ‘çš„ï¼Œè¿™å°±æ˜¯å…³é”®ï¼Œç©ºèŠ‚ç‚¹ä¹Ÿéœ€è¦è¡¥ä¸Šï¼</p>
<p>ä½¿ç”¨æ•°ç»„æ„é€ ä¸€æ£µäºŒå‰æ ‘ä¹Ÿæ˜¯åŒç†ï¼</p>
<h6 id="å®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰"><a href="#å®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰"></a>å®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">1010</span>;<span class="comment">//å®Œå…¨äºŒå‰æ ‘</span></span><br><span class="line"><span class="type">int</span> tree[M]=&#123;<span class="number">0</span>&#125;;<span class="comment">//å…¨éƒ¨åˆå§‹åŒ–æˆ0æ–¹ä¾¿åˆ¤æ–­</span></span><br><span class="line"><span class="type">int</span> judge=<span class="number">1</span>;<span class="comment">//åˆ¤æ–­æ˜¯å¦ç»§ç»­è¯»å…¥</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">real_depth</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        n=n/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DLR</span><span class="params">(<span class="type">int</span> i)</span><span class="comment">//</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree[i]!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;tree[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LDR</span><span class="params">(<span class="type">int</span> i)</span><span class="comment">//ä¸­åºéå†</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree[i]!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>);</span><br><span class="line">        cout&lt;&lt;tree[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">LRD</span><span class="params">(<span class="type">int</span> i)</span><span class="comment">//ååºéå†</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tree[i]!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">DLR</span>(i*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">        cout&lt;&lt;tree[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="type">int</span> node_num=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++ )<span class="comment">//è®¡æ•°æ˜¯ç¬¬å‡ ç»„</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> node;</span><br><span class="line">        cin&gt;&gt;node;</span><br><span class="line">        tree[<span class="number">1</span>]=node;</span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(node==<span class="number">0</span>||node==<span class="number">-1</span>)<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">while</span>(judge==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin&gt;&gt; node;</span><br><span class="line">            <span class="comment">//cout&lt;&lt;&quot;node:  &quot;&lt;&lt;node&lt;&lt;endl;</span></span><br><span class="line">            ++i;</span><br><span class="line">            <span class="comment">//cout&lt;&lt;&quot;i: &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">if</span>(node==<span class="number">-1</span>)<span class="comment">//å®ç°äº†æ·±åº¦æå®šï¼Œæ¥ä¸‹æ¥æ˜¯å‰åºéå†</span></span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;<span class="built_in">real_depth</span>(i<span class="number">-1</span>) &lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(tree[i/<span class="number">2</span>]!=<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    tree[i]=node;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tree[i/<span class="number">2</span>]==<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">while</span>(tree[i/<span class="number">2</span>]==<span class="number">0</span>)i=i/<span class="number">2</span>;<span class="comment">//å›é€€åˆ°ä¸Šå±‚èŠ‚ç‚¹æ˜¯æœ‰æ•°å­—</span></span><br><span class="line">                    i=i/<span class="number">2</span>;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot;back: &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">                    <span class="keyword">while</span>(tree[i*<span class="number">2</span>])i=i*<span class="number">2</span>;</span><br><span class="line">                    i=i*<span class="number">2</span>;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot;go: &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">                    tree[i]=node;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            node_num=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">DLR</span>(<span class="number">1</span>);<span class="comment">//å®Œå…¨äºŒå‰æ ‘è®°å¾—è¦ä»èŠ‚ç‚¹1å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯åˆå§‹çš„èŠ‚ç‚¹</span></span><br><span class="line">       cout&lt;&lt;endl;</span><br><span class="line">       <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=node_num;i++)</span><br><span class="line">       &#123;</span><br><span class="line">           tree[i]=<span class="number">0</span>;<span class="comment">//æ¸…é›¶</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ ‘çš„æ¢å¤"><a href="#æ ‘çš„æ¢å¤" class="headerlink" title="æ ‘çš„æ¢å¤"></a>æ ‘çš„æ¢å¤</h4><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43889841/article/details/96907208" >(105æ¡æ¶ˆæ¯) å…ˆåºéå†ä¸­åºéå†è¿˜åŸäºŒå‰æ ‘_May Hackerçš„åšå®¢-CSDNåšå®¢_å…ˆåºéå†ä¸­åºéå†è¿˜åŸæ ‘<i class="fas fa-external-link-alt"></i></a></p>
<h5 id="ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘"><a href="#ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘" class="headerlink" title="ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘"></a>ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘</h5><p>ç†è®ºåŸºç¡€ï¼š</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/solutions/255811/cong-qian-xu-yu-zhong-xu-bian-li-xu-lie-gou-zao-9/" >105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰<i class="fas fa-external-link-alt"></i></a></p>
<h6 id="èƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿"><a href="#èƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿" class="headerlink" title="èƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿:"></a>èƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿:</h6><p>[(105æ¡æ¶ˆæ¯) æ ¹æ®å…ˆåºä¸­åºè¿˜åŸäºŒå‰æ ‘_BugMaker-shençš„åšå®¢-CSDNåšå®¢_ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘](<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42500831/article/details/105984986?ops_request_misc=&request_id=&biz_id=102&utm_term=%E5%85%88%E5%BA%8F" >https://blog.csdn.net/qq_42500831/article/details/105984986?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=å…ˆåº<i class="fas fa-external-link-alt"></i></a> + ä¸­åº æ¢å¤äºŒå‰æ ‘&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2<del>all</del>sobaiduweb~default-0-105984986.142^v63^control,201^v3^control_1,213^v2^t3_control1&amp;spm&#x3D;1018.2226.3001.4187)</p>
<p>åŸç†ï¼šä½¿ç”¨é€’å½’</p>
<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-17%20155014.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-17 155014" style="zoom:50%;" 
                >

<p>ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™æ„Ÿè°¢è¿™ä½è¥¿ç”µçš„æœ‹å‹åŠ©æˆ‘è„±ç¦»è‹¦æµ·ï¼Œæ„Ÿè°¢æ„Ÿè°¢</p>
<p>å¯ä»¥ç›´æ¥ç”¨é‚£ç§ï¼šğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ï¼ˆ<strong>æ•°æ®ç»“æ„æ”¾å‡æ˜¯æœºè€ƒï¼æœºè€ƒï¼æœºè€ƒï¼æˆ‘giaoï¼ï¼ï¼</strong>ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="type">char</span> data;</span><br><span class="line">    Node* left;</span><br><span class="line">    Node* right;</span><br><span class="line">    <span class="built_in">Node</span>(<span class="type">char</span> data)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;data = data;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">char</span>&gt; <span class="title">getCharArray</span><span class="params">(string str)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è¿™ä¸€æ­¥å°±æ˜¯ä¸ºäº†åˆ©ç”¨vectoræœ‰ç°æˆçš„æ„é€ å‡½æ•°ï¼Œèƒ½çœå¾ˆå¤šæ­¥éª¤</span></span><br><span class="line">    vector&lt;<span class="type">char</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c : str)&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        è¿™é‡Œçš„for(char c:str)å°±æ˜¯å®šä¹‰ä¸€ä¸ªéå†å­—ç¬¦cï¼Œè®©å®ƒåˆ†åˆ«ç­‰äºå­—ç¬¦ä¸²æ•°ç»„stré‡Œé¢çš„å„ä¸ªå­—ç¬¦ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œå½“cè¢«èµ‹å€¼ä¸ºstré‡Œé¢æ‰€æœ‰å­—ç¬¦å„ä¸€æ¬¡åï¼Œå°±ä¼šé€€å‡ºè¿™ä¸ªå¾ªç¯ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¿™ç›¸å½“äºJAVAçš„å¼ºforå¾ªç¯çš„è¯­æ³•ç»“æ„ã€‚ç›¸å½“äºC++çš„ï¼š</span></span><br><span class="line"><span class="comment">for( int i = 0; i &lt; s.length(); i++)</span></span><br><span class="line"><span class="comment">&#123; s[i]â€¦</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        res.<span class="built_in">push_back</span>(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Node* <span class="title">getTree</span><span class="params">(vector&lt;<span class="type">char</span>&gt;&amp; preOrder, vector&lt;<span class="type">char</span>&gt;&amp; inOrder)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(preOrder.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node* root = <span class="keyword">new</span> <span class="built_in">Node</span>(preOrder[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">//æ„é€ æ ¹ç»“ç‚¹ï¼Œå¹¶ä¸”å°†rootæŒ‡é’ˆæŒ‡å‘å‰åºçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³æ€»æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    vector&lt;<span class="type">char</span>&gt;::iterator mid = <span class="built_in">find</span>(inOrder.<span class="built_in">begin</span>(), inOrder.<span class="built_in">end</span>(), preOrder[<span class="number">0</span>]);<span class="comment">//éå†ä¸€æ¬¡æ‰¾åˆ°å‰åºåœ¨</span></span><br><span class="line">    <span class="type">int</span> left_nodes = mid - inOrder.<span class="built_in">begin</span>();<span class="comment">//æ¥ä¸‹æ¥è¿›è¡Œåˆ†åŒºå¤„ç†</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">char</span>&gt; <span class="title">left_inOrder</span><span class="params">(inOrder.begin(), mid)</span></span>;<span class="comment">//ä¸­åºçš„å·¦å­æ ‘</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œç›´æ¥ç”¨äº†vectorçš„æ„é€ ï¼Œå°†inOrderèµ‹å€¼è¿‡å»ï¼Œæœ€åä¸€ä¸ªmidä¸ä¼šå¤åˆ¶</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">char</span>&gt; <span class="title">right_inOrder</span><span class="params">(mid+<span class="number">1</span>, inOrder.end())</span></span>;<span class="comment">//ä¸­åºçš„å³å­æ ‘</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">char</span>&gt; <span class="title">left_preOrder</span><span class="params">(preOrder.begin()+<span class="number">1</span>, preOrder.begin()+<span class="number">1</span>+left_nodes)</span></span>;<span class="comment">//å‰åºçš„å·¦å­æ ‘ï¼Œå°±çœå»æ ¹èŠ‚ç‚¹äº†</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">char</span>&gt; <span class="title">right_preOrder</span><span class="params">(preOrder.begin()+<span class="number">1</span>+left_nodes, preOrder.end())</span></span>;<span class="comment">//å‰åºå³å­æ ‘</span></span><br><span class="line">    root-&gt;left = <span class="built_in">getTree</span>(left_preOrder, left_inOrder);<span class="comment">//æ–°æ ‘çš„å·¦å­æ ‘</span></span><br><span class="line">    root-&gt;right = <span class="built_in">getTree</span>(right_preOrder, right_inOrder);<span class="comment">//æ–°æ ‘å³å­æ ‘</span></span><br><span class="line">    <span class="keyword">return</span> root;<span class="comment">//è¿”å›ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">postOrder</span><span class="params">(Node* root)</span></span>&#123;<span class="comment">//åç»­éå†</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">postOrder</span>(root-&gt;left);</span><br><span class="line">    <span class="built_in">postOrder</span>(root-&gt;right);</span><br><span class="line">    cout&lt;&lt;root-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    string pre_str;</span><br><span class="line">    string in_str;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; pre_str &gt;&gt; in_str)&#123;</span><br><span class="line">        vector&lt;<span class="type">char</span>&gt; preOrder = <span class="built_in">getCharArray</span>(pre_str);<span class="comment">//stringè½¬æ¢æˆvectorå‘é‡å½¢å¼</span></span><br><span class="line">        vector&lt;<span class="type">char</span>&gt; inOrder = <span class="built_in">getCharArray</span>(in_str);<span class="comment">//</span></span><br><span class="line">        Node* root = <span class="built_in">getTree</span>(preOrder, inOrder);</span><br><span class="line">        <span class="built_in">postOrder</span>(root);</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>LeetCodeè§£æ³•ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">        <span class="function">TreeNode* <span class="title">traversal</span> <span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; inorder, <span class="type">int</span> inorderBegin, <span class="type">int</span> inorderEnd, vector&lt;<span class="type">int</span>&gt;&amp; preorder, <span class="type">int</span> preorderBegin, <span class="type">int</span> preorderEnd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (preorderBegin == preorderEnd) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> rootValue = preorder[preorderBegin]; <span class="comment">// æ³¨æ„ç”¨preorderBegin ä¸è¦ç”¨0</span></span><br><span class="line">        TreeNode* root = <span class="keyword">new</span> <span class="built_in">TreeNode</span>(rootValue);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (preorderEnd - preorderBegin == <span class="number">1</span>) <span class="keyword">return</span> root;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> delimiterIndex;</span><br><span class="line">        <span class="keyword">for</span> (delimiterIndex = inorderBegin; delimiterIndex &lt; inorderEnd; delimiterIndex++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (inorder[delimiterIndex] == rootValue) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ‡å‰²ä¸­åºæ•°ç»„</span></span><br><span class="line">        <span class="comment">// ä¸­åºå·¦åŒºé—´ï¼Œå·¦é—­å³å¼€[leftInorderBegin, leftInorderEnd)</span></span><br><span class="line">        <span class="type">int</span> leftInorderBegin = inorderBegin;</span><br><span class="line">        <span class="type">int</span> leftInorderEnd = delimiterIndex;</span><br><span class="line">        <span class="comment">// ä¸­åºå³åŒºé—´ï¼Œå·¦é—­å³å¼€[rightInorderBegin, rightInorderEnd)</span></span><br><span class="line">        <span class="type">int</span> rightInorderBegin = delimiterIndex + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> rightInorderEnd = inorderEnd;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ‡å‰²å‰åºæ•°ç»„</span></span><br><span class="line">        <span class="comment">// å‰åºå·¦åŒºé—´ï¼Œå·¦é—­å³å¼€[leftPreorderBegin, leftPreorderEnd)</span></span><br><span class="line">        <span class="type">int</span> leftPreorderBegin =  preorderBegin + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> leftPreorderEnd = preorderBegin + <span class="number">1</span> + delimiterIndex - inorderBegin; <span class="comment">// ç»ˆæ­¢ä½ç½®æ˜¯èµ·å§‹ä½ç½®åŠ ä¸Šä¸­åºå·¦åŒºé—´çš„å¤§å°size</span></span><br><span class="line">        <span class="comment">// å‰åºå³åŒºé—´, å·¦é—­å³å¼€[rightPreorderBegin, rightPreorderEnd)</span></span><br><span class="line">        <span class="type">int</span> rightPreorderBegin = preorderBegin + <span class="number">1</span> + (delimiterIndex - inorderBegin);</span><br><span class="line">        <span class="type">int</span> rightPreorderEnd = preorderEnd;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;----------&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;leftInorder :&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = leftInorderBegin; i &lt; leftInorderEnd; i++) &#123;</span><br><span class="line">            cout &lt;&lt; inorder[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;rightInorder :&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = rightInorderBegin; i &lt; rightInorderEnd; i++) &#123;</span><br><span class="line">            cout &lt;&lt; inorder[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;leftPreorder :&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = leftPreorderBegin; i &lt; leftPreorderEnd; i++) &#123;</span><br><span class="line">            cout &lt;&lt; preorder[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;rightPreorder :&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = rightPreorderBegin; i &lt; rightPreorderEnd; i++) &#123;</span><br><span class="line">            cout &lt;&lt; preorder[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        root-&gt;left = <span class="built_in">traversal</span>(inorder, leftInorderBegin, leftInorderEnd,  preorder, leftPreorderBegin, leftPreorderEnd);</span><br><span class="line">        root-&gt;right = <span class="built_in">traversal</span>(inorder, rightInorderBegin, rightInorderEnd, preorder, rightPreorderBegin, rightPreorderEnd);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">TreeNode* <span class="title">buildTree</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; preorder, vector&lt;<span class="type">int</span>&gt;&amp; inorder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (inorder.<span class="built_in">size</span>() == <span class="number">0</span> || preorder.<span class="built_in">size</span>() == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">traversal</span>(inorder, <span class="number">0</span>, inorder.<span class="built_in">size</span>(), preorder, <span class="number">0</span>, preorder.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="å¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜"><a href="#å¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜" class="headerlink" title="å¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜"></a>å¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜</h4><p><strong>é¢è¯•å®˜ä¸€èˆ¬éƒ½ä¹ æƒ¯å»é—®ä¸€äº›ä»£ç çŸ­ä½†æ˜¯æ€è·¯ç²¾å·§çš„ï¼ˆä¾¿äºæ‰‹å†™ä»£ç ï¼‰</strong></p>
<p>æå‰å­¦ä¹ çŸ¥è¯†ï¼šé“¾è¡¨ï¼Œçº¿æ€§è¡¨</p>
<p>å…¨åï¼šå½’å¹¶æŸ¥æ‰¾é›†åˆï¼Œå³åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆ</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/838/" >836. åˆå¹¶é›†åˆ - AcWingé¢˜åº“<i class="fas fa-external-link-alt"></i></a></p>
<p>å¯é€‰æ–¹æ³•ï¼š</p>
<ul>
<li>å»ºä¸¤ä¸ªå“ˆå¸Œè¡¨åˆ†åˆ«æ‰¾</li>
<li>å»ºä¸¤ä¸ªè·³è¡¨åˆ†åˆ«æ‰¾</li>
</ul>
<p>åœ¨é›†åˆç»å¸¸åŠ¨æ€å˜åŒ–æ—¶å€™ï¼ŒæŸ¥æ‰¾æ–¹æ³•æ•ˆç‡å¹¶ä¸é«˜</p>
<h6 id="å¹¶æŸ¥é›†åº”ç”¨ï¼š"><a href="#å¹¶æŸ¥é›†åº”ç”¨ï¼š" class="headerlink" title="å¹¶æŸ¥é›†åº”ç”¨ï¼š"></a>å¹¶æŸ¥é›†åº”ç”¨ï¼š</h6><p>å¿«é€Ÿå¤„ç†ä¸‹åˆ—é—®é¢˜ï¼š</p>
<ol>
<li>å°†ä¸¤ä¸ªé›†åˆåˆå¹¶</li>
<li>è¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆä¸­</li>
</ol>
<p><strong>å¹¶æŸ¥é›†èƒ½åœ¨è¿‘ä¹Oï¼ˆ1ï¼‰çš„æ—¶é—´å¤æ‚åº¦ä¹‹å†…å¿«é€Ÿæ”¯æŒä»¥ä¸Šä¸¤ç§æ“ä½œ</strong></p>
<p>æ­£å¸¸ï¼šåˆå¹¶å…ƒç´ æ–¹å¼ï¼Œè‡³å°‘éœ€è¦å¯¹çº¿æ€§è¡¨&#x2F;é“¾è¡¨æ•´ä¸ªè¿›è¡Œä¸€æ¬¡éå†ï¼Œè€—æ—¶é«˜</p>
<h6 id="åŸºæœ¬åŸç†ï¼š"><a href="#åŸºæœ¬åŸç†ï¼š" class="headerlink" title="åŸºæœ¬åŸç†ï¼š"></a>åŸºæœ¬åŸç†ï¼š</h6><p><strong>æ¯ä¸€ä¸ªé›†åˆä½¿ç”¨ä¸€æ£µæ ‘æ¥ç»´æŠ¤ï¼ˆä¸ä¸€å®šæ˜¯äºŒå‰æ ‘ï¼Œå¯èƒ½æ˜¯ä¸‰å‰æ ‘ï¼ŒB+æ ‘ç­‰ï¼‰ï¼Œæ¯ä¸€ä¸ªé›†åˆçš„ç¼–å·å°±æ˜¯æ ¹èŠ‚ç‚¹çš„ç¼–å·</strong>ï¼Œæ ‘ä¸­å¯¹äºæ¯ä¸€ä¸ªç‚¹éƒ½å­˜å‚¨å…¶çˆ¶èŠ‚ç‚¹ï¼ˆç”¨p[x]è¡¨ç¤ºxçš„çˆ¶èŠ‚ç‚¹ï¼‰ï¼Œåœ¨æ±‚æŸä¸ªå…ƒç´ æ˜¯å¦å±äºæŸä¸€ä¸ªé›†åˆçš„æ—¶å€™ï¼Œå°±åœ¨è¯¥å…ƒç´ å‘ä¸Šéå†ï¼ŒçŸ¥é“åˆ°è¾¾æ ¹èŠ‚ç‚¹ï¼Œæœ€ååˆ¤æ–­æ ¹èŠ‚ç‚¹çš„ç¼–å·æ˜¯å¦æ˜¯æ‰€éœ€ç¼–å·</p>
<p><strong>è§£å†³é—®é¢˜ä¸æµç¨‹ï¼š</strong></p>
<ol>
<li><p>å¦‚ä½•åˆ¤æ–­æ ‘æ ¹ï¼Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(p[x]==x)<span class="comment">//å¯¹äºæ ‘æ ¹ç¼–å·ç­‰äºè‡ªèº«</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚ä½•æ±‚xçš„é›†åˆç¼–å·:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(p[x]!=x)x=p[x]<span class="comment">//å¤šä¹ˆç†Ÿæ‚‰çš„é“¾è¡¨çš„éå†æ“ä½œï¼Œå› æ­¤æ˜¯é“¾è¡¨å®ç°</span></span><br><span class="line">    <span class="comment">//è¿™ä¸€æ­¥å®é™…ä¸Šçš„æ—¶é—´å¤æ‚åº¦ä¼šé«˜ï¼Œå› ä¸ºè¿˜æ˜¯ä¼šå‘ä¸Šè¿›è¡Œä¸€ä¸ªéå†ï¼Œæ—¶é—´å’Œæ ‘çš„é«˜åº¦æœ‰å…³ï¼Œå› æ­¤æ ‘æœ€å¥½é«˜åº¦è¶Šä½è¶Šå¥½</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼š<strong>åŠ ä¸€æ¡è¾¹ï¼Œå°†ä¸€ä¸ªæ ‘æ’å…¥åˆ°å¦ä¸€æ£µæ ‘èº«ä¸Šå°±å¯ä»¥</strong></p>
<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-17%20164329.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-17 164329" style="zoom:33%;" 
                >

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡è®¾p[x]æ˜¯xé›†åˆç¼–å·ï¼Œp[y]æ˜¯yçš„é›†åˆç¼–å·ï¼Œé‚£ä¹ˆåªéœ€è¦</span></span><br><span class="line">p[x]=y</span><br></pre></td></tr></table></figure></li>
</ol>
<h6 id="å†™æ³•ï¼š"><a href="#å†™æ³•ï¼š" class="headerlink" title="å†™æ³•ï¼š"></a>å†™æ³•ï¼š</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span><span class="comment">//æ ¸å¿ƒçš„å‡½æ•°</span></span></span><br><span class="line"><span class="function">    <span class="comment">//åŠ ä¸Šè·¯å¾„å‹ç¼©ï¼Œä¼šè‡ªåŠ¨æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//if(p[x]!=x)x=p[x];</span></span><br><span class="line">    <span class="keyword">if</span>(p[x]!=x)p[x]=<span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="comment">//æ˜“é”™ï¼šp[x]=find(p[x])è¿™é‡Œè¦æ›´æ–°çš„</span></span><br><span class="line">    <span class="comment">//æ˜“é”™ï¼šè¿™é‡Œæ˜¯ifä¸èƒ½æ˜¯å¾ªç¯while</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    ä¸Šé¢ä¸¤å¥åˆ†åˆ«æ˜¯æ™®é€šç‰ˆæœ¬å’ŒåŠ è¿‡è·¯å¾„ä¼˜åŒ–çš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">    ç¬¬ä¸€ä¸ªå°±æ˜¯æ™®é€šå¾ªç¯è¿›è¡ŒæŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">    ç¬¬äºŒå±€æ˜¯è°ƒç”¨é€’å½’ï¼Œæ¯ä¸€æ¬¡åœ¨å¯»æ‰¾çš„æ—¶å€™éƒ½ä¼šå¯¹å½“å‰çš„èŠ‚ç‚¹è¿›è¡Œæ›´æ–°ï¼Œåˆæ¬¡æ‰§è¡Œä¼šæ…¢ï¼Œä¹‹åé€Ÿåº¦ä¼šé£å‡</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> p[x];<span class="comment">//æœ€åè¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        p[x]=y;<span class="comment">//æ ¸å¿ƒå‡½æ•°äºŒï¼šåˆå¹¶     </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¨ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">100010</span>;</span><br><span class="line"><span class="type">int</span> p[N];<span class="comment">//å®šä¹‰å¤šä¸ªé›†åˆ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p[x]!=x) p[x]=<span class="built_in">find</span>(p[x]);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    ç»ä¸Šè¿°å¯ä»¥å‘ç°,æ¯ä¸ªé›†åˆä¸­åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„p[x]å€¼ç­‰äºä»–è‡ªå·±,å³:</span></span><br><span class="line"><span class="comment">    p[x]=x;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> p[x];</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°äº†ä¾¿è¿”å›ç¥–å®—èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x ,<span class="type">int</span> y)</span><span class="comment">//è¿™é‡Œæ˜¯æŠŠxçš„å¤´å¹¶åˆ°yäº†</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p[<span class="built_in">find</span>(x)]=<span class="built_in">find</span>(y);<span class="comment">//è¿™é‡Œè¿›è¡Œæ“ä½œä½¿ç”¨ä¸Šä¸€æ­¥çš„findå‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) p[i]=i;</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%d%d&quot;</span>,op,&amp;a,&amp;b);</span><br><span class="line">        <span class="keyword">if</span>(*op==<span class="string">&#x27;M&#x27;</span>) <span class="built_in">merge</span>(a,b);<span class="comment">//é›†åˆåˆå¹¶æ“ä½œ</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">find</span>(a)==<span class="built_in">find</span>(b))</span><br><span class="line">        <span class="comment">//å¦‚æœç¥–å®—èŠ‚ç‚¹ä¸€æ ·,å°±è¾“å‡ºyes</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Yes\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="å¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©"><a href="#å¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©" class="headerlink" title="å¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©"></a>å¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©</h5><p><strong>å¹¶æŸ¥é›†æœ€ç‰›é€¼çš„ä¼˜åŒ–æ–¹å¼ï¼Œå¦ä¸€ç§ä¼˜åŒ–åŸºæœ¬å†™ä»£ç æ—¶å€™ä¸ä¼šä½¿ç”¨</strong></p>
<p>åŸç†ï¼š<strong>ä¸€æ—¦åœ¨å‘ä¸Šèµ°çš„æ—¶å€™æ‰¾åˆ°äº†æ ¹èŠ‚ç‚¹ï¼Œå°†è¯¥è·¯å¾„æ‰€æœ‰èŠ‚ç‚¹éƒ½æŒ‡å‘æ ¹èŠ‚ç‚¹</strong>ï¼Œå³åªéœ€è¦æœç´¢ä¸€æ¬¡ï¼Œä¹‹åçš„é‡å¤æ“ä½œé€Ÿåº¦å°±ä¼šæé«˜ï¼Œå¯ä»¥è§†ä¸ºOï¼ˆ1ï¼‰ä¼˜åŒ–</p>
<h6 id="ä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶"><a href="#ä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶" class="headerlink" title="ä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶"></a>ä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶</h6><p>é˜²æ­¢æ ‘è¶Šæ¥è¶Šé«˜</p>
<p>è®°å½•æ¯æ£µæ ‘å…ƒç´ çš„ä¸ªæ•°ä½œä¸ºæ ‘çš„æƒé‡</p>
<h4 id="å †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œ"><a href="#å †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œ" class="headerlink" title="å †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œ"></a>å †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œ</h4><p>åº”ç”¨ï¼š</p>
<ul>
<li>æ„é€ ä¼˜å…ˆé˜Ÿåˆ—</li>
</ul>
<p>ï¼ˆä¸ç”¨stlï¼‰æ‰‹æ“ä¸€ä¸ªå †ï¼Œå †çš„åŸºæœ¬</p>
<ul>
<li>æ’å…¥ä¸€ä¸ªæ•°</li>
<li>æ±‚è¿™ä¸ªé›†åˆå½“ä¸­çš„æœ€å°å€¼</li>
<li>åˆ é™¤æœ€å°å€¼</li>
<li>åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼ˆstlæ— æ³•ç›´æ¥å®ç°ï¼‰</li>
<li>ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼ˆstlæ— æ³•ç›´æ¥å®ç°ï¼‰</li>
</ul>
<h6 id="å †çš„åŸºæœ¬ç»“æ„ï¼š"><a href="#å †çš„åŸºæœ¬ç»“æ„ï¼š" class="headerlink" title="å †çš„åŸºæœ¬ç»“æ„ï¼š"></a>å †çš„åŸºæœ¬ç»“æ„ï¼š</h6><p>å †å±äºä¸€æ£µ<strong>å®Œå…¨</strong>äºŒå‰æ ‘ï¼ˆæŒ‡é™¤äº†æœ€åä¸€æ’å…¶ä»–éƒ½æ˜¯å‡åŒ€åˆ†å¸ƒï¼Œå³æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸æ˜¯éç©ºï¼‰ï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹ä»å·¦åˆ°å³ä¾æ¬¡æ’åˆ—</p>
<p>å°æ ¹å †çš„æ€§è´¨ï¼šæ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯å°äºç­‰äºå·¦å³å„¿å­ï¼ˆå³é€’å½’å®šä¹‰ï¼‰ï¼Œåˆ™æ ¹èŠ‚ç‚¹å°±æ˜¯æœ€å°å€¼</p>
<p>å¤§æ ¹å †ï¼šç›¸å</p>
<p><strong>å‡¡æ˜¯å®Œå…¨äºŒå‰æ ‘éƒ½æ˜¯ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨çš„</strong></p>
<p>1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹</p>
<p><strong>xçš„å·¦å„¿å­ä¸‹æ ‡ï¼š2x,</strong></p>
<p><strong>xçš„å³å„¿å­ä¸‹æ ‡ï¼š2x+1</strong></p>
<p>stlé‡Œé¢çš„å †å°±æ˜¯ä¼˜å…ˆé˜Ÿåˆ—</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦éå¸¸ç¨³å®šï¼Œä¸ä¾èµ–åŸå§‹è®°å½•çŠ¶æ€	 </li>
<li>æ˜¯ä¸€ç§ä¸ç¨³å®šçš„æ’åºæ–¹æ³•ï¼ˆè®°å½•æ¯”è¾ƒä¸äº¤æ¢è·³è·ƒè¿›è¡Œï¼‰</li>
</ul>
<h6 id="åŸºæœ¬å‡½æ•°ï¼š"><a href="#åŸºæœ¬å‡½æ•°ï¼š" class="headerlink" title="åŸºæœ¬å‡½æ•°ï¼š"></a>åŸºæœ¬å‡½æ•°ï¼š</h6><p>down(x)ï¼šå¦‚æœæŸä¸€ä¸ªç‚¹çš„å€¼å˜å¤§ï¼Œå°±å°†è¯¥å€¼å‘ä¸‹å‹</p>
<p>up(x)ï¼šå¦‚æœä¸€ä¸ªç‚¹çš„å€¼å˜å°ï¼Œå‘ä¸Šå‡</p>
<p>ä¸¤ä¸ªå‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°éƒ½å’ŒäºŒå‰æ ‘çš„æ·±åº¦æˆæ­£æ¯”ï¼Œä¹Ÿå°±æ˜¯logn</p>
<p><strong>è¿™é‡Œçš„xå®é™…ä¸Šæ˜¯æ‰€å¤„çš„ä½ç½®</strong></p>
<p>ç”±åŸºæœ¬å‡½æ•°æ„æˆå †çš„å‡ ç§æ“ä½œï¼š</p>
<ol>
<li>æ’å…¥ä¸€ä¸ªæ•°</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">heap[++size]=x;<span class="comment">//è¿™ä¸€æ­¥å°†å †æ•°ç»„çš„æœ€åå†ä¸€ä¸ªæ¢æˆéœ€è¦çš„æ•°</span></span><br><span class="line"><span class="built_in">up</span>(size);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ±‚æœ€å°å€¼</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heap[<span class="number">1</span>];<span class="comment">//æ˜¯å°æ ¹å †ï¼Œåˆ™å°±æœ€ä¸Šé¢çš„å°±æ˜¯æœ€å°çš„</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åˆ é™¤æœ€å°å€¼(ä¹Ÿå°±æ˜¯æœ€é¡¶éƒ¨çš„æ ¹èŠ‚ç‚¹çš„åˆ é™¤)</li>
</ol>
<p><strong>æ€è·¯</strong>ï¼šç”¨å †åº•éƒ¨çš„æœ€åä¸€ä¸ªå…ƒç´ è¦†ç›–æ‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¿›è¡Œdownï¼ˆ1)</p>
<p>åŸç†ï¼š<strong>å­˜å‚¨ç»“æ„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</strong>ï¼Œåˆ é™¤å°¾éƒ¨èŠ‚ç‚¹å¾ˆå®¹æ˜“ï¼ˆç›´æ¥sizeâ€“å°±è¡Œï¼‰ï¼Œä½†åˆ é™¤å¤´éƒ¨å´å¾ˆéº»çƒ¦</p>
<p>è¦†ç›–æ‰ä¹‹åå†ä½¿ç”¨å‘ä¸‹å‡½æ•°downä¼šè®©é¡¶éƒ¨å…ƒç´ ä¸‹æ²‰åˆ°æ­£ç¡®ä½ç½®</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap[<span class="number">1</span>]=heap[size];</span><br><span class="line">size--;</span><br><span class="line"><span class="built_in">down</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>åˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ ,å’Œåˆ é™¤å¤´éƒ¨ä¸å¤ªä¸€æ ·åœ¨äºä¸ç¡®å®šæ”¹å˜å€¼ä¹‹åæ˜¯å¤§è¿˜æ˜¯å°</li>
</ol>
<p><strong>ç®€å•ç²—æš´å¥½ä½¿çš„åŠæ³•ï¼šç®¡ä»–å‘¢ï¼Œdownä¸€æ¬¡ï¼Œupä¸€æ¬¡ï¼Œå› ä¸ºupå’Œdownå®é™…ä¸Šåªä¼šæ‰§è¡Œä¸€æ¬¡</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">heap[k]=heap[size];</span><br><span class="line">size--;<span class="comment">//</span></span><br><span class="line"><span class="built_in">down</span>(k);</span><br><span class="line"><span class="built_in">up</span>(k);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>ä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼šåŒåˆ é™¤ä¸€ä¸ªå…ƒç´ çš„æ“ä½œ</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heap[k]=x;</span><br><span class="line"><span class="built_in">down</span>(k);</span><br><span class="line"><span class="built_in">up</span>(k);</span><br></pre></td></tr></table></figure>

<h6 id="æ„å»ºå°ç»†èŠ‚ï¼š"><a href="#æ„å»ºå°ç»†èŠ‚ï¼š" class="headerlink" title="æ„å»ºå°ç»†èŠ‚ï¼š"></a><strong>æ„å»ºå°ç»†èŠ‚ï¼š</strong></h6><p>ä¸åŒäºå…¶å®ƒçš„ä¸€èˆ¬é‡‡ç”¨ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯¹äºæ ‘å½¢ç»“æ„ï¼Œå› ä¸ºæ ‘çš„æ€§è´¨æœ‰å·¦å„¿å­&#x3D;æ ¹&#x2F;2ï¼Œå¦‚æœä»0å¼€å§‹å·¦å„¿å­ä¹Ÿæ˜¯0ï¼Œä¸æ–¹ä¾¿ï¼Œå› æ­¤å †æ’åºå®é™…ä¸Šæ˜¯ä»1å¼€å§‹</p>
<h5 id="å¼€å§‹æ„å»ºï¼š"><a href="#å¼€å§‹æ„å»ºï¼š" class="headerlink" title="å¼€å§‹æ„å»ºï¼š"></a>å¼€å§‹æ„å»ºï¼š</h5><h6 id="æ„å»ºå †"><a href="#æ„å»ºå †" class="headerlink" title="æ„å»ºå †"></a>æ„å»ºå †</h6><p>å¯ä»¥ç”¨æ’å…¥çš„æ–¹å¼æ“ä½œï¼Œä½†æ¯ä¸€æ¬¡æ’å…¥éƒ½æ˜¯lognï¼Œå®é™…ä¸Šä¸å¥½</p>
<p>æœ‰æ—¶é—´å¤æ‚åº¦ä¸ºonçš„æ–¹å¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=size/<span class="number">2</span>,i&gt;<span class="number">0</span>;i--)<span class="built_in">down</span>(i);</span><br></pre></td></tr></table></figure>

<h6 id="æ„å»ºup"><a href="#æ„å»ºup" class="headerlink" title="æ„å»ºup"></a>æ„å»ºup</h6><p>å¦™å•Šï¼ˆå‘å‡ºæŠ±å¤§ä½¬å¤§è…¿çš„å£°éŸ³ï¼‰ğŸ˜</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">up</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (u / <span class="number">2</span> &amp;&amp; h[u] &lt; h[u / <span class="number">2</span>])<span class="comment">//ä¸ç®¡uæ˜¯å·¦å³å„¿å­ï¼Œéƒ½ä¸é‡è¦ï¼Œç›´æ¥/2æŒ‡å‘çš„åŒäº²éƒ½æ˜¯åŒä¸€ä¸ª</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(u, u / <span class="number">2</span>);</span><br><span class="line">        u &gt;&gt;= <span class="number">1</span>;<span class="comment">//uå˜æˆåŸå…ˆçš„äºŒåˆ†ä¹‹ä¸€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="æ„å»ºdown"><a href="#æ„å»ºdown" class="headerlink" title="æ„å»ºdown"></a>æ„å»ºdown</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=u;</span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>]&lt;h[t])t=u*<span class="number">2</span>;<span class="comment">//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°</span></span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>+<span class="number">1</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>+<span class="number">1</span>]&lt;=h[t])t=u*<span class="number">2</span>+<span class="number">1</span>;<span class="comment">//åˆ¤æ–­å³å„¿å­å’Œå¤§å°</span></span><br><span class="line">    <span class="comment">//æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">if</span>(u!=t)<span class="comment">//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[u],h[t]);</span><br><span class="line">        <span class="built_in">down</span>(t);<span class="comment">//é€’å½’å‘ä¸‹ç»§ç»­å¼„</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ¨¡æ‹Ÿå †"><a href="#æ¨¡æ‹Ÿå †" class="headerlink" title="æ¨¡æ‹Ÿå †"></a>æ¨¡æ‹Ÿå †</h5><p><strong>éš¾ç‚¹ï¼šæ”¯æŒéšæœºçš„ä¿®æ”¹å’Œåˆ é™¤</strong>,é¢˜ä¸­è¦æ±‚æ˜¯ç¬¬iä¸ªï¼Œä½†æ˜¯iå¯¹åº”çš„ä¸‹æ ‡ä¼šéšç€æ“ä½œå˜åŒ–ä¸‹æ ‡è·Ÿç€å˜åŒ–ï¼Œéœ€è¦å®æ—¶æ›´æ–°ã€‚å› æ­¤<strong>æ˜ å°„ä¹Ÿè¦äº¤æ¢å¥½</strong></p>
<p><strong>è§£æ³•ï¼šä½¿ç”¨æ˜ å°„,è€ç‰›é€¼äº†</strong></p>
<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-10%20234320.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-10 234320" style="zoom:33%;" 
                >

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1</span></span><br><span class="line"><span class="comment">// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„</span></span><br><span class="line"><span class="type">int</span> h[N], ph[N], hp[N], size;</span><br><span class="line"><span class="comment">//phä»å·¦åˆ°å³ï¼Œhpä»å³åˆ°å·¦ã€</span></span><br><span class="line"><span class="comment">//äº¤æ¢æ•°çš„æ—¶å€™ï¼ŒæŒ‡é’ˆä¹Ÿè¦äº¤æ¢</span></span><br><span class="line"><span class="comment">// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heap_swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span><span class="comment">//é’ˆå¯¹è¿™ä¸€é“é¢˜å¼€å‘çš„æ˜ å°„å…³ç³»è½¬æ¢</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">swap</span>(ph[hp[a]],ph[hp[b]]);<span class="comment">//æŒ‡é’ˆäº¤æ¢</span></span><br><span class="line">    <span class="built_in">swap</span>(hp[a], hp[b]);<span class="comment">//é€†æŒ‡é’ˆäº¤æ¢</span></span><br><span class="line">    <span class="built_in">swap</span>(h[a], h[b]);<span class="comment">//æ•°å€¼äº¤æ¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span>] &lt; h[t]) t = u * <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (u * <span class="number">2</span> + <span class="number">1</span> &lt;= size &amp;&amp; h[u * <span class="number">2</span> + <span class="number">1</span>] &lt; h[t]) t = u * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (u != t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, t);</span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">up</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (u / <span class="number">2</span> &amp;&amp; h[u] &lt; h[u / <span class="number">2</span>])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">heap_swap</span>(u, u / <span class="number">2</span>);</span><br><span class="line">        u &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// O(n)å»ºå †</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = n / <span class="number">2</span>; i; i -- ) <span class="built_in">down</span>(i);</span><br></pre></td></tr></table></figure>

<h6 id="è§£é¢˜æŠ€å·§ï¼š"><a href="#è§£é¢˜æŠ€å·§ï¼š" class="headerlink" title="è§£é¢˜æŠ€å·§ï¼š"></a>è§£é¢˜æŠ€å·§ï¼š</h6><p>å½“é¢˜ä¸­æœ‰æ˜ç¡®ç»™å‡ºç¬¬iä¸ªæ“ä½œæ•°ï¼Œè¦è€ƒè™‘å¦‚ä½•é€šè¿‡æ›´æ–°æ“ä½œæ•°çš„ä¸‹æ ‡</p>
<img  
                     lazyload
                     alt="image"
                     data-src="../../../../../me/%E9%85%8D%E5%9B%BE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-11-10%20234320.png"
                      alt="å±å¹•æˆªå›¾ 2022-11-10 234320" style="zoom:50%;" 
                >

<h5 id="å †æ’åºï¼šonlogn"><a href="#å †æ’åºï¼šonlogn" class="headerlink" title="å †æ’åºï¼šonlogn"></a>å †æ’åºï¼šonlogn</h5><p><strong>ä¸€èˆ¬å‡åºä½¿ç”¨å¤§é¡¶å †ï¼Œé™åºé‡‡ç”¨å°é¡¶å †</strong></p>
<p>ä¸¾ä¾‹ï¼šå¯¹æ•°ç»„è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œè¾“å‡ºå‰må°çš„æ•°</p>
<p>æ€è·¯ï¼š<strong>æœ¬é¢˜å¯ä»¥ä½¿ç”¨å †æ’åºï¼Œæ„é€ å°é¡¶å †ï¼Œç„¶åè¾“å‡ºå †é¡¶ï¼Œè¾“å‡ºåæŠŠå †é¡¶å’Œå †å°¾äº¤æ¢ã€‚å°¾éƒ¨è¾¹ç•Œç¼©å°ï¼Œé‡å¤æ‰§è¡Œmæ¬¡å³å¯ã€‚</strong></p>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>å’Œå®Œå…¨äºŒå‰æ ‘ä¸€æ ·ä¸‹æ ‡ä»1å¼€å§‹</li>
</ul>
<h5 id="ä»£ç ï¼š-2"><a href="#ä»£ç ï¼š-2" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h5><p>æ˜“é”™ç‚¹ï¼š</p>
<h6 id="æ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰"><a href="#æ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰" class="headerlink" title="æ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰"></a>æ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M=<span class="number">100100</span>;</span><br><span class="line"><span class="type">int</span> h[M];</span><br><span class="line"><span class="type">int</span> size;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">big_down</span><span class="params">(<span class="type">int</span> u)</span><span class="comment">//æœ€åå¤§çš„ä¼šå‘ä¸‹èµ°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=u;</span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>]&lt;h[t])t=u*<span class="number">2</span>;<span class="comment">//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°</span></span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>+<span class="number">1</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>+<span class="number">1</span>]&lt;=h[t])t=u*<span class="number">2</span>+<span class="number">1</span>;<span class="comment">//åˆ¤æ–­å³å„¿å­å’Œå¤§å°</span></span><br><span class="line">    <span class="comment">//æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">if</span>(u!=t)<span class="comment">//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[u],h[t]);</span><br><span class="line">        <span class="built_in">big_down</span>(t);<span class="comment">//é€’å½’å‘ä¸‹ç»§ç»­å¼„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">small_down</span><span class="params">(<span class="type">int</span> u)</span><span class="comment">//æœ€åå°çš„ä¼šå‘ä¸‹èµ°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=u;</span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>]&gt;h[t])t=u*<span class="number">2</span>;<span class="comment">//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°</span></span><br><span class="line">    <span class="keyword">if</span>(u*<span class="number">2</span>+<span class="number">1</span>&lt;=size&amp;&amp;h[u*<span class="number">2</span>+<span class="number">1</span>]&gt;=h[t])t=u*<span class="number">2</span>+<span class="number">1</span>;<span class="comment">//åˆ¤æ–­å³å„¿å­å’Œå¤§å°</span></span><br><span class="line">    <span class="comment">//æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">if</span>(u!=t)<span class="comment">//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[u],h[t]);</span><br><span class="line">        <span class="built_in">small_down</span>(t);<span class="comment">//é€’å½’å‘ä¸‹ç»§ç»­å¼„</span></span><br><span class="line">        æ³¨æ„è¿™é‡Œå‘ä¸‹çš„è¿˜æ˜¯t</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    cin&gt;&gt;size;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=size;i++)<span class="comment">//äºŒå‰æ ‘çš„è¯»å…¥èŒƒå›´</span></span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;h[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size / <span class="number">2</span>; i; i -- ) <span class="built_in">small_down</span>(i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=size;i++)cout&lt;&lt;h[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = size / <span class="number">2</span>; i; i -- ) <span class="built_in">big_down</span>(i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=size;i++)cout&lt;&lt;h[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="å †æ’åºï¼ˆæ•´ä½“ï¼‰"><a href="#å †æ’åºï¼ˆæ•´ä½“ï¼‰" class="headerlink" title="å †æ’åºï¼ˆæ•´ä½“ï¼‰"></a>å †æ’åºï¼ˆæ•´ä½“ï¼‰</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N];<span class="comment">//ä¿å­˜æ•°ç»„</span></span><br><span class="line"><span class="type">int</span> n, m;<span class="comment">//nä¸ªç‚¹ï¼Œæ±‚å‰må°</span></span><br><span class="line"><span class="type">int</span> r ;<span class="comment">//å †çš„å³è¾¹ç•Œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">down</span><span class="params">(<span class="type">int</span> u)</span><span class="comment">//è°ƒæ•´å‡½æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//tè®°å½•æœ€å°ç‚¹çš„ç¼–å·</span></span><br><span class="line">    <span class="type">int</span> t = u;</span><br><span class="line"></span><br><span class="line">æ˜“é”™éƒ¨åˆ†ï¼šè¿™é‡Œå‰é¢éƒ½æ˜¯uæœ€åå¯¹æ¯”æ˜¯tï¼Œä¿®æ”¹å¤§å°ä¹Ÿæ˜¯ä¿®æ”¹<span class="function">u</span></span><br><span class="line"><span class="function">    <span class="title">if</span><span class="params">(<span class="number">2</span> * u &lt;= r &amp;&amp; a[<span class="number">2</span> * u] &lt; a[t])</span> t </span>= <span class="number">2</span> * u;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="number">2</span> * u + <span class="number">1</span> &lt;= r &amp;&amp; a[<span class="number">2</span> * u + <span class="number">1</span>] &lt; a[t]) t = <span class="number">2</span> * u + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœå¾…è°ƒæ•´ç‚¹ä¸æ˜¯æœ€å°çš„</span></span><br><span class="line">    <span class="keyword">if</span>(u != t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å’Œæœ€å°çš„äº¤æ¢</span></span><br><span class="line">        <span class="built_in">swap</span>(a[u], a[t]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€’å½’å¤„ç†</span></span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å› ä¸ºå †æ˜¯ä¸€æ£µäºŒå‰æ ‘æ„å»ºèµ·æ¥çš„ï¼Œå› æ­¤æ˜¯ä»<span class="number">1</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    r = n;<span class="comment">//å¼€å§‹æ—¶ï¼Œå³è¾¹ç•Œæ˜¯æ•°ç»„è¾¹ç•Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯»å…¥æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»ç¬¬ä¸€ä¸ªéå¶èŠ‚ç‚¹å¼€å§‹ï¼Œä»å³åˆ°å·¦ï¼Œä»ä¸‹åˆ°ä¸Šå¤„ç†æ¯ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> i = n /<span class="number">2</span> ; i ; i--)<span class="comment">//åˆ›å»ºå°æ ¹å †</span></span><br><span class="line">   &#123;</span><br><span class="line">       <span class="comment">//æ³¨æ„é—®é¢˜åœ¨äºå®ƒå°å¾—æ²¡æœ‰è§„å¾‹</span></span><br><span class="line">       <span class="built_in">down</span>(i);<span class="comment">//å› ä¸ºå¶å­èŠ‚ç‚¹æ²¡åŠæ³•ç»§ç»­å‘ä¸‹äº†ï¼Œå› æ­¤ä»å¶å­å‘ä¸Šä¸€å±‚å¼€å§‹æ“ä½œ</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¾“å‡ºmä¸ªæœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">while</span> (m -- )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å †é¡¶ä¿å­˜çš„æœ€å°å€¼ï¼Œè¾“å‡ºå †é¡¶</span></span><br><span class="line">        cout &lt;&lt; a[<span class="number">1</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†å †é¡¶å’Œå³è¾¹ç•Œäº¤æ¢</span></span><br><span class="line">        <span class="built_in">swap</span>(a[<span class="number">1</span>], a[r]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å³è¾¹ç•Œå·¦ç§»</span></span><br><span class="line">        r--;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä»æ–°å¤„ç†å †é¡¶</span></span><br><span class="line">        <span class="built_in">down</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h4><p><strong>ä¸‹é¢è¿™ä¸ªå…³äºç¼–ç çš„ï¼Œå¾ˆé‡è¦</strong></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/m0_46518461/article/details/109404969?ops_request_misc=%7B%22request_id%22:%22166919312616782395398061%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166919312616782395398061&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-109404969-null-null.142%5Ev66%5Econtrol,201%5Ev3%5Econtrol_1,213%5Ev2%5Et3_control1&utm_term=%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91C++%E7%BC%96%E7%A0%81&spm=1018.2226.3001.4187" >(108æ¡æ¶ˆæ¯) ã€æ•°æ®ç»“æ„â€”â€”å“ˆå¤«æ›¼æ ‘åŠå…¶åº”ç”¨ã€‘_FEI..çš„åšå®¢-CSDNåšå®¢_å“ˆå¤«æ›¼æ ‘çš„parentæ€ä¹ˆæ±‚<i class="fas fa-external-link-alt"></i></a></p>
<h5 id="å“ˆå¤«æ›¼ç¼–ç -å­—æ¯"><a href="#å“ˆå¤«æ›¼ç¼–ç -å­—æ¯" class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç :å­—æ¯"></a>å“ˆå¤«æ›¼ç¼–ç :å­—æ¯</h5><p><strong>æ ¸å¿ƒï¼šæ— å‰ç¼€ç¼–ç </strong>ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä»£è¡¨ç¼–ç ï¼Œåªè¦å­—æ¯åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¯¹åº”ç¼–ç å°±æ˜¯æ— å‰ç¼€</p>
<h6 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h6><ul>
<li>ä»åº•å‘ä¸Šå»ºç«‹ä¸€æ£µæ— å‰ç¼€ç¼–ç æ ‘</li>
<li>é¢‘æ¬¡ä½çš„æ ‘åœ¨æœ€ä¸‹é¢</li>
</ul>
<h6 id="è‡ªå·±å†™çš„ä»£ç -è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º-ï¼š"><a href="#è‡ªå·±å†™çš„ä»£ç -è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º-ï¼š" class="headerlink" title="è‡ªå·±å†™çš„ä»£ç (è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º)ï¼š"></a>è‡ªå·±å†™çš„ä»£ç (è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º)ï¼š</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> weight;<span class="comment">//ç»“ç‚¹çš„æƒå€¼</span></span><br><span class="line">    <span class="type">int</span> parent, lchild, rchild;<span class="comment">//åŒäº²ã€å·¦å­©å­ã€å³å­©å­çš„ä¸‹æ ‡</span></span><br><span class="line">&#125;HTnode,*HuffmanTree;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Select</span><span class="params">(HuffmanTree&amp; HT,<span class="type">int</span> &amp;s1,<span class="type">int</span> &amp;s2,<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    s2=<span class="number">1</span>,s1=<span class="number">2</span>;<span class="comment">//ä¸¤ä¸ªè¿‡å¤§çš„æ•°è¿›è¡Œæ¯”å¯¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++s1)<span class="comment">//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(HT[s1].parent==<span class="number">0</span>&amp;&amp;HT[s2].parent==<span class="number">0</span>)<span class="comment">//å½“</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(HT[s1].parent==<span class="number">0</span>)<span class="comment">//å½“</span></span><br><span class="line">        &#123;</span><br><span class="line">            s2=s1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s2==s1)++s1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)<span class="comment">//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(HT[i].weight&lt;=HT[s1].weight&amp;&amp;HT[i].parent==<span class="number">0</span>)<span class="comment">//å½“</span></span><br><span class="line">        &#123;</span><br><span class="line">            s1=i;<span class="comment">//è¿ç€æ›´æ–°ä¸¤æ¬¡ï¼Œs1æ˜¯æœ€å°çš„ï¼Œs2æ˜¯æ¬¡å°çš„</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)<span class="comment">//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(HT[i].weight&lt;=HT[s2].weight&amp;&amp;HT[i].parent==<span class="number">0</span>&amp;&amp;i!=s1)<span class="comment">//å½“</span></span><br><span class="line">        &#123;</span><br><span class="line">            s2=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreateHuffmanTree</span><span class="params">(HuffmanTree&amp; HT, <span class="type">int</span> n,<span class="type">int</span> word[])</span><span class="comment">//æ„é€ å“ˆå¤«æ›¼æ ‘ï¼Œnä¸ºå¸¦æƒå€¼çš„å¶å­ç»“ç‚¹ä¸ªæ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨äº†ä»¥è·å–çš„wordæ•°ç»„å­˜å–å·²æœ‰çš„æ•°é‡</span></span><br><span class="line">    <span class="comment">/*åˆå§‹åŒ–*/</span></span><br><span class="line">    <span class="type">int</span> s1,s2;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> m = <span class="number">2</span> * n - <span class="number">1</span>;<span class="comment">//mä¸ºå“ˆå¤«æ›¼æ ‘ä¸­æ€»ç»“ç‚¹çš„ä¸ªæ•°</span></span><br><span class="line">    HT = <span class="keyword">new</span> HTnode[m + <span class="number">1</span>];<span class="comment">//0å·å•å…ƒæœªç”¨ï¼Œæ‰€ä»¥éœ€è¦å¼€è¾Ÿm+1ä¸ªå•å…ƒï¼ŒHT[m]è¡¨ç¤ºæ ¹ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= m;++i)<span class="comment">//å°†1-må·å•å…ƒçš„åŒäº²ï¼Œå·¦å³å­©å­çš„ä¸‹æ ‡éƒ½åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">    &#123;</span><br><span class="line">        HT[i].parent = <span class="number">0</span>;</span><br><span class="line">        HT[i].lchild = <span class="number">0</span>;</span><br><span class="line">        HT[i].rchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> word_select=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(;word[word_select]==<span class="number">0</span>;word_select++);</span><br><span class="line"><span class="comment">//        cout&lt;&lt;(char)word_select &lt;&lt;&quot; word=&quot;&lt;&lt;word[word_select]&lt;&lt;endl;</span></span><br><span class="line">        HT[i].weight=word[word_select];<span class="comment">//è¾“å…¥å‰nä¸ªå•å…ƒä¸­å¶å­ç»“ç‚¹çš„æƒå€¼</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;i&lt;&lt;&quot;ä¸ªå•å…ƒå¶å­èŠ‚ç‚¹çš„æƒå€¼ï¼š &quot;&lt;&lt;HT[i].weight&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//è¿™ä¸€å¥æ˜¯è¾“å…¥æµ‹è¯•ï¼Œokäº†</span></span><br><span class="line">        word_select++;<span class="comment">//åˆ°ä¸‹ä¸€ä¸ªé˜²æ­¢è¿ç»­æ</span></span><br><span class="line">    &#125;<span class="comment">//åˆ°è¿™ä¸€æ­¥éƒ½æ²¡é—®é¢˜ï¼Œå¶å­èŠ‚ç‚¹æƒå€¼éƒ½å½•å…¥äº†</span></span><br><span class="line">    <span class="comment">/*åˆå§‹åŒ–å·¥ä½œç»“æŸï¼Œä¸‹é¢å¼€å§‹åˆ›å»ºå“ˆå¤«æ›¼æ ‘*/</span></span><br><span class="line"><span class="comment">//    cout&lt;&lt;&quot;n=:&quot;&lt;&lt;n&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n + <span class="number">1</span>;i &lt;= m;++i)</span><br><span class="line">    &#123;<span class="comment">//é€šè¿‡n-1æ¬¡çš„é€‰æ‹©ã€åˆ é™¤ã€åˆå¹¶æ¥åˆ›å»ºå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line">        <span class="built_in">Select</span>(HT,  s1, s2,n);<span class="comment">//é€‰æ‹©ä¸¤ä¸ªå…¶åŒäº²åŸŸä¸º0ä¸”æƒå€¼æœ€å°çš„ç»“ç‚¹</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;i-15&lt;&lt;&quot;æ¬¡æ“ä½œä¹‹å &quot; &lt;&lt;&quot;s1 now=&quot;&lt;&lt;s1&lt;&lt;&quot; HT[s1].weight=&quot;&lt;&lt;HT[s1].weight;</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;&quot;  s2 now =&quot;&lt;&lt;s2&lt;&lt;&quot; HT[s2].weight=&quot;&lt;&lt;HT[s2].weight&lt;&lt;endl;</span></span><br><span class="line">        HT[s1].parent = i;HT[s2].parent = i;<span class="comment">//å¾—åˆ°æ–°ç»“ç‚¹i,å°†s1\s2çš„åŒäº²åŸŸç”±0æ”¹ä¸ºi</span></span><br><span class="line">        HT[i].lchild = s1;HT[i].rchild = s2;<span class="comment">//s1ã€s2åˆ†åˆ«ä½œä¸ºiçš„å·¦å³å­©å­</span></span><br><span class="line">        HT[i].weight = HT[s1].weight + HT[s2].weight;<span class="comment">//içš„æƒå€¼ä¸ºå·¦å³å­©å­çš„æƒå€¼ä¹‹å’Œ</span></span><br><span class="line"><span class="comment">//        cout&lt;&lt;&quot;  HT now =&quot;&lt;&lt;i&lt;&lt;&quot; HT[i].weight=&quot;&lt;&lt;HT[i].weight&lt;&lt;endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">char</span>** HuffmanCode;</span><br><span class="line"><span class="comment">////åŠ¨æ€åˆ†é…æ•°ç»„å­˜å‚¨å“ˆå¤«æ›¼ç¼–ç è¡¨</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreatHuffmanCode</span><span class="params">(HuffmanTree HT, HuffmanCode&amp; HC, <span class="type">int</span> n)</span><span class="comment">//å®Œå…¨æ²¡æœ‰å¼€å§‹å†™çš„</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//ä»å¶å­åˆ°æ ¹é€†å‘æ±‚æ¯ä¸ªå­—ç¬¦çš„å“ˆå¤«æ›¼ç¼–ç ï¼Œå‚¨å­˜åœ¨ç¼–ç è¡¨HCä¸­</span></span><br><span class="line">    HC = <span class="keyword">new</span> <span class="type">char</span>* [n + <span class="number">1</span>];<span class="comment">//åˆ†é…nä¸ªå­—ç¬¦ç¼–ç çš„å¤´æŒ‡é’ˆçŸ¢é‡</span></span><br><span class="line">     <span class="type">char</span> *cd = <span class="keyword">new</span> <span class="type">char</span>[n];<span class="comment">//åˆ†é…ä¸´æ—¶å­˜æ”¾ç¼–ç çš„åŠ¨æ€æ•°ç»„ç©ºé—´</span></span><br><span class="line">     <span class="type">int</span> start;</span><br><span class="line">     <span class="type">int</span> c;</span><br><span class="line">     <span class="type">int</span> f;</span><br><span class="line">    cd[n - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;<span class="comment">//ç¼–ç ç»“æŸç¬¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>;i &lt;= n;++i)<span class="comment">//é€ä¸ªå­—ç¬¦æ±‚å“ˆå¤«æ›¼ç¼–ç </span></span><br><span class="line">    &#123;</span><br><span class="line">        start = n - <span class="number">1</span>;<span class="comment">//startå¼€å§‹æ—¶æŒ‡å‘æœ€åï¼Œå³ç¼–ç ç»“æŸç¬¦çš„ä½ç½®</span></span><br><span class="line">        c = i;f = HT[i].parent;<span class="comment">//fæŒ‡å‘ç»“ç‚¹cçš„åŒäº²ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (f != <span class="number">0</span>)<span class="comment">//ä»å¶å­ç»“ç‚¹å¼€å§‹å‘ä¸Šå›æº¯ï¼Œç›´åˆ°æ ¹ç»“ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            --start;<span class="comment">//å›æº¯ä¸€æ¬¡ï¼Œstartå‘å‰æŒ‡ä¸€ä¸ªä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span> (HT[f].lchild == c)</span><br><span class="line">                cd[start] = <span class="string">&#x27;0&#x27;</span>;<span class="comment">//ç»“ç‚¹cæ˜¯fçš„å·¦å­©å­ï¼Œåˆ™ç”Ÿæˆä»£ç 0</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cd[start] = <span class="string">&#x27;1&#x27;</span>;<span class="comment">//ç»“ç‚¹cæ˜¯fçš„å³å­©å­ï¼Œåˆ™ç”Ÿæˆä»£ç 1</span></span><br><span class="line">            c = f;f = HT[f].parent;<span class="comment">//ç»§ç»­å‘ä¸Šå›æº¯</span></span><br><span class="line">        &#125;<span class="comment">//æ±‚å‡ºç¬¬iä¸ªå­—ç¬¦çš„ç¼–ç </span></span><br><span class="line">        HC[i] = <span class="keyword">new</span> <span class="type">char</span>[n - start];<span class="comment">//ä¸ºæ•Œiä¸ªå­—ç¬¦ç¼–ç åˆ†é…ç©ºé—´</span></span><br><span class="line">        <span class="built_in">strcpy</span>(HC[i], &amp;cd[start]);<span class="comment">//å°†æ±‚å¾—çš„ç¼–ç ä»ä¸´æ—¶ç©ºé—´cdå¤åˆ¶åˆ°HCå½“å‰è¡Œä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> cd;<span class="comment">//é‡Šæ”¾ä¸´æ—¶ç©ºé—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> out[<span class="number">128</span>]=&#123;<span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line"><span class="type">int</span> word[<span class="number">128</span>]=&#123;<span class="number">0</span>&#125;;<span class="comment">//ä½œä¸ºå­—æ¯</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    string ans=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    string temp;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">getline</span>(cin, temp)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="string">&quot;0&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans+=temp;</span><br><span class="line">    &#125;<span class="comment">//è¯»å…¥é˜¶æ®µ</span></span><br><span class="line">    <span class="type">int</span> length=ans.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> idx=(<span class="type">int</span>)(ans[i]);</span><br><span class="line">        word[idx]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> node_num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">128</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(word[i]!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ++node_num;</span><br><span class="line">            out[node_num]=(<span class="type">char</span>)i;</span><br><span class="line"><span class="comment">//            cout &lt;&lt;(char)i &lt;&lt; &quot;: &quot;&lt;&lt; word[i] &lt;&lt; endl;</span></span><br><span class="line">            <span class="comment">//è¿™é‡Œè·å¾—äº†å¯¹åº”çš„ç¼–ç </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    HuffmanTree HT;</span><br><span class="line">    <span class="built_in">CreateHuffmanTree</span>(HT,node_num,word);</span><br><span class="line">    HuffmanCode HC;</span><br><span class="line">    <span class="built_in">CreatHuffmanCode</span>(HT,HC,node_num);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=node_num;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;out[i]&lt;&lt;<span class="string">&quot;:&quot;</span>&lt;&lt;HC[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program for Huffman Coding</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This constant can be avoided by explicitly</span></span><br><span class="line"><span class="comment">// calculating height of Huffman Tree</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_TREE_HT 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A Huffman tree node</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeapNode</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// One of the input characters</span></span><br><span class="line">	<span class="type">char</span> data;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Frequency of the character</span></span><br><span class="line">	<span class="type">unsigned</span> freq;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Left and right child of this node</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span> *left, *right;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A Min Heap: Collection of</span></span><br><span class="line"><span class="comment">// min-heap (or Huffman tree) nodes</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeap</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Current size of min heap</span></span><br><span class="line">	<span class="type">unsigned</span> size;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// capacity of min heap</span></span><br><span class="line">	<span class="type">unsigned</span> capacity;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Array of minheap node pointers</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>** array;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function allocate a new</span></span><br><span class="line"><span class="comment">// min heap node with given character</span></span><br><span class="line"><span class="comment">// and frequency of the character</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* <span class="built_in">newNode</span>(<span class="type">char</span> data, <span class="type">unsigned</span> freq)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* temp</span><br><span class="line">		= (<span class="keyword">struct</span> MinHeapNode*)<span class="built_in">malloc</span></span><br><span class="line">(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> MinHeapNode));</span><br><span class="line"></span><br><span class="line">	temp-&gt;left = temp-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">	temp-&gt;data = data;</span><br><span class="line">	temp-&gt;freq = freq;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to create</span></span><br><span class="line"><span class="comment">// a min heap of given capacity</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeap</span>* <span class="built_in">createMinHeap</span>(<span class="type">unsigned</span> capacity)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeap</span>* minHeap</span><br><span class="line">		= (<span class="keyword">struct</span> MinHeap*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="keyword">struct</span> MinHeap));</span><br><span class="line"></span><br><span class="line">	<span class="comment">// current size is 0</span></span><br><span class="line">	minHeap-&gt;size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	minHeap-&gt;capacity = capacity;</span><br><span class="line"></span><br><span class="line">	minHeap-&gt;array</span><br><span class="line">		= (<span class="keyword">struct</span> MinHeapNode**)<span class="built_in">malloc</span>(minHeap-&gt;</span><br><span class="line">capacity * <span class="built_in">sizeof</span>(<span class="keyword">struct</span> MinHeapNode*));</span><br><span class="line">	<span class="keyword">return</span> minHeap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to</span></span><br><span class="line"><span class="comment">// swap two min heap nodes</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapMinHeapNode</span><span class="params">(<span class="keyword">struct</span> MinHeapNode** a,</span></span></span><br><span class="line"><span class="params"><span class="function">					<span class="keyword">struct</span> MinHeapNode** b)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* t = *a;</span><br><span class="line">	*a = *b;</span><br><span class="line">	*b = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The standard minHeapify function.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">minHeapify</span><span class="params">(<span class="keyword">struct</span> MinHeap* minHeap, <span class="type">int</span> idx)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> smallest = idx;</span><br><span class="line">	<span class="type">int</span> left = <span class="number">2</span> * idx + <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> right = <span class="number">2</span> * idx + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (left &lt; minHeap-&gt;size &amp;&amp; minHeap-&gt;array[left]-&gt;</span><br><span class="line">freq &lt; minHeap-&gt;array[smallest]-&gt;freq)</span><br><span class="line">		smallest = left;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (right &lt; minHeap-&gt;size &amp;&amp; minHeap-&gt;array[right]-&gt;</span><br><span class="line">freq &lt; minHeap-&gt;array[smallest]-&gt;freq)</span><br><span class="line">		smallest = right;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (smallest != idx) &#123;</span><br><span class="line">		<span class="built_in">swapMinHeapNode</span>(&amp;minHeap-&gt;array[smallest],</span><br><span class="line">						&amp;minHeap-&gt;array[idx]);</span><br><span class="line">		<span class="built_in">minHeapify</span>(minHeap, smallest);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to check</span></span><br><span class="line"><span class="comment">// if size of heap is 1 or not</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isSizeOne</span><span class="params">(<span class="keyword">struct</span> MinHeap* minHeap)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> (minHeap-&gt;size == <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A standard function to extract</span></span><br><span class="line"><span class="comment">// minimum value node from heap</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* <span class="built_in">extractMin</span>(<span class="keyword">struct</span> MinHeap* minHeap)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* temp = minHeap-&gt;array[<span class="number">0</span>];</span><br><span class="line">	minHeap-&gt;array[<span class="number">0</span>]</span><br><span class="line">		= minHeap-&gt;array[minHeap-&gt;size - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">	--minHeap-&gt;size;</span><br><span class="line">	<span class="built_in">minHeapify</span>(minHeap, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to insert</span></span><br><span class="line"><span class="comment">// a new node to Min Heap</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertMinHeap</span><span class="params">(<span class="keyword">struct</span> MinHeap* minHeap,</span></span></span><br><span class="line"><span class="params"><span class="function">				<span class="keyword">struct</span> MinHeapNode* minHeapNode)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	++minHeap-&gt;size;</span><br><span class="line">	<span class="type">int</span> i = minHeap-&gt;size - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (i &amp;&amp; minHeapNode-&gt;freq &lt; minHeap-&gt;array[(i - <span class="number">1</span>) / <span class="number">2</span>]-&gt;freq) &#123;</span><br><span class="line"></span><br><span class="line">		minHeap-&gt;array[i] = minHeap-&gt;array[(i - <span class="number">1</span>) / <span class="number">2</span>];</span><br><span class="line">		i = (i - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	minHeap-&gt;array[i] = minHeapNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A standard function to build min heap</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">buildMinHeap</span><span class="params">(<span class="keyword">struct</span> MinHeap* minHeap)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> n = minHeap-&gt;size - <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (i = (n - <span class="number">1</span>) / <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">		<span class="built_in">minHeapify</span>(minHeap, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to print an array of size n</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printArr</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">		cout&lt;&lt; arr[i];</span><br><span class="line"></span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Utility function to check if this node is leaf</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isLeaf</span><span class="params">(<span class="keyword">struct</span> MinHeapNode* root)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> !(root-&gt;left) &amp;&amp; !(root-&gt;right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Creates a min heap of capacity</span></span><br><span class="line"><span class="comment">// equal to size and inserts all character of</span></span><br><span class="line"><span class="comment">// data[] in min heap. Initially size of</span></span><br><span class="line"><span class="comment">// min heap is equal to capacity</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeap</span>* <span class="built_in">createAndBuildMinHeap</span>(<span class="type">char</span> data[], <span class="type">int</span> freq[], <span class="type">int</span> size)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeap</span>* minHeap = <span class="built_in">createMinHeap</span>(size);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; ++i)</span><br><span class="line">		minHeap-&gt;array[i] = <span class="built_in">newNode</span>(data[i], freq[i]);</span><br><span class="line"></span><br><span class="line">	minHeap-&gt;size = size;</span><br><span class="line">	<span class="built_in">buildMinHeap</span>(minHeap);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> minHeap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The main function that builds Huffman tree</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* <span class="built_in">buildHuffmanTree</span>(<span class="type">char</span> data[], <span class="type">int</span> freq[], <span class="type">int</span> size)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span> *left, *right, *top;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Step 1: Create a min heap of capacity</span></span><br><span class="line">	<span class="comment">// equal to size. Initially, there are</span></span><br><span class="line">	<span class="comment">// modes equal to size.</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeap</span>* minHeap = <span class="built_in">createAndBuildMinHeap</span>(data, freq, size);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Iterate while size of heap doesn&#x27;t become 1</span></span><br><span class="line">	<span class="keyword">while</span> (!<span class="built_in">isSizeOne</span>(minHeap)) &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Step 2: Extract the two minimum</span></span><br><span class="line">		<span class="comment">// freq items from min heap</span></span><br><span class="line">		left = <span class="built_in">extractMin</span>(minHeap);</span><br><span class="line">		right = <span class="built_in">extractMin</span>(minHeap);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Step 3: Create a new internal</span></span><br><span class="line">		<span class="comment">// node with frequency equal to the</span></span><br><span class="line">		<span class="comment">// sum of the two nodes frequencies.</span></span><br><span class="line">		<span class="comment">// Make the two extracted node as</span></span><br><span class="line">		<span class="comment">// left and right children of this new node.</span></span><br><span class="line">		<span class="comment">// Add this node to the min heap</span></span><br><span class="line">		<span class="comment">// &#x27;$&#x27; is a special value for internal nodes, not used</span></span><br><span class="line">		top = <span class="built_in">newNode</span>(<span class="string">&#x27;$&#x27;</span>, left-&gt;freq + right-&gt;freq);</span><br><span class="line"></span><br><span class="line">		top-&gt;left = left;</span><br><span class="line">		top-&gt;right = right;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">insertMinHeap</span>(minHeap, top);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Step 4: The remaining node is the</span></span><br><span class="line">	<span class="comment">// root node and the tree is complete.</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">extractMin</span>(minHeap);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Prints huffman codes from the root of Huffman Tree.</span></span><br><span class="line"><span class="comment">// It uses arr[] to store codes</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printCodes</span><span class="params">(<span class="keyword">struct</span> MinHeapNode* root, <span class="type">int</span> arr[], <span class="type">int</span> top)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Assign 0 to left edge and recur</span></span><br><span class="line">	<span class="keyword">if</span> (root-&gt;left) &#123;</span><br><span class="line"></span><br><span class="line">		arr[top] = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">printCodes</span>(root-&gt;left, arr, top + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Assign 1 to right edge and recur</span></span><br><span class="line">	<span class="keyword">if</span> (root-&gt;right) &#123;</span><br><span class="line"></span><br><span class="line">		arr[top] = <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">printCodes</span>(root-&gt;right, arr, top + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// If this is a leaf node, then</span></span><br><span class="line">	<span class="comment">// it contains one of the input</span></span><br><span class="line">	<span class="comment">// characters, print the character</span></span><br><span class="line">	<span class="comment">// and its code from arr[]</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">isLeaf</span>(root)) &#123;</span><br><span class="line"></span><br><span class="line">		cout&lt;&lt; root-&gt;data &lt;&lt;<span class="string">&quot;: &quot;</span>;</span><br><span class="line">		<span class="built_in">printArr</span>(arr, top);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The main function that builds a</span></span><br><span class="line"><span class="comment">// Huffman Tree and print codes by traversing</span></span><br><span class="line"><span class="comment">// the built Huffman Tree</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HuffmanCodes</span><span class="params">(<span class="type">char</span> data[], <span class="type">int</span> freq[], <span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// Construct Huffman Tree</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MinHeapNode</span>* root</span><br><span class="line">		= <span class="built_in">buildHuffmanTree</span>(data, freq, size);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Print Huffman codes using</span></span><br><span class="line">	<span class="comment">// the Huffman tree built above</span></span><br><span class="line">	<span class="type">int</span> arr[MAX_TREE_HT], top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printCodes</span>(root, arr, top);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver code</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">char</span> arr[] = &#123; <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line">	<span class="type">int</span> freq[] = &#123; <span class="number">5</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">16</span>, <span class="number">45</span> &#125;;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> size = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">HuffmanCodes</span>(arr, freq, size);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç»“æœè¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">f: 0</span></span><br><span class="line"><span class="comment">c: 100</span></span><br><span class="line"><span class="comment">d: 101</span></span><br><span class="line"><span class="comment">a: 1100</span></span><br><span class="line"><span class="comment">b: 1101</span></span><br><span class="line"><span class="comment">e: 111</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h4><p>å¹³è¡¡äºŒå‰æ ‘ï¼š</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/code_peak/article/details/120610047?ops_request_misc=%7B%22request_id%22:%22166979063716782390568989%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=166979063716782390568989&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-120610047-null-null.142%5Ev67%5Econtrol,201%5Ev3%5Econtrol_1,213%5Ev2%5Et3_control1&utm_term=avl%E6%A0%91c++&spm=1018.2226.3001.4187" >(110æ¡æ¶ˆæ¯) AVLæ ‘çš„è¯¦ç»†å®ç°(C++)_code_peakçš„åšå®¢-CSDNåšå®¢_c++å®ç°avlæ ‘<i class="fas fa-external-link-alt"></i></a></p>
<p>avlæ ‘çš„å„ç§å»¶ç”³åº”ç”¨ï¼šä¼¸å±•æ ‘ï¼ŒBæ ‘ï¼Œå­—å…¸æ ‘</p>

            </div>

            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="../../../../tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">#å­¦ä¹ ç¬”è®°</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95PART2/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">æ•°æ®ç»“æ„ä¸ç®—æ³• PART 2</span>
                                <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="../../08/web%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Webé¡¹ç›®ä¼šè®®è®°å½•</span>
                                <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%EF%BC%9APART1"><span class="nav-number">1.</span> <span class="nav-text">æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E6%97%B6%E9%97%B4%E5%88%86%E6%9E%90%EF%BC%9A"><span class="nav-number">1.0.1.</span> <span class="nav-text">ç®—æ³•æ—¶é—´åˆ†æï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%A7%A3idx"><span class="nav-number">1.0.2.</span> <span class="nav-text">ç†è§£idx:</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A7%91%E7%8F%AD%E5%AD%A6%E4%B9%A0%E9%A1%BA%E5%BA%8F%EF%BC%9A%EF%BC%88%E5%A6%82%E4%BD%95%E9%80%90%E6%AD%A5%E6%8F%90%E9%AB%98%E5%86%99%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%80%A7%E8%83%BD%EF%BC%89"><span class="nav-number">1.0.2.0.0.1.</span> <span class="nav-text">ç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%90%E9%AB%98%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD%E5%8A%9E%E6%B3%95%EF%BC%9A"><span class="nav-number">1.0.2.0.0.2.</span> <span class="nav-text">æé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4%E5%9B%A0%E7%B4%A0"><span class="nav-number">1.0.2.0.0.3.</span> <span class="nav-text">ç¨‹åºè¿è¡Œæ—¶é—´å› ç´ </span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E6%9E%B6%E6%9E%84"><span class="nav-number">1.0.2.0.0.4.</span> <span class="nav-text">å†¯è¯ºä¾æ›¼æ¶æ„</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9A"><span class="nav-number">1.0.2.0.0.5.</span> <span class="nav-text">ç©ºé—´å¤æ‚åº¦ï¼š</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95"><span class="nav-number">1.0.3.</span> <span class="nav-text">åŸºç¡€ç®—æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">1.0.3.0.1.</span> <span class="nav-text">ä½è¿ç®—</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E6%8E%92%E2%80%94%E2%80%94%E3%80%8B%E9%87%8D%E8%A6%81%EF%BC%8C%E9%9D%A2%E8%AF%95%E5%B8%B8%E7%94%A8%E5%9E%8B%F0%9F%98%8D"><span class="nav-number">1.0.3.1.</span> <span class="nav-text">å¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%EF%BC%9A"><span class="nav-number">1.0.3.1.0.1.</span> <span class="nav-text">æ¨¡æ¿ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BF%AB%E6%8E%92%E5%90%88%E7%90%86%E6%80%A7%E5%88%86%E6%9E%90%EF%BC%9AAcWing-785-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E8%AF%81%E6%98%8E%E4%B8%8E%E8%BE%B9%E7%95%8C%E5%88%86%E6%9E%90-AcWing"><span class="nav-number">1.0.3.1.0.2.</span> <span class="nav-text">å¿«æ’åˆç†æ€§åˆ†æï¼šAcWing 785. å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ - AcWing</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E5%90%91%E7%A7%BB%E5%8A%A8%E7%89%88%E6%9C%AC%E5%BF%AB%E6%8E%92%EF%BC%88%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88%EF%BC%89"><span class="nav-number">1.0.3.1.1.</span> <span class="nav-text">å•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link"><span class="nav-number">1.0.3.1.1.1.</span> <span class="nav-text"></span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="nav-number">1.0.3.2.</span> <span class="nav-text">æ’å…¥æ’åº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#plus-%E6%8A%98%E5%8D%8A%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%EF%BC%88%E6%8F%92%E5%85%A5-%E4%BA%8C%E5%88%86%EF%BC%89%E2%80%94%E2%80%94%E3%80%8B%E7%A8%B3%E5%AE%9A%E5%8F%88%E5%A5%BD%E4%BD%BF"><span class="nav-number">1.0.3.3.</span> <span class="nav-text">plus:æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥+äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="nav-number">1.0.3.3.0.1.</span> <span class="nav-text">ä»£ç ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="nav-number">1.0.3.4.</span> <span class="nav-text">å¸Œå°”æ’åº</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.0.3.4.0.1.</span> <span class="nav-text">æ¨¡æ¿</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88%E5%8F%A6%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E6%8E%92%E5%BA%8F%EF%BC%8C%E4%B9%9F%E8%83%8C%E4%B8%8B%E6%9D%A5%EF%BC%89%F0%9F%98%83"><span class="nav-number">1.0.3.5.</span> <span class="nav-text">å½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%EF%BC%9A-1"><span class="nav-number">1.0.3.5.0.1.</span> <span class="nav-text">æ¨¡æ¿ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9C%89%E8%B6%A3%E5%BA%94%E7%94%A8%EF%BC%9A%E9%80%86%E5%BA%8F%E5%AF%B9"><span class="nav-number">1.0.3.5.0.2.</span> <span class="nav-text">æœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#timsort%EF%BC%88%E4%BC%98%E5%8C%96%E5%90%8E%E5%BD%92%E5%B9%B6%EF%BC%89"><span class="nav-number">1.0.3.6.</span> <span class="nav-text">timsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%EF%BC%9A%E6%8F%90%E5%8F%96%E9%99%8D%E5%BA%8F%E6%95%B0%E7%BB%84%E5%8D%87%E7%BA%A7%E4%B8%BA%E5%8D%87%E5%BA%8F"><span class="nav-number">1.0.3.6.0.1.</span> <span class="nav-text">æ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åº</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%EF%BC%9A%E6%A0%88%E5%A4%84%E7%90%86%E5%BD%92%E5%B9%B6"><span class="nav-number">1.0.3.6.0.2.</span> <span class="nav-text">æ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%EF%BC%9A%E6%9C%80%E5%B0%8F%E5%88%86%E5%8C%BA%E9%95%BF%E5%BA%A6%E5%9C%A8%E6%8E%92%E5%BA%8F%E4%B9%8B%E5%89%8D%E9%A2%84%E5%85%88%E8%AE%A1%E7%AE%97"><span class="nav-number">1.0.3.6.0.3.</span> <span class="nav-text">æ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#timsort%E6%A8%A1%E6%9D%BF%EF%BC%88%E8%87%AA%E5%B7%B1%E5%86%99%E7%9A%84%EF%BC%81%EF%BC%89"><span class="nav-number">1.0.3.6.0.4.</span> <span class="nav-text">timsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E5%88%86"><span class="nav-number">1.0.3.7.</span> <span class="nav-text">äºŒåˆ†</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E6%A8%A1%E6%9D%BF%EF%BC%88%E4%B8%A4%E7%A7%8D%EF%BC%89"><span class="nav-number">1.0.3.7.0.1.</span> <span class="nav-text">æ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E7%BB%8F%E5%85%B8%E4%BE%8B%E9%A2%98%EF%BC%9A789-%E6%95%B0%E7%9A%84%E8%8C%83%E5%9B%B4-AcWing%E9%A2%98%E5%BA%93"><span class="nav-number">1.0.3.7.0.2.</span> <span class="nav-text">æ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š789. æ•°çš„èŒƒå›´ - AcWingé¢˜åº“</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#519-%E8%B7%B3%E7%9F%B3%E5%A4%B4-AcWing%E9%A2%98%E5%BA%93"><span class="nav-number">1.0.3.7.0.3.</span> <span class="nav-text">519. è·³çŸ³å¤´ - AcWingé¢˜åº“</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.0.3.7.0.4.</span> <span class="nav-text">æµ®ç‚¹æ¨¡æ¿</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8C%E5%88%86%E6%94%B9%E8%BF%9B%EF%BC%9A"><span class="nav-number">1.0.3.7.1.</span> <span class="nav-text">äºŒåˆ†æ”¹è¿›ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%92%E5%80%BC%E6%9F%A5%E6%89%BE"><span class="nav-number">1.0.3.7.1.1.</span> <span class="nav-text">æ’å€¼æŸ¥æ‰¾</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E4%B8%8D%E5%90%8C%EF%BC%9A"><span class="nav-number">1.0.3.7.1.2.</span> <span class="nav-text">å…³é”®ä¸åŒï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%9F%A5%E6%89%BE"><span class="nav-number">1.0.3.7.1.3.</span> <span class="nav-text">æ–æ³¢é‚£å¥‘æŸ¥æ‰¾</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%BC%80%E5%92%8C%EF%BC%88%E5%BA%94%E7%94%A8%E5%B9%BF%E6%B3%9B%EF%BC%89"><span class="nav-number">1.0.3.8.</span> <span class="nav-text">å‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%89%8D%E7%BC%80%E5%92%8C-%E5%93%88%E5%B8%8C%E8%A1%A8-x3D-LZW%E5%8E%8B%E7%BC%A9-gt-%E6%96%87%E6%9C%AC%E5%8E%8B%E7%BC%A9"><span class="nav-number">1.0.3.8.1.</span> <span class="nav-text">å‰ç¼€å’Œ+å“ˆå¸Œè¡¨&#x3D;LZWå‹ç¼©-&gt;æ–‡æœ¬å‹ç¼©</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9%E9%83%A8%E5%88%86%EF%BC%9A"><span class="nav-number">1.0.3.8.1.1.</span> <span class="nav-text">å‹ç¼©éƒ¨åˆ†ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9%E9%83%A8%E5%88%86%EF%BC%9A"><span class="nav-number">1.0.3.8.1.2.</span> <span class="nav-text">è§£å‹ç¼©éƒ¨åˆ†ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A6%BB%E6%95%A3%E5%8C%96%EF%BC%9A%E6%95%B4%E6%95%B0%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="nav-number">1.0.3.9.</span> <span class="nav-text">ç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A6%BB%E6%95%A3%E5%8C%96%E6%A8%A1%E6%9D%BF%EF%BC%9A-c-%E7%89%88%E6%9C%AC"><span class="nav-number">1.0.3.9.0.1.</span> <span class="nav-text">ç¦»æ•£åŒ–æ¨¡æ¿ï¼š(c++ç‰ˆæœ¬)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%BA%E9%97%B4%E5%90%88%E5%B9%B6%EF%BC%9A%E4%B8%8D%E5%90%8C%E4%BA%8E%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="nav-number">1.0.3.10.</span> <span class="nav-text">åŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="nav-number">1.0.3.10.0.1.</span> <span class="nav-text">æ­¥éª¤ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.0.3.10.0.2.</span> <span class="nav-text">ä»£ç æ¨¡æ¿</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">1.0.4.</span> <span class="nav-text">æ•°æ®ç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8"><span class="nav-number">1.0.4.1.</span> <span class="nav-text">é“¾è¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%EF%BC%9A"><span class="nav-number">1.0.4.1.0.1.</span> <span class="nav-text">å‰è¨€ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E5%88%B6%E9%80%A0%E6%96%B9%E5%BC%8F"><span class="nav-number">1.0.4.1.0.2.</span> <span class="nav-text">é“¾è¡¨åˆ¶é€ æ–¹å¼</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%95%E9%93%BE%E8%A1%A8%E5%88%B6%E4%BD%9C"><span class="nav-number">1.0.4.1.0.3.</span> <span class="nav-text">å•é“¾è¡¨åˆ¶ä½œ</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8F%8C%E9%93%BE%E8%A1%A8%E5%88%B6%E4%BD%9C"><span class="nav-number">1.0.4.1.0.4.</span> <span class="nav-text">åŒé“¾è¡¨åˆ¶ä½œ</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E9%80%92%E5%BD%92%E4%B8%8E%E5%8F%8C%E6%8C%87%E9%92%88"><span class="nav-number">1.0.4.1.0.5.</span> <span class="nav-text">é“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆ</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%90%8C%E6%A0%B7%E5%88%A9%E7%94%A8%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E9%93%BE%E8%A1%A8%E9%80%86%E5%BA%8F%EF%BC%9A%EF%BC%88%E6%9C%89%E9%82%A3%E4%B9%88%E4%B8%80%E7%82%B9%E7%82%B9%E8%B4%B9%E8%84%91%E5%AD%90%EF%BC%89"><span class="nav-number">1.0.4.1.0.6.</span> <span class="nav-text">åŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#-1"><span class="nav-number">1.0.4.1.0.7.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88%E5%AE%9E%E7%8E%B0%E9%80%86%E5%BA%8F"><span class="nav-number">1.0.4.1.0.8.</span> <span class="nav-text">åŒæŒ‡é’ˆå®ç°é€†åº</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8%E7%9A%84%E6%8B%BC%E6%8E%A5%EF%BC%88%E5%8F%88%E6%98%AF%E9%80%92%E5%BD%92-x2F-bushi%EF%BC%89"><span class="nav-number">1.0.4.1.0.9.</span> <span class="nav-text">æœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’&#x2F;bushiï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9B%9E%E6%96%87%E9%93%BE%E8%A1%A8%E5%88%A4%E6%96%AD%EF%BC%9A%EF%BC%88%E6%98%A0%E5%B0%84%EF%BC%8C%E9%80%92%E5%BD%92%EF%BC%8C%E7%BF%BB%E8%BD%AC%EF%BC%89"><span class="nav-number">1.0.4.1.0.10.</span> <span class="nav-text">å›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#zhan%EF%BC%88%E6%A0%88%EF%BC%89%E4%B8%8D%E6%98%AFB%E7%AB%99%E9%82%A3%E4%B8%AA"><span class="nav-number">1.0.4.2.</span> <span class="nav-text">zhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ª</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%EF%BC%9A-1"><span class="nav-number">1.0.4.2.0.1.</span> <span class="nav-text">å‰è¨€ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%88%E5%88%B6%E9%80%A0%E6%96%B9%E5%BC%8F"><span class="nav-number">1.0.4.2.0.2.</span> <span class="nav-text">æ ˆåˆ¶é€ æ–¹å¼</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%88%E5%81%9A%E9%9D%9E%E9%99%8D%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="nav-number">1.0.4.2.0.3.</span> <span class="nav-text">æ ˆåšéé™è·¯å¾„é—®é¢˜</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.0.4.2.0.4.</span> <span class="nav-text">ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%88%86%E6%9E%90"><span class="nav-number">1.0.4.2.0.5.</span> <span class="nav-text">æ­£åˆ™è¡¨è¾¾å¼åˆ†æ</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BB%A3%E7%A0%81"><span class="nav-number">1.0.4.2.0.6.</span> <span class="nav-text">æ­£åˆ™è¡¨è¾¾å¼ä»£ç </span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%95%E8%B0%83%E6%A0%88%EF%BC%88%E7%9E%B3%E5%AD%94%E5%9C%B0%E9%9C%87%E5%9E%8B%E9%A2%98%E8%A7%A3%EF%BC%89%F0%9F%98%A2"><span class="nav-number">1.0.4.2.0.7.</span> <span class="nav-text">å•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%9F%E5%88%97"><span class="nav-number">1.0.4.3.</span> <span class="nav-text">é˜Ÿåˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E9%98%9F%E5%88%97%E6%9E%84%E9%80%A0%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="nav-number">1.0.4.3.0.1.</span> <span class="nav-text">é˜Ÿåˆ—æ„é€ æ–¹å¼ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97%EF%BC%9A"><span class="nav-number">1.0.4.3.0.2.</span> <span class="nav-text">å¾ªç¯é˜Ÿåˆ—ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97-%EF%BD%9E%EF%BF%A3%E2%96%BD%EF%BF%A3-%EF%BD%9E%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%BB%8F%E5%85%B8%EF%BC%88%E9%85%8D%E5%90%88%E5%8D%95%E8%B0%83%E6%A0%88%E9%A3%9F%E7%94%A8%EF%BC%89"><span class="nav-number">1.0.4.3.0.3.</span> <span class="nav-text">å•è°ƒé˜Ÿåˆ—~~~~~~~(ï½ï¿£â–½ï¿£)ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%B2"><span class="nav-number">1.0.4.4.</span> <span class="nav-text">ä¸²</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#KMP"><span class="nav-number">1.0.4.4.1.</span> <span class="nav-text">KMP</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BFy%E6%80%BB"><span class="nav-number">1.0.4.4.1.1.</span> <span class="nav-text">æ¨¡æ¿yæ€»</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%89%8D%E7%BC%80%E8%A1%A8%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E9%95%BF"><span class="nav-number">1.0.4.4.1.2.</span> <span class="nav-text">å‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95%E6%96%B9%E6%B3%95%EF%BC%9A%E5%89%8D%E7%BC%80%E4%B8%8D%E5%87%8F%E5%BD%A2%E5%BC%8F"><span class="nav-number">1.0.4.4.1.3.</span> <span class="nav-text">ä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BD%9C%E4%B8%9A%E5%87%BA%E9%94%99%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.0.4.4.1.4.</span> <span class="nav-text">æ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› </span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#automata-%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="nav-number">1.0.4.4.2.</span> <span class="nav-text">automata~æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%88%E6%9E%84%E5%BB%BA%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%8A%B6%E6%80%81%E8%A1%A8%EF%BC%89"><span class="nav-number">1.0.4.4.2.1.</span> <span class="nav-text">ä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%81%AA%E6%98%8E%E7%89%88%E6%9C%AC%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="nav-number">1.0.4.4.2.2.</span> <span class="nav-text">èªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœº</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TRIE%E6%A0%91%EF%BC%88%E6%9C%89%E4%BA%9B%E7%B1%BB%E4%BC%BC%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E7%BC%96%E7%A0%81%EF%BC%89"><span class="nav-number">1.0.4.4.3.</span> <span class="nav-text">TRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%EF%BC%9A%E6%9E%84%E5%BB%BA%E4%B8%B2%E6%A0%91"><span class="nav-number">1.0.4.4.3.1.</span> <span class="nav-text">å¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E6%89%BE"><span class="nav-number">1.0.4.4.3.2.</span> <span class="nav-text">å¦‚ä½•æŸ¥æ‰¾</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BATRIE%E6%A0%91"><span class="nav-number">1.0.4.4.3.3.</span> <span class="nav-text">æ„å»ºTRIEæ ‘</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TRIE%E6%A0%91%E7%9A%84%E5%85%B6%E5%AE%83%E5%BA%94%E7%94%A8"><span class="nav-number">1.0.4.4.4.</span> <span class="nav-text">TRIEæ ‘çš„å…¶å®ƒåº”ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%80%9D%E8%B7%AF%EF%BC%9A%E5%88%A9%E7%94%A8%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">1.0.4.4.4.1.</span> <span class="nav-text">æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9A"><span class="nav-number">1.0.4.4.4.2.</span> <span class="nav-text">ç®—æ³•å¤æ‚åº¦ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A-1"><span class="nav-number">1.0.4.4.4.3.</span> <span class="nav-text">ä»£ç ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%B3%E8%A1%A8%E2%80%94%E2%80%94%E5%90%8C%E6%A0%B7%E9%9D%A2%E8%AF%95%E2%80%94%E2%80%94%E4%BD%86%E6%98%AF%E4%B8%8D%E7%94%A8%E6%89%8B%E6%90%93"><span class="nav-number">1.0.4.5.</span> <span class="nav-text">è·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%8F%82%E8%80%83%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%9A"><span class="nav-number">1.0.4.5.0.1.</span> <span class="nav-text">ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="nav-number">1.0.4.5.0.2.</span> <span class="nav-text">ç‰¹ç‚¹ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%EF%BC%9A"><span class="nav-number">1.0.4.5.0.3.</span> <span class="nav-text">æ ¸å¿ƒæ€æƒ³ï¼š</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.0.4.5.1.</span> <span class="nav-text">å®ç°</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="nav-number">1.0.4.5.1.1.</span> <span class="nav-text">æ„å»ºè¿‡ç¨‹ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#TRIE%E6%A0%91%E7%9A%84%E5%85%B6%E5%AE%83"><span class="nav-number">1.0.4.5.1.2.</span> <span class="nav-text">TRIEæ ‘çš„å…¶å®ƒ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%A3%E5%88%97%E8%A1%A8%E2%80%94%E2%80%94%E5%93%88%E5%B8%8C%E8%A1%A8-%E9%9D%A2%E8%AF%95%E5%BE%88%E9%87%8D%E8%A6%81"><span class="nav-number">1.0.4.6.</span> <span class="nav-text">æ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%BA%BF%E6%80%A7%E8%A1%A8%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="nav-number">1.0.4.6.0.1.</span> <span class="nav-text">çº¿æ€§è¡¨æ€»ç»“ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E5%AE%9A%E4%B9%89%EF%BC%8C%E5%BA%94%E7%94%A8"><span class="nav-number">1.0.4.6.0.2.</span> <span class="nav-text">å“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E6%A8%A1%E6%9D%BF%EF%BC%88%E6%AD%A3%E5%B8%B8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%89%88%E6%9C%AC%EF%BC%89"><span class="nav-number">1.0.4.6.0.3.</span> <span class="nav-text">å“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸+å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E7%B4%A2%E5%BC%95%E5%80%BC"><span class="nav-number">1.0.4.6.0.4.</span> <span class="nav-text">åˆ†é…ç´¢å¼•å€¼</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%87%8F%E5%B0%91%E7%B4%A2%E5%BC%95%E5%80%BC%EF%BC%9A"><span class="nav-number">1.0.4.6.0.5.</span> <span class="nav-text">å‡å°‘ç´¢å¼•å€¼ï¼š</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C%E2%80%94%E2%80%94-gt-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D%E7%BC%80%E5%93%88%E5%B8%8C%E6%B3%95"><span class="nav-number">1.0.4.6.1.</span> <span class="nav-text">å­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”&gt;å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%88%E5%B8%8C%E7%A2%B0%E6%92%9E%E5%A4%84%E7%90%86%EF%BC%88%E9%9D%A2%E8%AF%95%E9%AB%98%E9%A2%91%EF%BC%89%F0%9F%98%8D%F0%9F%98%8D%F0%9F%98%8D%F0%9F%98%8D%F0%9F%98%8D"><span class="nav-number">1.0.4.7.</span> <span class="nav-text">å“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8B%89%E9%93%BE%E6%B3%95%EF%BC%88Open-Hashing%EF%BC%89"><span class="nav-number">1.0.4.7.0.1.</span> <span class="nav-text">æ‹‰é“¾æ³•ï¼ˆOpen Hashingï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%80%E6%94%BE%E5%9C%B0%E5%9D%80%E6%B3%95-Open-Addressing"><span class="nav-number">1.0.4.7.0.2.</span> <span class="nav-text">å¼€æ”¾åœ°å€æ³• Open Addressing</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9D%9C%E9%B9%83%E5%93%88%E5%B8%8C%F0%9F%98%8E"><span class="nav-number">1.0.4.8.</span> <span class="nav-text">æœé¹ƒå“ˆå¸ŒğŸ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A4%B1%E8%B4%A5%E6%97%B6%EF%BC%9A"><span class="nav-number">1.0.4.8.0.1.</span> <span class="nav-text">å¤±è´¥æ—¶ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%91"><span class="nav-number">1.0.4.9.</span> <span class="nav-text">æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA%EF%BC%880%E4%BD%9C%E4%B8%BA%E7%A9%BA%E8%8A%82%E7%82%B9%EF%BC%8C%E4%BC%9A%E6%9C%89%E7%A9%BA%E9%97%B4%E6%B5%AA%E8%B4%B9%EF%BC%89"><span class="nav-number">1.0.4.9.0.1.</span> <span class="nav-text">å®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%91%E7%9A%84%E6%81%A2%E5%A4%8D"><span class="nav-number">1.0.4.10.</span> <span class="nav-text">æ ‘çš„æ¢å¤</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%94%B1%E5%85%88%E5%BA%8F%E5%92%8C%E4%B8%AD%E5%BA%8F%E6%81%A2%E5%A4%8D%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="nav-number">1.0.4.10.1.</span> <span class="nav-text">ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%83%8C%E4%B9%9F%E8%A6%81%E8%83%8C%E4%BC%9A%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.0.4.10.1.1.</span> <span class="nav-text">èƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E2%80%94%E2%80%94%E9%9D%A2%E8%AF%95%E6%B6%89%E5%8F%8A%E2%80%94%E2%80%94%E7%AB%9E%E8%B5%9B%E9%A2%91%E7%8E%87%E4%B9%9F%E9%AB%98%F0%9F%98%8D"><span class="nav-number">1.0.4.11.</span> <span class="nav-text">å¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E5%BA%94%E7%94%A8%EF%BC%9A"><span class="nav-number">1.0.4.11.0.1.</span> <span class="nav-text">å¹¶æŸ¥é›†åº”ç”¨ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="nav-number">1.0.4.11.0.2.</span> <span class="nav-text">åŸºæœ¬åŸç†ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%86%99%E6%B3%95%EF%BC%9A"><span class="nav-number">1.0.4.11.0.3.</span> <span class="nav-text">å†™æ³•ï¼š</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E4%BC%98%E5%8C%96%EF%BC%9A%E8%B7%AF%E5%BE%84%E5%8E%8B%E7%BC%A9"><span class="nav-number">1.0.4.11.1.</span> <span class="nav-text">å¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E4%BC%98%E5%8C%96%EF%BC%9A%E5%8A%A0%E6%9D%83%E5%90%88%E5%B9%B6"><span class="nav-number">1.0.4.11.1.1.</span> <span class="nav-text">ä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A0%86%EF%BC%9A%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-number">1.0.4.12.</span> <span class="nav-text">å †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A0%86%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="nav-number">1.0.4.12.0.1.</span> <span class="nav-text">å †çš„åŸºæœ¬ç»“æ„ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%EF%BC%9A"><span class="nav-number">1.0.4.12.0.2.</span> <span class="nav-text">åŸºæœ¬å‡½æ•°ï¼š</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E5%B0%8F%E7%BB%86%E8%8A%82%EF%BC%9A"><span class="nav-number">1.0.4.12.0.3.</span> <span class="nav-text">æ„å»ºå°ç»†èŠ‚ï¼š</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E6%9E%84%E5%BB%BA%EF%BC%9A"><span class="nav-number">1.0.4.12.1.</span> <span class="nav-text">å¼€å§‹æ„å»ºï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E5%A0%86"><span class="nav-number">1.0.4.12.1.1.</span> <span class="nav-text">æ„å»ºå †</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BAup"><span class="nav-number">1.0.4.12.1.2.</span> <span class="nav-text">æ„å»ºup</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%9E%84%E5%BB%BAdown"><span class="nav-number">1.0.4.12.1.3.</span> <span class="nav-text">æ„å»ºdown</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E6%8B%9F%E5%A0%86"><span class="nav-number">1.0.4.12.2.</span> <span class="nav-text">æ¨¡æ‹Ÿå †</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E9%A2%98%E6%8A%80%E5%B7%A7%EF%BC%9A"><span class="nav-number">1.0.4.12.2.1.</span> <span class="nav-text">è§£é¢˜æŠ€å·§ï¼š</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%9Aonlogn"><span class="nav-number">1.0.4.12.3.</span> <span class="nav-text">å †æ’åºï¼šonlogn</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%EF%BC%9A-2"><span class="nav-number">1.0.4.12.4.</span> <span class="nav-text">ä»£ç ï¼š</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%8B%9F%E5%A0%86%EF%BC%88%E7%9B%B4%E6%8E%A5%E9%80%A0%E5%B0%8F%E6%A0%B9%E5%A0%86%EF%BC%89"><span class="nav-number">1.0.4.12.4.1.</span> <span class="nav-text">æ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F%EF%BC%88%E6%95%B4%E4%BD%93%EF%BC%89"><span class="nav-number">1.0.4.12.4.2.</span> <span class="nav-text">å †æ’åºï¼ˆæ•´ä½“ï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91"><span class="nav-number">1.0.4.13.</span> <span class="nav-text">å“ˆå¤«æ›¼æ ‘</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81-%E5%AD%97%E6%AF%8D"><span class="nav-number">1.0.4.13.1.</span> <span class="nav-text">å“ˆå¤«æ›¼ç¼–ç :å­—æ¯</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95"><span class="nav-number">1.0.4.13.1.1.</span> <span class="nav-text">è´ªå¿ƒç®—æ³•</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%87%AA%E5%B7%B1%E5%86%99%E7%9A%84%E4%BB%A3%E7%A0%81-%E8%BE%93%E5%85%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9B%E8%A1%8C%E7%BC%96%E7%A0%81%E5%B9%B6%E8%BE%93%E5%87%BA-%EF%BC%9A"><span class="nav-number">1.0.4.13.1.2.</span> <span class="nav-text">è‡ªå·±å†™çš„ä»£ç (è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º)ï¼š</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AVL%E6%A0%91"><span class="nav-number">1.0.4.14.</span> <span class="nav-text">AVLæ ‘</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2023</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">breayhing / SIRI</a>
            
        </div>
        
        <div class="theme-info info-item">
            ç”± <a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
        
            <div class="deploy-info info-item">
                
                    æœ¬ç«™ç”± <span class="tooltip" data-content="GitHub Pages"><img src="/images/deploy-provider/github.png"></span> æä¾›éƒ¨ç½²æœåŠ¡
                
            </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="close-popup-btn">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/code-block.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/lazyload.js"></script>


<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/post-helper.js"></script>
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/anime.min.js"></script>
        
        
            <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/toc.js"></script>
        
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.6.1/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
