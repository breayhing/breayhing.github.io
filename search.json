[{"title":"å»ºç«™è¸©å‘å½•","url":"/2023/03/02/blog%E5%BB%BA%E7%AB%8B%E7%AB%99%E7%82%B9%E8%AE%B0%E5%BD%95/","content":"åœ¨ç»å†é•¿è¾¾ä¸€å¤©çš„è‰°è‹¦ä¿®æ”¹ï¼ˆæ”¹ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ç¥å¥‡bugï¼‰ä¹‹åï¼Œè¿™ä¸ªç½‘ç«™æ€»ç®—æ˜¯å»ºç«‹èµ·æ¥äº†ï¼Œä¹‹åçš„æ—¶é—´åº”è¯¥å°±æ˜¯ä½¿ç”¨è¿™é‡Œæ¥è®°å½•ä¸€äº›å­¦ä¹ ä¸­çš„è®°å½•ä»¥åŠä¸€äº›æ—¥å¸¸çš„çç¢è¯å§\n\nå»ºç«™é¸£è°¢ï¼šå‚»ç™½çš„blogä»¥åŠå¸®äº†å¾ˆå¤§å¿™çš„131blog\nä¼ é€é—¨ï¼š\nå¯ç”¨ä¸»é¢˜ | 131â€™s Blog (cxy131.site)\nã¯ãã®blog (sirohune.site)\n\nè¸©å‘å®å½•ï¼š\nhexo d #éƒ¨ç½²ç½‘ç«™\n\nå‘ç‚¹åœ¨äºä¹‹å‰ä½¿ç”¨jekylléƒ¨ç½²è¿‡ç½‘ç«™ï¼Œå› æ­¤å†ä½¿ç”¨hexoéƒ¨ç½²æ—¶ä¼šå¯¼è‡´å‡ºç°å¾ˆç¥å¥‡çš„bugï¼šgithubç›¸åº”ç½‘é¡µçš„ä»£ç æ›´æ–°ï¼Œä½†æ˜¯actionä¸­æ˜¾ç¤ºæ²¡æœ‰éƒ¨ç½²ã€‚æ¥å›æ‘¸ç´¢å¥½ä¹…\næœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼šå°†åŸæœ¬çš„GitHubåº“åˆ é™¤é‡æ–°æ­å»ºï¼ˆåˆ åº“è·‘è·¯æ³•ï¼‰ï¼ŒæˆåŠŸ\n","tags":["é‚£äº›ç¥å¥‡çš„å‘ä¸ç¥å¥‡çš„é—®é¢˜"]},{"title":"sse-netè®¡ç®—æœºç½‘ç»œç¬”è®°","url":"/2023/03/02/sse-net%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/","content":"å‚è€ƒç½‘è¯¾ï¼š\nChapter 1protocol:å‘èµ·è¿æ¥æ—¶å€™åŒæ–¹éƒ½éµå®ˆçš„ä¸€å®šè§„åˆ™(è§„èŒƒè¯­æ³•ï¼Œè¯­ä¹‰ï¼Œæ—¶åº)\nDSLï¼šæœ€ä¹‹å‰å®¶åº­ç½‘ç»œè¿æ¥æ–¹æ³•ï¼ˆæ•°å­—ç”¨æˆ·çº¿ï¼‰\ninternetæ ‡å‡†ï¼š\n\nRFC\nIETF\nWIFI\nWAPI\n\nTCPï¼šä¼ è¾“æ§åˆ¶åè®®ï¼Œåº”ç”¨\n\nHTTP\nFTP\nSMTP\nTelnet\n\nHost:æ•°æ®å‘é€æ–¹\nLinks:å®ä½“åª’ä»‹ï¼ˆç½‘ç»œçº¿ç¼†ç­‰ç­‰ï¼‰\nç»“è®ºï¼šé“¾è·¯äº¤æ¢ä¸é€‚åˆè®¡ç®—æœºä¹‹é—´é€šä¿¡\n\nå»ºç«‹æ—¶é—´é•¿\nå¯é æ€§ä½\næµªè´¹èµ„æºè¾ƒå¤š\n\nChapter 2æé—®éƒ¨åˆ†ï¼š\nå¯¹äºæµè§ˆå™¨ä¸‹è½½æ–‡ä»¶é€šå¸¸æ˜¯åˆ†ä¸ºå°åˆ‡ç‰‡ä¸‹è½½åœ¨ç¼“å­˜ä¸­å¹¶é€šè¿‡ç›¸å…³ç®—æ³•æ‹¼å‡‘ï¼Œå¦‚æœä¸­æ–­é‡æ–°è¿æ¥èƒ½å¦ç»§ç»­ä¸‹è½½åˆ™çœ‹è½¯ä»¶ç›¸å…³ç³»ç»Ÿå¤„ç†æ–¹å¼æ€ä¹ˆæ ·\nå¯¹äºè®¿é—®githubç­‰ç½‘ç«™æ—¶ï¼ˆåº”ç”¨å±‚webéƒ¨åˆ†ï¼‰å¦‚æœè®¿é—®æ—¶é—´è¿‡é•¿ç³»ç»Ÿä¼šåˆ¤å®šä¸ºè¿æ¥å¤±è´¥ä»è€Œæ”¾å¼ƒ\n\nå¼€å§‹è®²è§£åˆ†ç»„äº¤æ¢\nåˆ†ç»„äº¤æ¢ä¸ç”µè·¯äº¤æ¢ç”µè·¯äº¤æ¢ï¼š\nä¼˜ç‚¹ï¼š\n\nç”±äºé€šä¿¡çº¿è·¯ä¸ºé€šä¿¡åŒæ–¹ç”¨æˆ·ä¸“ç”¨ï¼Œæ•°æ®ç›´è¾¾ï¼Œæ‰€ä»¥ä¼ è¾“æ•°æ®çš„æ—¶å»¶éå¸¸å°ã€‚\né€šä¿¡åŒæ–¹ä¹‹é—´çš„å±‹é‡Œé€šè·¯ä¸€æ—¦å»ºç«‹ï¼ŒåŒæ–¹å¯ä»¥éšæ—¶é€šä¿¡ï¼Œå®æ—¶æ€§å¼ºã€‚\nåŒæ–¹é€šä¿¡æ—¶æŒ‰å‘é€é¡ºåºä¼ é€æ•°æ®ï¼Œä¸å­˜åœ¨å¤±åºé—®é¢˜ã€‚\nç”µè·¯äº¤æ¢æ—¢é€‚ç”¨äºä¼ è¾“æ¨¡æ‹Ÿä¿¡å·ï¼Œä¹Ÿé€‚ç”¨äºä¼ è¾“æ•°å­—ä¿¡å·ã€‚\nç”µè·¯äº¤æ¢çš„äº¤æ¢è®¾å¤‡åŠæ§åˆ¶å‡æ¯”è¾ƒç®€å•ã€‚\n\nç¼ºé™·ï¼š\n\nç”µè·¯äº¤æ¢å¹³å‡è¿æ¥å»ºç«‹æ—¶é—´å¯¹è®¡ç®—æœºé€šä¿¡æ¥è¯´è¾ƒé•¿ã€‚\nç”µè·¯äº¤æ¢å®¶é‡Œè¿æ¥åï¼Œç‰©ç†é€šè·¯è¢«é€šä¿¡åŒæ–¹ç‹¬å ï¼Œå³ä½¿é€šä¿¡çº¿è·¯ç©ºé—²ï¼Œä¹Ÿä¸èƒ½ä¾›å…¶ä»–ç”¨æˆ·ä½¿ç”¨ï¼Œå› è€Œä¿¡é“åˆ©ç”¨ç‡ä½ã€‚\nç”µè·¯äº¤æ¢æ—¶ï¼Œæ•°æ®ç›´è¾¾ï¼Œä¸åŒç±»å‹ï¼Œä¸åŒè§„æ ¼ï¼Œä¸åŒé€Ÿç‡çš„ç»ˆç«¯å¾ˆéš¾ç›¸äº’è¿›è¡Œé€šä¿¡ï¼Œä¹Ÿéš¾ä»¥åœ¨é€šä¿¡è¿‡ç¨‹ä¸­è¿›è¡Œå·®é”™æ§åˆ¶ã€‚\n\nåˆ†ç»„äº¤æ¢\nä¼˜ç‚¹ï¼š\n\nä¸å­˜åœ¨è¿æ¥å»ºç«‹æ—¶å»¶ï¼Œç”¨æˆ·å¯éšæ—¶å‘é€åˆ†ç»„\nä¼ è¾“å¯é æ€§é«˜\né€šä¿¡åŒæ–¹åœ¨ä¸åŒæ—¶é—´æ®µä¸€æ®µä¸€æ®µåœ°éƒ¨åˆ†å æœ‰ç‰©ç†é€šè·¯ï¼Œæé«˜äº†é€šä¿¡çº¿è·¯åˆ©ç”¨ç‡\nåŠ é€Ÿäº†æ•°æ®åœ¨ç½‘ç»œä¸­çš„ä¼ è¾“\nç®€åŒ–äº†äº¤æ¢èŠ‚ç‚¹ä¸­å­˜å‚¨å™¨çš„ç®¡ç†\nåˆ†ç»„è¾ƒçŸ­ï¼Œå‡ºé”™å‡ ç‡å‡å°‘ï¼Œå¯é æ€§é«˜ï¼Œæ—¶å»¶ä½\n\nç¼ºç‚¹ï¼š\n\né€šä¿¡é‡è¶Šå¤§ï¼Œæ—¶å»¶è¶Šå¤§ï¼Œå®æ—¶æ€§è¾ƒå·®\nåªé€‚ç”¨äºæ•°å­—ä¿¡å·\nå¯èƒ½å‡ºç°å¤±åºï¼Œä¸¢å¤±æˆ–è€…é‡å¤åˆ†ç»„\n\nç»¼ä¸Šï¼Œè‹¥ä¼ è¾“çš„æ•°æ®é‡å¾ˆå¤§ï¼Œè€Œä¸”ä¼ é€æ—¶é—´è¿œå¤§äºå‘¼å«æ—¶é—´ï¼Œåˆ™é‡‡ç”¨ç”µè·¯äº¤æ¢è¾ƒä¸ºåˆé€‚ï¼›å½“ç«¯åˆ°ç«¯çš„é€šè·¯æœ‰å¾ˆå¤šæ®µé“¾è·¯ç»„æˆæ˜¯ï¼Œé‡‡ç”¨åˆ†ç»„äº¤æ¢è¾ƒä¸ºåˆé€‚ã€‚ä»æé«˜æ•´ä¸ªç½‘ç»œçš„ä¿¡é“åˆ©ç”¨ç‡ä¸Šçœ‹ï¼Œåˆ†ç»„äº¤æ¢ä¼˜äºç”µè·¯äº¤æ¢ã€‚\nTDM&#x2F;FDMï¼ˆç”µè·¯äº¤æ¢ï¼‰TDMï¼š()æ—¶åˆ†å¤ç”¨\nFDMï¼š()é¢‘åˆ†å¤ç”¨\nTDMç›¸å¯¹FDMä¼˜ç‚¹ï¼š\n\nå‘ç”Ÿæ‹¥å¡ç­‰ç½‘ç»œé—®é¢˜æ—¶ï¼ŒTDMä¸­æ•°æ®ä¸¢å¤±å¯èƒ½åªä¼šæ˜¯ä¸€éƒ¨åˆ†ï¼ŒFDMä¸­å°±å¯èƒ½æ˜¯å¤§éƒ¨åˆ†æˆ–å…¨éƒ¨\nç”µè·¯äº¤æ¢ä¸­æ—¶åˆ†å¤ç”¨èƒ½é«˜æ•ˆåœ°ä½¿ç”¨ç½‘ç»œï¼Œå› ä¸ºé¢‘åˆ†å¤ç”¨å»ºç«‹åï¼Œå¦‚æœä¸­é€”æ²¡æœ‰æ•°æ®ä¼ è¾“æ—¶ï¼Œæ‰€å æœ‰çš„é¢‘æ®µå¸¦å®½ä¸èƒ½è¢«å…¶å®ƒè¿æ¥ä½¿ç”¨ï¼Œå¯èƒ½å­˜åœ¨ç©ºç½®\n\nåˆ†ç»„äº¤æ¢ç½‘ç»œ å­˜å‚¨-è½¬å‘\nISPç¬¬ä¸€å±‚ISPï¼šé¢å‘å®¢æˆ·ç½‘ç»œç»“ç®—ç‚¹ï¼ˆè´Ÿè´£æ”¶è´¹ï¼‰\nIXPï¼šè¿æ¥å¤šä¸ªå¯¹ç­‰ä¹‹é—´çš„ISP\nICPï¼šï¼ˆconternt providerï¼‰éƒ¨ç½²è‡ªèº«ä¸“ç”¨ç½‘ç»œå¹¶ä¸”ä¸å„çº§ISPè¿æ¥\nç½‘ç»œä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸ä¸€æ ·çš„\nå››ç§å»¶è¿Ÿä¼ è¾“å»¶è¿Ÿï¼šä¸€ä¸ªæ•°æ®åˆ†ç»„éœ€è¦å¤šé•¿æ—¶é—´å‘é€å‡ºæ¥ï¼ˆç¼“å­˜ä¸­ä¹Ÿæœ‰ä¸€ä¸ªæ’é˜Ÿå»¶è¿Ÿï¼‰\nå¤„ç†å»¶æ—¶ï¼šåˆ†ç»„æ—¶å€™æŸ¥çœ‹ä¿¡å·æ˜¯å¦æœ‰é”™è¯¯æƒ…å†µï¼Œ\næ’é˜Ÿå»¶æ—¶ï¼šéšæœºçš„ï¼Œä¸å½“å‰ç½‘ç»œæƒ…å†µç›¸å…³ï¼ˆæ¯”å¦‚å‘é€è¯·æ±‚ï¼‰\nä¼ æ’­å»¶è¿Ÿï¼šç‰©ç†å±‚é¢ä¼ æ’­çš„å»¶è¿Ÿï¼ˆåœ¨çº¿è·¯ä¸­ä¼ è¾“çš„é€Ÿåº¦ï¼‰\nåº”ç”¨ï¼šå¯ä»¥æ ¹æ®è¿è¥å•†çš„ä¸­å¿ƒæœºæˆ¿ä½ç½®å»æŠ¢ç¥¨ï¼ˆä¹ï¼‰\nChapter 3TTLtime to live\nè¿æ¥æ—¶å€™ç»™å®šè¿æ¥æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åˆ™è®¤å®šä¸ºè¿æ¥è¶…æ—¶ï¼Œéšåæ˜¾ç¤ºç½‘ç»œè¿æ¥å¤±è´¥\nååé‡ç»™å®šæ—¶é—´å†…å¹³å‡ååé‡\nåè®®å±‚ç½‘ç»œå±‚æ¬¡ï¼šä¸åŒé‚»æ¥å±‚æ¬¡ä¹‹é—´æœ‰ç›¸åº”æ¥å£æ¥ä¼ è¾“ï¼Œæ¯ä¸€å±‚éƒ½å‘ä¸Šä¸€å±‚æä¾›æœåŠ¡\nåˆ†å±‚é¡ºåºï¼š5å±‚\nåº”ç”¨å±‚ï¼Œä¼ è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼Œé“¾è·¯å±‚ï¼Œç‰©ç†å±‚\næœåŠ¡è®¿é—®ç‚¹ï¼šSAPï¼Œä¸Šå±‚ä½¿ç”¨ä¸‹å±‚çš„æœåŠ¡é€šè¿‡å±‚ä¹‹é—´çš„æ¥å£-åœ°ç‚¹\nä¸¾ä¾‹ï¼šé‚®ç®±ï¼ˆSMTPï¼‰\næ— è¿æ¥æœåŠ¡ï¼šæ— éœ€é¢„ç•™èµ„æºï¼Œä¸éœ€è¦åŒæ–¹æ´»è·ƒï¼ˆæ¯”å¦‚emailä¼ è¾“å’Œqqç­‰èŠå¤©è½¯ä»¶å‘é€ä¿¡æ¯ï¼‰\nç½‘ç»œè¿æ¥éœ€è¦ï¼šç«¯å£å·\nç½‘ç»œå®‰å…¨éƒ¨åˆ†ï¼š\n","tags":["å­¦ä¹ bi'ji"]},{"title":"CS-net-assignment#1","url":"/2023/03/03/cs-net-assignment-1/","content":"SSE206 Computer Networks Assignment #1Q1ï¼š\nä»Šå¤©æœ€æµè¡Œçš„æ— é™å› ç‰¹ç½‘æ¥å…¥æŠ€æœ¯æœ‰WIFIå’Œ4Gæ¥å…¥ã€‚WIFIé€Ÿåº¦å¿«ä½†è·ç¦»çŸ­ï¼ˆè·ç¦»åŸºç«™è¿‘ï¼‰ï¼Œ4Gé€Ÿåº¦æ…¢ä½†è·ç¦»è¿œï¼ˆè·ç¦»åŸºç«™è¿œï¼‰ï¼Œä»¥åŠæœ€æ–°çš„5GæŠ€æœ¯ï¼Œç›¸å¯¹äº4Gå…·æœ‰æ›´ä½æ—¶é—´å»¶è¿Ÿï¼Œæ›´é«˜è¿æ¥é€Ÿç‡ã€‚\nQ2ï¼š\nç”µè·¯äº¤æ¢æ›´é€‚åˆã€‚\nåŸå› ï¼šå¯¹äºä»¥ç¨³å®šé€Ÿç‡ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”æŒç»­é•¿æ—¶é—´è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ç”µè·¯äº¤æ¢ç½‘å¯ä»¥\n\nä¼ è¾“æ•°æ®é€Ÿç‡ç¨³å®šï¼Œå› æ­¤ç”µè·¯äº¤æ¢å¯ä»¥ä¸ºå…¶ä¿ç•™å¸¦å®½ï¼Œå¯ä»¥ä¸ºå…¶ä¿ç•™å¸¦å®½ï¼Œä¿è¯åº”ç”¨ç¨‹åºä»¥ç¨³å®šçš„é€Ÿç‡æ¥æ”¶æ•°æ®\nç”±äºéœ€è¦æŒç»­é•¿æ—¶é—´è¿è¡Œï¼Œå³ä¸éœ€è¦é‡å¤å»ºç«‹è¿æ¥ï¼Œåˆ†ç»„äº¤æ¢ç›¸å¯¹ç”µè·¯äº¤æ¢çš„ä¼˜åŠ¿å¹¶ä¸å¤§\né€šä¿¡çº¿è·¯ä¸ºåŒæ–¹ä¸“ç”¨ï¼Œæ•°æ®ç›´è¾¾ï¼Œæ•…ä¼ è¾“æ—¶å»¶éå¸¸å°\n\nQ3ï¼šï¼ˆä¸ç¡®å®šï¼Œå›å¤´å†æ£€æŸ¥ï¼‰\na. ç¬¬ä¸€ä¸ªåˆ†ç»„äº¤æ¢éœ€è¦çš„æ—¶é—´ä¸º&#x3D;æŠ¥æ–‡å¤§å°&#x2F;é“¾è·¯é€Ÿç‡&#x3D; 8 * 10^6 &#x2F; 2 * 10^6 sec &#x3D; 4 sec æºä¸»æœºåˆ°ç›®çš„ä¸»æœºæœ‰ä¸‰æ®µé“¾è·¯ï¼Œéœ€è¦æ—¶é—´ä¸º 3 * 4 &#x3D; 12 sec\nb. ä»æºä¸»æœºå‘é€ç¬¬ä¸€ä¸ªåˆ†ç»„åˆ°ç¬¬ä¸€å°äº¤æ¢æœº1 * 10^4 &#x2F; 2 * 10^6 sec &#x3D; 5 m sec ä»ç¬¬ä¸€å°äº¤æ¢æœºå‘é€ç¬¬ä¸€ä¸ªåˆ†ç»„åˆ°ç¬¬äºŒå°äº¤æ¢æœºæ—¶é—´ &#x3D; ä»æºä¸»æœºå‘é€ç¬¬äºŒä¸ªåˆ†ç»„åˆ°ç¬¬ä¸€å°äº¤æ¢æœºæ—¶é—´ &#x3D; 2 * 5 m sec &#x3D; 10 m sec\nc. ç¬¬ä¸€ä¸ªåˆ†ç»„åˆ°è¾¾ç›®çš„åœ°æ—¶ï¼ŒèŠ±è´¹çš„æ—¶é—´ä¸º 5 m sec * 3 &#x3D; 15 m sec,ä¹‹åï¼Œæ¯éš” 5 ç§’å°†ä¼šæœ‰ä¸€ä¸ªåˆ†ç»„è¢«æ¥æ”¶ï¼Œä¸€å…±æœ‰ 800 ä¸ªåˆ†ç»„ ï¼Œé™¤å»ç¬¬ä¸€ä¸ªåˆ†ç»„ï¼Œä¼ è¾“è¯¥æ–‡ä»¶æ‰€éœ€è¦çš„æ—¶é—´ä¸º 15 m sec + 799 * 5 msec &#x3D; 4.01 secã€‚\nd. \nä½¿ç”¨æŠ¥æ–‡åˆ†æ®µä¾¿äºæ£€æµ‹é”™è¯¯å¹¶ä¸”é‡æ–°ä¼ è¾“ï¼Œä¸åˆ†æ®µçš„å¤§æ•°æ®åŒ…åˆ™å®¹æ˜“ä½¿å¾—è·¯ç”±å™¨ç¼“å­˜ä¸è¶³å¯¼è‡´ä¸¢åŒ…ã€‚\nQ4:\nSkypeå› ä¸ºæ˜¯é‡‡ç”¨ç§æœ‰ä¿¡ä»¤åè®®ï¼Œä¸è¿è¥å•†çš„ç”µè¯ç½‘ç»œæ‰€ä½¿ç”¨ä¿¡ä»¤åè®®ä¸åŒï¼Œå› æ­¤éœ€è¦ä¸“ä¸šçš„è¯­éŸ³ç½‘å…³è¿›è¡Œä¿¡ä»¤è½¬æ¢ï¼Œå› æ­¤ç®€å•çš„é€šä¿¡æ¨¡å‹å¦‚ä¸‹\nSkypeå®¢æˆ·ç«¯â†’SkypeæœåŠ¡å™¨â†’è¯­éŸ³ç½‘å…³â†’è¿è¥å•†çº¿è·¯â†’ä¸ªäººç”µè¯\nå³è¯­éŸ³å‘¼å«å¿…é¡»é€šè¿‡å› ç‰¹ç½‘ï¼ˆæœåŠ¡å™¨è¯·æ±‚ï¼‰ï¼Œä¸ç”µè¯ç½‘ï¼ˆå¯¹è¿è¥å•†çº¿è·¯å‘å‡ºè¯·æ±‚ï¼‰\nQ5:\nç›¸å¯¹ä¸åˆ†ç»„äº¤æ¢ç½‘ç»œï¼Œç”µè·¯äº¤æ¢ç½‘ç»œä¼˜ç‚¹æœ‰ï¼š\n\nä¼ è¾“æ—¶å»¶éå¸¸å°\nå¯ä»¥éšæ—¶é€šä¿¡ï¼Œå®æ—¶æ€§å¼º\nä¸å­˜åœ¨å¤±åºé—®é¢˜\näº¤æ¢è®¾å¤‡åŠæ§åˆ¶éƒ½ç®€å•\n\nç”µè·¯äº¤æ¢ç½‘ç»œä¸­ï¼ŒTDMç›¸å¯¹FDMä¼˜ç‚¹ï¼š\n\nå‘ç”Ÿæ‹¥å¡ç­‰ç½‘ç»œé—®é¢˜æ—¶ï¼ŒTDMä¸­æ•°æ®ä¸¢å¤±å¯èƒ½åªä¼šæ˜¯ä¸€éƒ¨åˆ†ï¼ŒFDMä¸­å°±å¯èƒ½æ˜¯å¤§éƒ¨åˆ†æˆ–å…¨éƒ¨\nç”µè·¯äº¤æ¢ä¸­æ—¶åˆ†å¤ç”¨èƒ½é«˜æ•ˆåœ°ä½¿ç”¨ç½‘ç»œï¼Œå› ä¸ºé¢‘åˆ†å¤ç”¨å»ºç«‹åï¼Œå¦‚æœä¸­é€”æ²¡æœ‰æ•°æ®ä¼ è¾“æ—¶ï¼Œæ‰€å æœ‰çš„é¢‘æ®µå¸¦å®½ä¸èƒ½è¢«å…¶å®ƒè¿æ¥ä½¿ç”¨ï¼Œå¯èƒ½å­˜åœ¨ç©ºç½®\n\nQ6:\n\nå„å±‚å¯¹åº”: ä¸€-ç‰©ç†å±‚, äºŒ-é“¾è·¯å±‚, ä¸‰-ç½‘ç»œå±‚, å››-è¿è¾“å±‚, äº”-åº”ç”¨å±‚\nè·¯ç”±å™¨å¤„ç†ç¬¬ä¸€å±‚åˆ°ç¬¬ä¸‰å±‚\né“¾è·¯å±‚äº¤æ¢æœºå¤„ç†ç¬¬ä¸€å±‚å’Œç¬¬äºŒå±‚\nä¸»æœºå¤„ç†æ‰€æœ‰äº”å±‚.\n\n","tags":["cs-net"]},{"title":"webæŠ€æœ¯å­¦ä¹ ç¬”è®°","url":"/2023/03/08/web%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/","content":"å…³äºReactReactæ¸²æŸ“åŸç†ï¼šreactæ¸²æŸ“åŸç† - æ˜é‡‘ (juejin.cn)\nReactç¬”è®°HOOKsï¼š\nuseState\nuseRef\nuseContext\nuseEffect\n\n","tags":["é¡¹ç›®å®ä¹ ç¬”è®°"]},{"title":"æ•°ç”µ","url":"/2023/03/04/%E6%95%B0%E7%94%B5/","content":"è€ƒå®Œè¯•çš„æ„Ÿè§‰å°±æ˜¯ï¼šé¢˜é‡å“ˆäººã€‚\nä¸¤ä¸ªå°æ—¶çš„è€ƒè¯•æ—¶é—´å®é™…ä¸Šæ˜¯å¾ˆç´§å¼ çš„ï¼Œä¸»è¦åœ¨äºç”»å¡è¯ºå›¾å’ŒçœŸå€¼è¡¨éƒ¨åˆ†ã€‚\n\nè€ƒé¢˜ä¸­å‡ºç°çš„ä¸€äº›é‡ç‚¹ï¼ˆæƒ³èµ·å•¥ç®—å•¥å§ï¼‰\né€‰æ‹©&#x2F;å¡«ç©ºï¼šç¬¬åç« å’Œç¬¬åä¸€ç« çš„æ¯”ä¾‹ç›¸å½“é«˜ï¼Œè€Œä¸”å…¶å®å åˆ†æ¯”è¿˜æ˜¯æŒºé«˜çš„(å…³äºå­˜å‚¨å™¨ï¼Œå°¤å…¶æ˜¯ç¬¬åä¸€ç« çš„ä¿¡å·è½¬æ¢)\nå¤§é¢˜è®¾è®¡ï¼šé‡ç‚¹åœ¨äºäº†è§£ä¸‰ä¸ªåŸºç¡€èŠ¯ç‰‡ï¼ˆ151ï¼Œ138ï¼Œ73éƒ½è€ƒåˆ°äº†ï¼Œå’Œè€å¸ˆè¯´çš„ä¸€è‡´ï¼‰ï¼Œä»¥åŠå¿«é€Ÿï¼Œå‡†ç¡®åœ°ç”»å¥½å¡è¯ºå›¾å’ŒçœŸå€¼è¡¨ï¼Œå¦åˆ™æ—¶é—´ä¼šå¾ˆç´§å¼ \n","tags":["è€ƒè¯•å¤ç›˜"]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³• PART 2","url":"/2023/03/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95PART2/","content":"æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART 2æœç´¢ä¸å›¾è®ºæŸ¥æ‰¾ä¸­é™æ€ä¸åŠ¨æ€å·®å¼‚ä»…åœ¨äºæ˜¯å¦å¯ä»¥åŠ¨æ€å¢åˆ å…ƒç´ \nåŠ¨æ€æŸ¥æ‰¾åœ¨å‡ ä½•è®¡ç®—ä¸Šåº”ç”¨å¹¿æ³›\næœç´¢ç§ç±»ï¼šæ— ä¿¡æ¯æœç´¢ï¼š\n1.DFSï¼šé€’å½’ç»“æŸæ¡ä»¶çš„é€‰æ‹©+çŠ¶æ€æ ‡è®°+é€’å½’åçš„æ¢å¤(ä¹Ÿå¯ä»¥ç”¨æ ˆæ¥æ­å»ºå‡ºæ¥)2.BFSï¼šæ¨¡æ‹Ÿé˜Ÿåˆ— q[N], d[N] ä½¿ç”¨dæ•°ç»„æ ‡è®°çŠ¶æ€3.æœç´¢ï¼šè§£ç©ºé—´çš„æœç´¢å¾€å¾€éœ€è¦dfs+å‰ªæï¼Œbfsç”¨æ¥æ‰¾æœ€çŸ­è·¯4.æ ‘å’Œå›¾çš„å­˜å‚¨ï¼šé‚»æ¥è¡¨ h[N], e[N], ne[N], idx5.æ ‘å’Œå›¾çš„éå†ï¼šéå†ä¸ç”¨åƒæœç´¢è§£ç©ºé—´ä¸€æ ·é€’å½’åæ¢å¤ï¼Œåªç”¨éå†ä¸€æ¬¡å³å¯\næœ‰ä¿¡æ¯æœç´¢ï¼š\nAæœç´¢ç®—æ³•\nå»ºç«‹æœç´¢æ¨¡å‹ï¼š\n\n\n\nDFSä¼˜åŠ¿ï¼šå¯ä»¥è·å–å­æ ‘çš„å¤§å°æ ¸å¿ƒï¼šé¡ºåº842. æ’åˆ—æ•°å­— - AcWingé¢˜åº“\nDFSäººç§°æš´åŠ›æœç´¢ï¼Œå¯¹åº”çš„æ˜¯ä¸€ä¸ªå¤šå‰æ ‘çš„å½¢å¼ï¼ŒDFSçš„æœç´¢é¡ºåºå’Œå‰åºéå†å…¶å®ä¸€æ ·ï¼Œä½†æ˜¯å®é™…ä¸Šå­˜å‚¨ç»“æ„åªä¼šå­˜ä¸€æ¡è·¯å¾„ï¼Œå›æº¯çš„æ—¶å€™å°±ä¼šæ¶ˆå¤±ï¼Œä¸éœ€è¦çœŸæ­£å»ºç«‹æ ‘ï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„æ¢å¤ç°åœº\n![æ·±åº¦ä¼˜å…ˆéå†.png](D:\\typora note\\55289_0cd4222d73-æ·±åº¦ä¼˜å…ˆéå†.png)\nä¸¾ä¾‹ï¼šå…¨æ’åˆ—åšæ³•ï¼Œä½¿ç”¨å›æº¯ï¼ˆè¿˜å¯ä»¥ä½¿ç”¨å‰ªæï¼‰\nå…¨æ’åˆ—åšæ³•ï¼šæ—¶é—´å¤æ‚åº¦ä¸º O(n*n!)ã€‚\nç©ºé—´å¤æ‚åº¦ä¸º O(n)ã€‚\nç®—æ³•ï¼š\n\nç”¨ path æ•°ç»„ä¿å­˜æ’åˆ—ï¼Œå½“æ’åˆ—çš„é•¿åº¦ä¸º n æ—¶ï¼Œæ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚\\\nç”¨ state æ•°ç»„è¡¨ç¤ºæ•°å­—æ˜¯å¦ç”¨è¿‡ã€‚å½“ state[i] ä¸º 1 æ—¶ï¼ši å·²ç»è¢«ç”¨è¿‡ï¼Œstate[i] ä¸º 0 æ—¶ï¼Œi æ²¡æœ‰è¢«ç”¨è¿‡ã€‚\ndfs(i) è¡¨ç¤ºçš„å«ä¹‰æ˜¯ï¼šåœ¨ path[i] å¤„å¡«å†™æ•°å­—ï¼Œç„¶åé€’å½’çš„åœ¨ä¸‹ä¸€ä¸ªä½ç½®å¡«å†™æ•°å­—ã€‚\nå›æº¯ï¼šç¬¬ i ä¸ªä½ç½®å¡«å†™æŸä¸ªæ•°å­—çš„æ‰€æœ‰æƒ…å†µéƒ½éå†åï¼Œ ç¬¬ i ä¸ªä½ç½®å¡«å†™ä¸‹ä¸€ä¸ªæ•°å­—ã€‚\n\n#include&lt;iostream&gt;\nusing namespace std;\nconst int N = 10;\nint path[N];//ä¿å­˜åºåˆ—\nint state[N];//æ•°å­—æ˜¯å¦è¢«ç”¨è¿‡\nint n;\nvoid dfs(int u)\n&#123;\n    if(u &gt; n)//æ•°å­—å¡«å®Œäº†ï¼Œè¾“å‡º\n    &#123;\n        for(int i = 1; i &lt;= n; i++)//è¾“å‡ºæ–¹æ¡ˆ\n            cout &lt;&lt; path[i] &lt;&lt; &quot; &quot;;\n        cout &lt;&lt; endl;\n    &#125;\n\n    for(int i = 1; i &lt;= n; i++)//è¿™é‡Œå°±æ˜¯é€‰æ‹©å¦‚ä½•éå†ï¼Œæƒ³åæ–¹å‘å°±æ˜¯é€†åºéå†äº†\n        //ç©ºä½ä¸Šå¯ä»¥é€‰æ‹©çš„æ•°å­—ä¸º:1 ~ n\n    &#123;//å…³é”®åœ¨è¿™é‡Œ\n        /*\n        æ¯”å¦‚123\n        å›æº¯åˆ°1ï¼Œstate[2]=0,2åˆå¯ä»¥ç”¨ï¼Œä½†å¾ªç¯èµ°åˆ°äº†2ï¼Œåˆ°3äº†ï¼Œå› æ­¤æ˜¯132\n        */\n        if(!state[i])//å¦‚æœæ•°å­— i æ²¡æœ‰è¢«ç”¨è¿‡\n        &#123;\n            path[u] = i;//æ”¾å…¥ç©ºä½\n            state[i] = 1;//æ•°å­—è¢«ç”¨ï¼Œä¿®æ”¹çŠ¶æ€\n            dfs(u + 1);//å¡«ä¸‹ä¸€ä¸ªä½\n            state[i] = 0;//å›æº¯ï¼Œå–å‡º i\n        &#125;\n    &#125;\n&#125;\n\nint main()\n&#123;\n\n    cin &gt;&gt; n;\n    dfs(1);//ä»1å¼€å§‹\n    &#125;\n\nDFSå¦ä¸€ç§åº”ç”¨ï¼šçš‡åä½ç½®c++ç›´æ¥å®Œæ•´ç‰ˆæœ¬ä»£ç ï¼šï¼ˆLeetCode ç‰ˆæœ¬ï¼‰\nclass Solution &#123;\nprivate:\nvector&lt;vector&lt;string&gt;&gt; result;\n// n ä¸ºè¾“å…¥çš„æ£‹ç›˜å¤§å°\n// row æ˜¯å½“å‰é€’å½’åˆ°æ£‹ç‰Œçš„ç¬¬å‡ è¡Œäº†\nvoid backtracking(int n, int row, vector&lt;string&gt;&amp; chessboard) &#123;\n    if (row == n) &#123;//å›æº¯åˆ°æœ€åä¸€è¡Œï¼Œè¯´æ˜æ»¡è¶³æƒ…å†µäº†\n        result.push_back(chessboard);\n        return;\n    &#125;\n    for (int col = 0; col &lt; n; col++) &#123;\n        if (isValid(row, col, chessboard, n)) &#123; // éªŒè¯åˆæ³•å°±å¯ä»¥æ”¾\n            chessboard[row][col] = &#39;Q&#39;; // æ”¾ç½®çš‡å\n            backtracking(n, row + 1, chessboard);//å†è¿›ä¸€è¡Œè¿›è¡Œæ£€éªŒ\n            chessboard[row][col] = &#39;.&#39;; // å›æº¯ï¼Œæ’¤é”€çš‡å\n        &#125;\n    &#125;\n&#125;\nbool isValid(int row, int col, vector&lt;string&gt;&amp; chessboard, int n) &#123;\n    int count = 0;\n    // æ£€æŸ¥åˆ—\n    for (int i = 0; i &lt; row; i++) &#123; // è¿™æ˜¯ä¸€ä¸ªå‰ªæ\n        if (chessboard[i][col] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    // æ£€æŸ¥ 45åº¦è§’æ˜¯å¦æœ‰çš‡å\n    for (int i = row - 1, j = col - 1; i &gt;=0 &amp;&amp; j &gt;= 0; i--, j--) &#123;//å¦ä¸€ä¸ªå‰ªæ”¯\n        if (chessboard[i][j] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    // æ£€æŸ¥ 135åº¦è§’æ˜¯å¦æœ‰çš‡å\n    for(int i = row - 1, j = col + 1; i &gt;= 0 &amp;&amp; j &lt; n; i--, j++) &#123;\n        if (chessboard[i][j] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    return true;\n&#125;\npublic:\n    vector&lt;vector&lt;string&gt;&gt; solveNQueens(int n) &#123;\n        result.clear();\n        std::vector&lt;std::string&gt; chessboard(n, std::string(n, &#39;.&#39;));\n        backtracking(n, 0, chessboard);//æ³¨æ„è¿™é‡Œæ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥æœ€ååˆ°nï¼Œå®é™…ä¸Šä»¥åŠå¯¹nå±‚è¿›è¡Œäº†åˆ¤æ–­\n        return result;\n    &#125;\n&#125;;\n\n/*æ€»ç»“æ“ä½œæµç¨‹ï¼š\nç±»ä¼¼äºŒå‰æ ‘ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œéå†ï¼Œå®é™…å¤æ‚åº¦æ˜¯n^2ï¼Œä»å¼€å¤´ä¸€ç›´å‘ä¸‹å»¶ç”³ï¼Œå¯æ»¡è¶³æƒ…å†µè¿›è¡Œè¿”å›\n\nc++æ•°ç»„ç‰ˆæœ¬çš‡åé—®é¢˜:è€å­è‡ªå·±å†™çš„ï¼ï¼ˆåŒæ‰‹å‰è…°ï¼‰\n#include &lt;iostream&gt;\n#include&lt;vector&gt;\nusing namespace std;\nconst int maxn=9;\nint solu[maxn]=&#123;0&#125;;\nint qn[maxn]=&#123;0&#125;;\nbool isValid(int posj,int posi)//æœ€åé‚£ä¸ªposä¹Ÿå°±æ˜¯æ£‹å­çš„åæ ‡\n&#123;\n    //posi=i,posj=qn[i]\n    if(posi==0)return true;\n    for(int i=0;i&lt;posi;i++)\n    &#123;\n        if(qn[i]==posj)return false;//ç›¸åŒçš„åˆ—åˆ¤æ–­\n    &#125;\n    for(int i=posi-1;i&gt;=0;i--)//45åˆ¤æ–­\n    &#123;\n        if(posi-i==posj-qn[i])return false;\n    &#125;\n    for(int i=posi-1;i&gt;=0;i--)//135\n    &#123;\n        if(posi-i==qn[i]-posj)return false;\n    &#125;\n    return true;\n&#125;\nvoid backtracing(int n,int row)\n&#123;\n    if(row==n)&#123;//ç»ˆæ­¢äº†ï¼Œæ‰¾åˆ°äº†å…¶ä¸­ä¸€ç§è§£å†³æ–¹æ¡ˆ\n        cout&lt;&lt;&quot;bottom reached\\n&quot;;\n        cout&lt;&lt;&quot;solution:\\n&quot;;\n        for(int  i=0;i&lt;n;i++)\n        &#123;\n            cout&lt;&lt;&quot;row &quot;&lt;&lt;i+1&lt;&lt;&quot; equals to &quot;&lt;&lt;qn[i]+1&lt;&lt;&quot; \\n&quot;;\n        &#125;\n        cout&lt;&lt;&quot;go find other solution\\n\\n&quot;;\n        return;\n    &#125;\n    else&#123;\n        for(int i=0;i&lt;n;i++)//æ³¨æ„è¿™é‡Œçš„ä¼ å‚\n        &#123;\n            qn[row]=i;//rowï¼Œè¡Œå›ºå®šï¼Œåˆ—ç”¨å˜é‡iå¯¹æ¯ä¸€è¡Œè¿›è¡Œéå†ï¼Œå¦‚æœæ»¡è¶³ä¹‹å‰æ¡ä»¶è¿›å…¥ä¸‹ä¸€è¡Œ\n            if(isValid(qn[row],row))//è¯¥è¡Œè¯¥ä½ç½®èƒ½å¦æ”¾\n            &#123;\n\n                backtracing(n,row+1);//å¯ä»¥å°±ç»§ç»­å¾€ä¸‹èµ°\n\n            &#125;\n        &#125;\n    &#125;\n\n&#125;\n\nint main()\n&#123;\n    int n;\n\n    cin&gt;&gt;n;\n    backtracing(n,0);\n&#125;\n\nBFSï¼ˆä½¿ç”¨äºŒç»´æ•°ç»„ï¼‰åŸå› ï¼šå®½æœçš„æ€§è´¨ï¼šè¾å°„æ€§å‘å¤–æœç´¢ï¼ˆæƒ³æƒ³ä¸€å±‚ä¸€å±‚å‘å¤–æ‰©å¼ çš„ä¿¡å·ï¼‰\n844. èµ°è¿·å®« - AcWingé¢˜åº“\næ³¨æ„ï¼š\ndpé—®é¢˜å’Œæœ€çŸ­è·¯é—®é¢˜å…¶å®æ˜¯äº’é€šçš„\nè¾¹çš„æƒé‡éƒ½æ˜¯1çš„æ—¶å€™æ‰å¯ä»¥ä½¿ç”¨BFSæ±‚æœ€çŸ­è·¯ï¼Œä¸€èˆ¬éƒ½ç”¨æœ€çŸ­è·¯\ndpé—®é¢˜ä¸èƒ½ç”¨æœ€çŸ­è·¯ç®—æ³•ï¼ˆæœ€çŸ­è·¯æ—¶é—´ä¸€èˆ¬éƒ½é«˜)\nç¬¬ä¸€æ¬¡æœåˆ°çš„ç‚¹æ‰æ˜¯æœ€çŸ­çš„ç‚¹ï¼Œä¹‹åçš„éƒ½ä¸æ˜¯\n\nä¸åŒäºæ·±æœï¼Œå®½æœä¸€èˆ¬æœ‰ä¸€ä¸ªæ¡†æ¶\n\n\nå¹¿æœçš„æ¡†æ¶\nåˆå§‹çŠ¶æ€æ”¾åˆ°é˜Ÿåˆ—ä¸­\nå†™ä¸€ä¸ªwhileå¾ªç¯ï¼Œåªè¦é˜Ÿåˆ—ä¸ç©ºï¼Œåœ¨å¾ªç¯å†…æ¯ä¸€æ¬¡æ‹¿å‡ºé˜Ÿå¤´ï¼Œæ‰©å±•é˜Ÿå¤´\n\nå¾€ä¸Šä¸‹å·¦å³æ‰©å±•çš„æŠ€å·§ï¼šä½¿ç”¨å‘é‡æ¥è¡¨ç¤º\nä»£ç ï¼ˆå¦‚è¯¥é“é¢˜ï¼‰\nvoid bfs(int a, int b): å¹¿åº¦ä¼˜éå†å‡½æ•°ã€‚è¾“å…¥çš„æ˜¯èµ·ç‚¹åæ ‡ã€‚\nqueue q;:ç”¨æ¥å­˜å‚¨æ¯ä¸€æ­¥èµ°åˆ°çš„ç‚¹ã€‚\nwhile(!q.empty())å¾ªç¯ï¼šå¾ªç¯ä¾æ¬¡å–å‡ºåŒä¸€æ­¥æ•°èƒ½èµ°åˆ°çš„ç‚¹ï¼Œå†å¾€å‰èµ°ä¸€æ­¥ã€‚\nint dx[4] &#x3D; {0, 1, 0, -1}, dy[4] &#x3D; {-1, 0, 1, 0};:ä¸€ä¸ªç‚¹å¾€ä¸‹ä¸€æ­¥èµ°å¾—æ—¶å€™ï¼Œå¯ä»¥å¾€ä¸Šä¸‹å·¦å³å››æ–¹å‘èµ°ã€‚\n\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n#include &lt;queue&gt;\nusing namespace std;\ntypedef pair&lt;int, int&gt; PII;\nconst int N = 110;\nint g[N][N];//å­˜å‚¨åœ°å›¾\nint f[N][N];//å­˜å‚¨è·ç¦»\nint n, m;\nvoid bfs(int a, int b)//å¹¿åº¦ä¼˜å…ˆéå†\n&#123;\n    queue&lt;PII&gt; q;\n    q.push(&#123;a, b&#125;);//å‹å…¥é˜Ÿåˆ—\n    while(!q.empty())\n    &#123;\n        PII start = q.front();\n        q.pop();\n        g[start.first][start.second] = 1;\n        int dx[4] = &#123;0, 1, 0, -1&#125;, dy[4] = &#123;-1, 0, 1, 0&#125;;\n        for(int i = 0; i &lt; 4; i++)//å¾€å››ä¸ªæ–¹å‘èµ°\n        &#123;\n            int x = start.first + dx[i], y = start.second + dy[i];//èµ°å‡ºä¸€æ­¥ä¹‹å\n            if(g[x][y] == 0)//å¦‚æœè¿˜æ²¡æœ‰èµ°è¿‡\n            &#123;\n                g[x][y] = 1;//è¯¥ç‚¹è¿›è¡Œæ›´æ–°,å› ä¸ºå¹¿æœä¸­ç¬¬ä¸€æ¬¡é‡åˆ°çš„å°±æ˜¯æœ€çŸ­è·¯å¾„\n                f[x][y] = f[start.first][start.second] + 1;//ä»å½“å‰ç‚¹èµ°è¿‡å»ï¼Œåˆ™è·ç¦»ç­‰äºå½“å‰ç‚¹çš„è·ç¦»+1.\n                q.push(&#123;x, y&#125;);//å†å…¥æ ˆä¸€ä¸ª\n            &#125;\n\n        &#125;\n    &#125;\n    cout &lt;&lt; f[n][m];\n&#125;\n\nint main()\n&#123;\n    memset(g, 1, sizeof(g));\n    cin &gt;&gt; n &gt;&gt;m;\n    for(int i = 1; i &lt;= n; i++)//å¯¹åœ°å›¾è¿›è¡Œä¸€ä¸ªæ›´æ–°\n    &#123;\n        for(int j = 1; j &lt;= m; j++)\n        &#123;\n            cin &gt;&gt; g[i][j];\n        &#125;\n    &#125;\n    bfs(1,1);//å¯¹èµ·ç‚¹è¿›è¡Œbfs\n\n&#125;\n\næ ‘å’Œå›¾çš„DFSï¼ŒBFSæ ‘å’Œå›¾çš„DFSï¼ŒBFSå°±æ˜¯ç‰¹æ®Šçš„æœç´¢ï¼ˆå› ä¸ºæœ‰é‚£ä¸ªç¯ï¼‰\næ ‘å’Œå›¾çš„éå†æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯oï¼ˆn+mï¼‰\næ ‘ä¸å›¾çš„å­˜å‚¨é€‰æ‹©ç¨ å¯†å›¾ï¼šé‚»æ¥çŸ©é˜µ\nç¨€ç–å›¾ï¼šé‚»æ¥è¡¨\næ— å‘å›¾å®é™…ä¸Šå°±æ˜¯æœ‰å‘å›¾è¿›è¡Œä¸€ä¸ªå¯¹ç§°\næœ‰å‘å›¾çš„å­˜å‚¨æ–¹å¼\né‚»æ¥çŸ©é˜µï¼šåŒBFSï¼Œå¼€äºŒç»´æ•°ç»„å­˜å°±å®Œäº‹äº†\nä¼˜åŒ–ï¼šä½¿ç”¨vectorå‘é‡\n int V,num;\n    cin&gt;&gt;V&gt;&gt;num;//Vè¾¹æ•°é‡\n    vector&lt;vector&lt;int&gt;&gt; graph(V);\n    vector&lt;vector&lt;int&gt;&gt; price(V);//è®°å½•æƒå€¼\n    for(int i=0;i&lt;V;i++)\n    &#123;\n        graph[i].resize(V);\n        price[i].resize(V);\n    &#125;\n\né‚»æ¥è¡¨ï¼šä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨ï¼ˆè¿˜æ˜¯æ³¨æ„idxçš„ä½œç”¨ç±»ä¼¼äºåˆ†é…å™¨ï¼‰,æœ‰å¤šå°‘ä¸ªç‚¹å¼€å¤šå°‘ä¸ªå•é“¾è¡¨\n//è¿™ä¸ªçš„ä¸å¥½çš„åœ°æ–¹æ˜¯ä¸å¥½ç»Ÿè®¡å“ªäº›åœ°æ–¹å·²ç»èµ°è¿‡å’Œ\n\n#include&lt;cstring&gt;//memsetä½ç½®\n// å¯¹äºæ¯ä¸ªç‚¹kï¼Œå¼€ä¸€ä¸ªå•é“¾è¡¨ï¼Œå­˜å‚¨kæ‰€æœ‰å¯ä»¥èµ°åˆ°çš„ç‚¹ã€‚h[k]å­˜å‚¨è¿™ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹\nint h[N], e[N], ne[N], idx;\n//hå­˜é“¾è¡¨å¤´ï¼Œeå­˜æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œneå­˜æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼Œä¸å•é“¾è¡¨çš„ä¸åŒå°±æ˜¯æŠŠheadæ¢æˆhæ•°ç»„\n\n// æ·»åŠ ä¸€æ¡è¾¹a-&gt;b\nvoid add(int a, int b)\n&#123;\n    e[idx] = b;\n    ne[idx] = h[a];\n    h[a] = idx  ;\n    idx++;//æ˜¯ä½ ç†Ÿæ‚‰çš„å¤´æ’\n&#125;\nvoid add_to_tail(int x)//å°¾æ’\n&#123;\n    e[idx]=x;\n    if(head==-1//å½“æ˜¯ç¬¬ä¸€æ¬¡æ’å…¥æ—¶ç‰¹æ®Šå¤„ç†\n    &#123;\n        ne[idx]=head;\n        head=idx;\n        idx++;\n        return;\n    &#125;\n    int i=head;\n    if(head!=-1)while(ne[i]!=-1)i=ne[i];//æœ€åne[i]=-1\n    ne[idx]=-1;\n    ne[i]=idx;\n    idx++;\n&#125;\nvoid dele(int a,int b)\n&#123;\n        if(e[h[a]]==b)h[a]=ne[h[a]];//å¦‚æœåœ¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™çš„æ“ä½œæ–¹æ³•\n       else\tfor(int i=h[a];ne[i]!=-1;i=ne[i])\n       &#123;\n           if(e[ne[i]]==b)//è¿™é‡Œå…³ç³»æ˜¯\n           &#123;\n              ne[i]=ne[ne[i]];\n          &#125;\n      &#125;\n    \n&#125;\nbool find(int a,int b)\n&#123;\n    for(int i=h[a],i!=-1;i=ne[i])\n    &#123;\n        if(e[i]==b)return true;\n    &#125;\n    return false;\n&#125;\n\n// åˆå§‹åŒ–\nidx = 0;\nmemset(h, -1, sizeof h);//å•é“¾è¡¨çš„nä¸ªå¤´èŠ‚ç‚¹å…¨éƒ¨å˜æˆ-1\n\nå¦ä¸€ç§é€‰æ‹©ï¼šä½¿ç”¨vector+listæ¥æ„å»ºï¼ˆå¾ˆæ–¹ä¾¿ï¼‰\næ ‘å›¾DFSæ¨¡æ¿ï¼šè¿™ä¸ªæ¨¡æ¿åŒæ ·æ˜¯ä½¿ç”¨é‚»æ¥è¡¨æ¥å­˜å‚¨çš„\n\nbool st[N];//åŒå…¶å®ƒï¼Œstæ•°ç»„åœ¨ä¸€å¼€å§‹å¼€å¥½ï¼Œç”¨æ¥è¡¨ç¤ºè¯¥èŠ‚ç‚¹æ˜¯å¦è¢«éå†è¿‡\nint dfs(int u)\n&#123;\n    st[u] = true; // st[u] è¡¨ç¤ºç‚¹uå·²ç»è¢«éå†è¿‡\n\n    è¿™é‡Œæ˜¯è¦å¯¹DFSè¿›è¡Œçš„æ“ä½œéƒ¨åˆ†\n    \n    for (int i = h[u]; i != -1; i = ne[i])\n    &#123;\n        int j = e[i];\n        if (!st[j]) dfs(j);//é€’å½’è¿›è¡Œå‘ä¸‹éå†\n    &#125;\n&#125;\n\n846. æ ‘çš„é‡å¿ƒ - AcWingé¢˜åº“\næ ‘çš„é‡å¿ƒå¯èƒ½ä¸å”¯ä¸€ï¼Œä½†æ˜¯æ ‘æ˜¯å”¯ä¸€çš„\nè¯¥é¢˜è§£æ³•ï¼šéå†åˆ æ‰æ‰€æœ‰ç‚¹ä¹‹åè¿é€šå—çš„æœ€å¤§å€¼ï¼Œä¹‹ååœ¨ä¸€å †æœ€å¤§å€¼é‡Œé¢å¯¹æ¯”å¯»æ‰¾å‡ºæ¥æœ€å°çš„å°±è¡Œ\nå‘ç°ï¼šè·å–äº†å­æ ‘çš„å¤§å°ä¹Ÿå°±è·å¾—äº†å‰©ä½™æ ‘çš„å¤§å°ï¼ˆå³å…¨éƒ¨èŠ‚ç‚¹æ•°é‡å‡å»å­æ ‘çš„sizeå°±å¥½ï¼‰\n\n\næœ¬é¢˜çš„æœ¬è´¨æ˜¯æ ‘çš„dfsï¼Œ æ¯æ¬¡dfså¯ä»¥ç¡®å®šä»¥uä¸ºé‡å¿ƒçš„æœ€å¤§è¿é€šå—çš„èŠ‚ç‚¹æ•°ï¼Œå¹¶ä¸”æ›´æ–°ä¸€ä¸‹ansã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œdfså¹¶ä¸ç›´æ¥è¿”å›ç­”æ¡ˆï¼Œè€Œæ˜¯åœ¨æ¯æ¬¡æ›´æ–°ä¸­è¿­ä»£ä¸€æ¬¡ç­”æ¡ˆã€‚\nè¿™æ ·çš„å¥—è·¯ä¼šç»å¸¸ç”¨åˆ°ï¼Œåœ¨ æ ‘çš„dfs é¢˜ç›®ä¸­\nç­”æ¡ˆï¼š\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10; //æ•°æ®èŒƒå›´æ˜¯10çš„5æ¬¡æ–¹\nconst int M = 2 * N; //ä»¥æœ‰å‘å›¾çš„æ ¼å¼å­˜å‚¨æ— å‘å›¾ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šå¯¹åº”2n-2æ¡è¾¹\n\nint h[N]; //é‚»æ¥è¡¨å­˜å‚¨æ ‘ï¼Œæœ‰nä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦nä¸ªé˜Ÿåˆ—å¤´èŠ‚ç‚¹\nint e[M]; //å­˜å‚¨å…ƒç´ \nint ne[M]; //å­˜å‚¨åˆ—è¡¨çš„nextå€¼\nint idx; //å•é“¾è¡¨æŒ‡é’ˆ\nint n; //é¢˜ç›®æ‰€ç»™çš„è¾“å…¥ï¼Œnä¸ªèŠ‚ç‚¹\nint ans = N; //åœ¨æœ€å¤§è¿é€šå—ä¸­å¯»æ‰¾æœ€å°çš„é‚£ä¸€ä¸ª\n\nbool st[N]; //è®°å½•èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œè®¿é—®è¿‡åˆ™æ ‡è®°ä¸ºtrue\n\n//aæ‰€å¯¹åº”çš„å•é“¾è¡¨ä¸­æ’å…¥b  aä½œä¸ºæ ¹ \nvoid add(int a, int b) &#123;\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n&#125;\n//è¿”å›ä»¥uä¸ºæ ¹çš„å­æ ‘ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬uèŠ‚ç‚¹\nint dfs(int u) &#123;\n    int res = 0; //å­˜å‚¨ åˆ æ‰æŸä¸ªèŠ‚ç‚¹ä¹‹åï¼Œæœ€å¤§çš„è¿é€šå­å›¾èŠ‚ç‚¹æ•°\n    st[u] = true; //æ ‡è®°è®¿é—®è¿‡uèŠ‚ç‚¹\n    int sum = 1; //å­˜å‚¨ ä»¥uä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°, åŒ…æ‹¬uï¼Œå¦‚å›¾ä¸­çš„4å·èŠ‚ç‚¹\n    //è®¿é—®uçš„æ¯ä¸ªå­èŠ‚ç‚¹\n    for (int i = h[u]; i != -1; i = ne[i]) &#123;//é“¾è¡¨çš„éå†\n        int j = e[i];\n        //å› ä¸ºæ¯ä¸ªèŠ‚ç‚¹çš„ç¼–å·éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ ç”¨ç¼–å·ä¸ºä¸‹æ ‡ æ¥æ ‡è®°æ˜¯å¦è¢«è®¿é—®è¿‡\n        if (!st[j]) &#123;// uèŠ‚ç‚¹çš„å•æ£µå­æ ‘èŠ‚ç‚¹æ•° å¦‚å›¾ä¸­çš„sizeå€¼\n            int s = dfs(j);  //è·å–jä¸ºæ ¹çš„å­æ ‘ä¸­èŠ‚ç‚¹ä¸ªæ•°\n            res = max(res, s); // è®°å½•æœ€å¤§è”é€šå­å›¾çš„èŠ‚ç‚¹æ•°\n            sum += s; //ä»¥jä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹æ•°ï¼Œä¹Ÿå°±æ˜¯1+s\n        &#125;//æ¯ä¸€æ¬¡è¿™æ ·æ‰§è¡Œä¸€éå°±è¿›è¡Œäº†ä¸€ä¸ªèŠ‚ç‚¹çš„æ›´æ–°\n    &#125;\n    //n-sum å¦‚å›¾ä¸­çš„n-sizeå€¼ï¼›\n    res = max(res, n - sum); // é€‰æ‹©uèŠ‚ç‚¹ä¸ºé‡å¿ƒï¼Œæœ€å¤§çš„ è¿é€šå­å›¾èŠ‚ç‚¹æ•°\n    ans = min(res, ans); //éå†è¿‡çš„å‡è®¾é‡å¿ƒä¸­ï¼Œæœ€å°çš„æœ€å¤§è”é€šå­å›¾çš„ èŠ‚ç‚¹æ•°\n    return sum;//è¿”å›å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°\n&#125;\n\nint main() &#123;\n    memset(h, -1, sizeof h); //åˆå§‹åŒ–hæ•°ç»„ -1è¡¨ç¤ºå°¾èŠ‚ç‚¹\n    cin &gt;&gt; n; //è¡¨ç¤ºæ ‘çš„ç»“ç‚¹æ•°\n\n    // é¢˜ç›®æ¥ä¸‹æ¥ä¼šè¾“å…¥ï¼Œn-1è¡Œæ•°æ®ï¼Œ\n    // æ ‘ä¸­æ˜¯ä¸å­˜åœ¨ç¯çš„ï¼Œå¯¹äºæœ‰nä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œå¿…å®šæ˜¯n-1æ¡è¾¹\n    for (int i = 0; i &lt; n - 1; i++) &#123;\n        int a, b;\n        cin &gt;&gt; a &gt;&gt; b;\n        add(a, b), add(b, a); //æ— å‘å›¾\n    &#125;\n\n    dfs(1); //å¯ä»¥ä»»æ„é€‰å®šä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ u&lt;=n\n\n    cout &lt;&lt; ans &lt;&lt; endl;\n\n    return 0;\n&#125;\n\næ ‘å›¾BFSæ€æƒ³ï¼šä»1å¼€å§‹ä¸æ–­æ‰©å±•ä¸€å±‚èŠ‚ç‚¹ï¼Œç„¶åä¸æ–­å‘ä¸‹è¾å°„\nè‡ªé—­ç¯åœ¨dpé—®é¢˜ä¸­åŠé€†è¡Œè®¨è®º\næ¨¡æ¿ï¼š\nåˆå§‹çŠ¶æ€æ”¾åˆ°é˜Ÿåˆ—ä¸­\nå†™ä¸€ä¸ªwhileå¾ªç¯ï¼Œåªè¦é˜Ÿåˆ—ä¸ç©ºï¼Œåœ¨å¾ªç¯å†…æ¯ä¸€æ¬¡æ‹¿å‡ºé˜Ÿå¤´ï¼Œæ‰©å±•é˜Ÿå¤´çš„æ‰€æœ‰é‚»ç‚¹\nåªè€ƒè™‘ç¬¬ä¸€æ¬¡éå†ï¼Œåªè¦æ²¡æœ‰è¢«éå†è¿‡ï¼Œå°†xå…¥é˜Ÿ\næ›´æ–°è·¯å¾„è·ç¦»\n\n//ä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œå­˜å‚¨ç¨€ç–å›¾\nint ne[N],e[N],h[N];\n\nqueue&lt;int&gt; q;\nbool st[N];//åŒå…¶å®ƒï¼Œstæ•°ç»„åœ¨ä¸€å¼€å§‹å¼€å¥½ï¼Œç”¨æ¥è¡¨ç¤ºè¯¥èŠ‚ç‚¹æ˜¯å¦è¢«éå†è¿‡\nst[1] = true; // è¡¨ç¤º1å·ç‚¹å·²ç»è¢«éå†è¿‡\nq.push(1);//å¯¹1è¿›è¡Œå…¥é˜Ÿ\nwhile (q.size())\n&#123;\n    int t = q.front();//tæ˜¯é˜Ÿå¤´\n    q.pop();//å‡ºé˜Ÿ\n\n    for (int i = h[t]; i != -1; i = ne[i])//è¿™é‡Œå¯¹è¯¥å¤´èƒ½åˆ°è¾¾çš„æ‰€æœ‰ç‚¹è¿›è¡Œä¸€æ¬¡è®¿é—®\n    &#123;\n        int j = e[i];//jä¹Ÿå°±æ˜¯å¯¹åº”çš„èŠ‚ç‚¹çš„å€¼\n        if (!st[j])//åªè¦æ²¡æœ‰è®¿é—®è¿‡\n        &#123;\n            è¯¥å¹²å˜›å¹²å˜›ï¼Œè¿›è¡Œéœ€è¦çš„æ“ä½œ\n            st[j] = true; // è¡¨ç¤ºç‚¹jå·²ç»è¢«éå†è¿‡\n            q.push(j);//å…¥é˜Ÿ\n        &#125;\n    &#125;\n&#125;\n\n847. å›¾ä¸­ç‚¹çš„å±‚æ¬¡ - AcWingé¢˜åº“\nè¯¥é¢˜ç­”æ¡ˆï¼š\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N=1e5+10;\n\nint h[N], e[N], idx, ne[N];\nint d[N]; //å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»  d[1]=0\nint n, m; //nä¸ªèŠ‚ç‚¹mæ¡è¾¹\nint q[N]; //å­˜å‚¨å±‚æ¬¡éå†åºåˆ— 0å·èŠ‚ç‚¹æ˜¯ç¼–å·ä¸º1çš„èŠ‚ç‚¹\n\nvoid add(int a, int b)\n&#123;\n    e[idx]=b,ne[idx]=h[a],h[a]=idx++;\n&#125;\n\nint bfs()\n&#123;\n    int hh=0,tt=0;\n\n    q[0]=1; //0å·èŠ‚ç‚¹æ˜¯ç¼–å·ä¸º1çš„èŠ‚ç‚¹\n\n    memset(d,-1,sizeof d);\n\n    d[1]=0; //å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»\n\n    //å½“æˆ‘ä»¬çš„é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶\n    while(hh&lt;=tt)//ä¸åŒçš„æ˜¯è¿™é‡Œç”¨äº†æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œä¸€ä¸ªé“ç†\n    &#123;\n        //å–å‡ºé˜Ÿåˆ—å¤´éƒ¨èŠ‚ç‚¹\n        int t=q[hh++];\n\n        //éå†tèŠ‚ç‚¹çš„æ¯ä¸€ä¸ªé‚»è¾¹\n        for(int i=h[t];i!=-1;i=ne[i])\n        &#123;\n            int j=e[i];\n            //å¦‚æœjæ²¡æœ‰è¢«æ‰©å±•è¿‡\n            if(d[j]==-1)\n            &#123;\n                d[j]=d[t]+1; //d[j]å­˜å‚¨jèŠ‚ç‚¹ç¦»èµ·ç‚¹çš„è·ç¦»ï¼Œå¹¶æ ‡è®°ä¸ºè®¿é—®è¿‡\n                q[++tt] = j; //æŠŠjç»“ç‚¹ å‹å…¥é˜Ÿåˆ—\n            &#125;\n        &#125;\n    &#125;\n\n    return d[n];//å› ä¸ºé¢˜ç›®è¦æ±‚ç¬¬ä¸€ä¸ªç‚¹åˆ°ç¬¬nä¸ªç‚¹å°±ok\n&#125;\n\nint main()\n&#123;\n    cin&gt;&gt;n&gt;&gt;m;\n    memset(h,-1,sizeof h);\n    for(int i=0;i&lt;m;i++)\n    &#123;\n        int a,b;\n        cin&gt;&gt;a&gt;&gt;b;\n        add(a,b);\n    &#125;\n\n    cout&lt;&lt;bfs()&lt;&lt;endl;\n&#125;\n\nä¸€è‡´ä»£ä»·BFSï¼šæ”¹è¿›ç‰ˆæœ¬BFS\n\n\næ‹“æ‰‘æ’åºï¼šBFSçš„ä¸€ç§åº”ç”¨ï¼ˆAOVç½‘ï¼Œæµç¨‹èƒ½å¦æ­£ç¡®æ‰§è¡Œï¼‰æ‹“æ‰‘ã€dfsã€å¹¶æŸ¥é›†éƒ½å¯ä»¥å›¾ä¸­åˆ¤æ–­æœ‰æ²¡æœ‰ç¯ï¼Œ floydå¯ä»¥æ‰¾æœ€å°ç¯\nä»…é’ˆå¯¹æœ‰å‘å›¾ï¼Œæ— å‘å›¾æ²¡å¾—æ‹“æ‰‘å®šä¹‰ï¼šæ¯æ¡è¾¹éƒ½æ˜¯èµ·ç‚¹åœ¨ç»ˆç‚¹çš„å‰é¢ï¼Œå³æ‰€æœ‰çš„è¾¹éƒ½æ˜¯ä»å‰æŒ‡å‘åé¢çš„\n\n\nè¿™ç§ç®—ä¸€ä¸ªæ‹“æ‰‘\n\n\nè¿™ç§å°±ä¸ç®—äº†ï¼ˆæœ‰ä¸€ä¸ªç¯ï¼Œåªè¦æœ‰ç¯å°±ä¸€å®šæœ¨å¤§ï¼‰\nå¯ä»¥è¯æ˜ï¼šæœ‰å‘æ— ç¯ä¸€å®šå¯ä»¥æ•´æˆä¸€ä¸ªæ‹“æ‰‘å›¾\nå¦‚ä½•è¿›è¡Œä¸€ä¸ªæ±‚ä¸€ä¸ªæœ‰å‘å›¾æœ‰å…¥åº¦å’Œå‡ºåº¦ï¼Œç”±æ‰€æœ‰éƒ½æ˜¯ä»å‰æŒ‡å‘åï¼Œåˆ™æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹éƒ½å¯ä»¥æ’åœ¨å½“å‰æœ€å‰é¢çš„ä½ç½®\n\nä¸€ä¸ªæ— ç¯å›¾ä¸€å®šè‡³å°‘å­˜åœ¨ä¸€ä¸ªå…¥åº¦ä¸º0çš„ç‚¹\næœ‰å‘æ— ç¯çš„topåºä¸å”¯ä¸€\n\næ€è·¯ï¼š\næ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹è¿›è¡Œå…¥é˜Ÿ\nè¿›è¡Œä¸€ä¸ªBFSï¼Œæ¯ä¸€æ¬¡å‡ºé˜Ÿä¸€ä¸ªé˜Ÿå¤´ï¼Œç„¶åæ‰¾å‡ºæ‰€æœ‰å‡ºé˜Ÿåˆ—è¿™ä¸ªç‚¹å‘å‡ºçš„è¾¹ï¼Œåˆ é™¤è¾¹ï¼ŒåŒæ—¶è¾¹çš„å¦ä¸€ä¾§çš„ç‚¹çš„å…¥åº¦ -1ã€‚\nå¦‚æœd[j]&#x3D;&#x3D;0,è¯´æ˜jä¹‹å‰çš„éƒ½æ’åºå¥½äº†ï¼Œå…¥é˜Ÿjå°±å®Œäº‹äº†\nå¦‚æœæ‰€æœ‰ç‚¹éƒ½è¿›è¿‡é˜Ÿåˆ—ï¼Œåˆ™å¯ä»¥æ‹“æ‰‘æ’åºï¼Œè¾“å‡ºæ‰€æœ‰é¡¶ç‚¹ã€‚å¦åˆ™è¾“å‡º-1ï¼Œä»£è¡¨ä¸å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åºã€‚\n\næ¨¡æ¿ï¼šbool topsort()\n&#123;\n    int hh = 0, tt = -1;\n\n    // d[i] å­˜å‚¨ç‚¹içš„å…¥åº¦\n    for (int i = 1; i &lt;= n; i ++ )\n        if (!d[i])\n            q[ ++ tt] = i;\n\n    while (hh &lt;= tt)\n    &#123;\n        int t = q[hh ++ ];\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        &#123;\n            int j = e[i];\n            if (-- d[j] == 0)\n                q[ ++ tt] = j;\n        &#125;\n    &#125;\n\n    // å¦‚æœæ‰€æœ‰ç‚¹éƒ½å…¥é˜Ÿäº†ï¼Œè¯´æ˜å­˜åœ¨æ‹“æ‰‘åºåˆ—ï¼›å¦åˆ™ä¸å­˜åœ¨æ‹“æ‰‘åºåˆ—ã€‚\n    return tt == n - 1;\n&#125;\n\n848. æœ‰å‘å›¾çš„æ‹“æ‰‘åºåˆ— - AcWingé¢˜åº“\nAcWing 848. $\\color{green}{æ‹“æ‰‘æ’åºâ€“æ€è·¯ä»‹ç»+å›¾è§£æ¨¡æ‹Ÿ+è¯¦ç»†ä»£ç æ³¨é‡Š }$ - AcWing\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nconst int N = 100010;\nint e[N], ne[N], idx;//é‚»æ¥è¡¨å­˜å‚¨å›¾\nint h[N];//é‚»æ¥è¡¨è¡¨å¤´\nint q[N], hh = 0, tt = -1;//é˜Ÿåˆ—ä¿å­˜å…¥åº¦ä¸º0çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿè¾“å‡ºçš„ç‚¹ï¼Œ\nint n, m;//ä¿å­˜å›¾çš„ç‚¹æ•°å’Œè¾¹æ•°\nint d[N];////ä¿å­˜å„ä¸ªç‚¹çš„å…¥åº¦\n\nvoid add(int a, int b)&#123;\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;//é‚»æ¥è¡¨çš„åˆ›å»º\n&#125;\n\nvoid topsort()&#123;\n    for(int i = 1; i &lt;= n; i++)&#123;//éå†ä¸€éé¡¶ç‚¹çš„å…¥åº¦ã€‚\n        if(d[i] == 0)//å¦‚æœå…¥åº¦ä¸º 0, åˆ™å¯ä»¥å…¥é˜Ÿåˆ—\n            q[++tt] = i;\n    &#125;//ttå¤´ï¼Œhhå°¾\n    while(tt &gt;= hh)&#123;//å¾ªç¯å¤„ç†é˜Ÿåˆ—ä¸­ç‚¹çš„\n        int a = q[hh++];//å–å‡ºé˜Ÿå¤´å…ƒç´ \n        for(int i = h[a]; i != -1; i = ne[i])&#123;//å¾ªç¯åˆ é™¤ a å‘å‡ºçš„è¾¹\n            int b = e[i];//a æœ‰ä¸€æ¡è¾¹æŒ‡å‘b\n            d[b]--;//åˆ é™¤è¾¹åï¼Œbçš„å…¥åº¦å‡1\n            if(d[b] == 0)//å¦‚æœbçš„å…¥åº¦å‡ä¸º 0,åˆ™ b å¯ä»¥è¾“å‡ºï¼Œå…¥é˜Ÿåˆ—\n                q[++tt] = b;\n        &#125;\n    &#125;\n    if(tt == n - 1)&#123;//è¿›å»äº†nä¸ªç‚¹\n        //å¦‚æœé˜Ÿåˆ—ä¸­çš„ç‚¹çš„ä¸ªæ•°ä¸å›¾ä¸­ç‚¹çš„ä¸ªæ•°ç›¸åŒï¼Œåˆ™å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åº\n        for(int i = 0; i &lt; n; i++)&#123;//é˜Ÿåˆ—ä¸­ä¿å­˜äº†æ‰€æœ‰å…¥åº¦ä¸º0çš„ç‚¹ï¼Œä¾æ¬¡è¾“å‡º\n            cout &lt;&lt; q[i] &lt;&lt; &quot; &quot;;\n        &#125;\n    &#125;\n    else//å¦‚æœé˜Ÿåˆ—ä¸­çš„ç‚¹çš„ä¸ªæ•°ä¸å›¾ä¸­ç‚¹çš„ä¸ªæ•°ä¸ç›¸åŒï¼Œåˆ™ä¸å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åº\n        cout &lt;&lt; -1;//è¾“å‡º-1ï¼Œä»£è¡¨é”™è¯¯\n&#125;\n\n\nint main()&#123;\n    cin &gt;&gt; n &gt;&gt; m;//ä¿å­˜ç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„ä¸ªæ•°\n    memset(h, -1, sizeof h);//åˆå§‹åŒ–é‚»æ¥çŸ©é˜µ\n    while (m -- )&#123;//ä¾æ¬¡è¯»å…¥è¾¹\n        int a, b;\n        cin &gt;&gt; a &gt;&gt; b;\n        d[b]++;//é¡¶ç‚¹bçš„å…¥åº¦+1\n        add(a, b);//æ·»åŠ åˆ°é‚»æ¥çŸ©é˜µ\n    &#125;\n    topsort();//è¿›è¡Œæ‹“æ‰‘æ’åº\n    return 0;\n&#125;\n\nåŠ¨æ€æŸ¥æ‰¾ï¼šäºŒå‰æœç´¢æ ‘æ„å»ºæ ‘ï¼šæ¯ä¸ªå·¦å­©å­éƒ½æ¯”åŒäº²å°ï¼Œæ¯ä¸ªå³å­©å­éƒ½æ¯”åŒäº²å¤§\næ’å…¥èŠ‚ç‚¹ï¼šåˆ é™¤èŠ‚ç‚¹å¶å­èŠ‚ç‚¹ç›´æ¥åˆ é™¤\nèŠ‚ç‚¹pä»…æœ‰ä¸€æ£µå­æ ‘ï¼šâ€¢ ç›´æ¥ç”¨pçš„å·¦å­æ ‘(æˆ–å³å­æ ‘)å–ä»£pçš„ä½ç½®è€Œæˆä¸ºfçš„ä¸€æ£µå­æ ‘ã€‚å³åŸæ¥pæ˜¯fçš„å·¦å­æ ‘ï¼Œåˆ™pçš„å­æ ‘æˆä¸ºfçš„å·¦å­æ ‘ï¼›åŸæ¥pæ˜¯fçš„å³å­æ ‘ï¼Œåˆ™pçš„å­æ ‘æˆä¸ºfçš„å³å­æ ‘\nå³ç±»ä¼¼é“¾è¡¨çš„åˆ é™¤æ“ä½œï¼ˆæ‡‚å¾—éƒ½æ‡‚ï¼‰\nèŠ‚ç‚¹pæ—¢æœ‰å·¦å­æ ‘åˆæœ‰å³å­æ ‘ï¼š#include&lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nconst int M=1024;\nint tree[M]=&#123;0&#125;;\nint char_to_int(char a)\n&#123;\n    return (int)(a-&#39;0&#39;);\n&#125;\nvoid add_tree(int tree[],string a,int str_pos,int tree_pos,int judge)\n&#123;\n    int length=a.size();\n    if(str_pos&gt;length)return;\n    int num=char_to_int(a[str_pos]);\n    if(tree[tree_pos]==-1)//æ–°èŠ‚ç‚¹æ’å…¥\n    &#123;\n        tree[tree_pos]=num;\n        judge=0;\n        return;\n    &#125;\n    else if(num&gt;=tree[tree_pos])tree_pos=2*tree_pos+1;//å¤§ï¼Œå‘å³è¾¹æœç´¢\n    else tree_pos=2*tree_pos;//å°,å‘å·¦è¾¹æœç´¢\n    add_tree(tree,a,str_pos,tree_pos,judge);\n&#125;\nint main()\n&#123;\n    int n;\n    cin&gt;&gt;n;\n    string ans;\n    cin&gt;&gt;ans;//åˆå§‹åŒ–çš„è¾“å…¥\n    int total=ans.size();\n    for(int i=1;i&lt;=M;i++)\n    &#123;\n        tree[i]=-1;//-1è¡¨ç¤ºæ˜¯ç©ºæŒ‡é’ˆ\n    &#125;\n    tree[1]=char_to_int(ans[0]);\n    for(int i=1;i&lt;total;i++)//å¼€å§‹å¯¹æ ‘è¿›è¡ŒèŠ‚ç‚¹æ’å…¥\n    &#123;\n        add_tree(tree,ans,i,1,1);\n    &#125;\n//    cout&lt;&lt;&quot;origin tree:  &quot;;\n//    for(int i=1;i&lt;=M;i++) &#123;\n//        if (tree[i] != -1)cout &lt;&lt; tree[i] &lt;&lt; &#39; &#39;;\n//    &#125;\n    cout&lt;&lt;endl;\n    int str_com[M];\n    string str_a;\n    for(int time=0;time&lt;n;time++)//å¾ªç¯å¤šå°‘æ¬¡\n    &#123;\n        if(time==6)break;\n        for(int i=1;i&lt;=M;i++)\n        &#123;\n            str_com[i]=-1;//è¿›è¡Œåˆå§‹åŒ–\n        &#125;\n        cin&gt;&gt;str_a;//æ–°çš„è¾“å…¥\n        str_com[1]=char_to_int(str_a[0]);\n        for(int i=1;i&lt;total;i++)//å¼€å§‹å¯¹æ ‘è¿›è¡ŒèŠ‚ç‚¹æ’å…¥\n        &#123;\n            add_tree(str_com,str_a,i,1,1);\n        &#125;\n        int judge=1;\n//        cout&lt;&lt;&quot;new tree:  &quot;;\n        for(int i=1;i&lt;=M;i++) &#123;\n            if(str_com[i]!=tree[i])\n            &#123;\n                cout&lt;&lt;&quot;NO\\n&quot;;\n                judge=0;\n                break;\n            &#125;\n//            if (str_com[i] != -1)cout &lt;&lt; str_com[i] &lt;&lt; &#39; &#39;;\n        &#125;\n        if(judge==1)cout&lt;&lt;&quot;YES\\n&quot;;\n    &#125;\n    int time;\n    cin&gt;&gt;time;\n    return 0;\n&#125;\n\nåŠ¨æ€æŸ¥æ‰¾ï¼škdæ ‘ï¼ˆå›¾å½¢ç›¸å…³çš„ä¸œè¥¿ä¼šæ¶‰åŠï¼Œå¾ˆé‡è¦çš„ä¸€ç§æ•°æ®ç»“æ„ï¼‰ğŸ™ç©ºé—´åˆ’åˆ†æ ‘ï¼š\n\nç½‘æ ¼\nå››å‰æ ‘\näºŒç»´æ ‘\näºŒå‰ç©ºé—´åˆ†å‰²æ ‘\n\näºŒç»´æ ‘ï¼šæœ€è¿‘é‚»æŸ¥æ‰¾\nå®é™…å°±ä½¿ç”¨äº†å‰ªæï¼ˆå³åˆ‡é™¤ä¸å¯èƒ½çš„å­æ ‘ï¼‰\næœ€çŸ­è·¯é—®é¢˜æœ´ç´ Dijkstraç®—æ³•(å’Œå †æœ‰å…³)ï¼ˆé¢è¯•ä¹Ÿæœ‰ï¼‰ä¹¦çš„ä½œè€…å†™çš„ç®—æ³•é€šå¸¸éƒ½å¾ˆé•¿\nä¸bfç®—æ³•æœ€å¤§åŒºåˆ«ï¼šæ‰€æœ‰è¾¹åªæ¾å¼›ä¸€æ¬¡ï¼ˆbfæ¯æ¡è¾¹å¤šæ¬¡ï¼‰ï¼ˆè¿™é‡Œå¾ˆæœ‰å¯èƒ½æ•°æ®ç»“æ„è€ƒï¼‰\n\n\nå †ä¼˜åŒ–ï¼šDijkstra\nåº”ç”¨åœºæ™¯ï¼šï¼ˆä»€ä¹ˆæ—¶å€™ä½¿ç”¨è¯¥ç®—æ³•ï¼‰\nè®¡ç®—æœºç½‘ç»œä¸­ç½‘ç»œä¼ è¾“é—®é¢˜ï¼ˆå‚è€ƒeleå®éªŒå®¤è·¯ç”±å™¨ï¼‰ä¸åè®®\nè¿·å®«é—®é¢˜ï¼ˆå¾€ä¸‹çœ‹å›¾å½¢åŒ–ç¯‡ç« ï¼‰\n\næ ¸å¿ƒæ€æƒ³ï¼šè´ªå¿ƒ\nè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•é€‚ç”¨äºæ±‚æ­£æƒæœ‰å‘å›¾ä¸­ï¼Œæºç‚¹åˆ°å…¶ä½™å„ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚æ³¨æ„ï¼šå›¾ä¸­å¯ä»¥æœ‰ç¯ï¼Œä½†ä¸èƒ½æœ‰è´Ÿæƒè¾¹ã€‚\næ€è·¯ï¼šs:å½“å‰å·²ç»ç¡®å®šæœ€çŸ­è·ç¦»çš„ç‚¹\n\nåˆå§‹åŒ–è·ç¦»ï¼ˆåªæœ‰èµ·ç‚¹çš„è·ç¦»æ˜¯ç¡®å®šçš„ï¼‰\nå¼€å§‹å¾ªç¯è¿­ä»£næ¬¡ï¼Œæ‰¾åˆ°ä¸åœ¨sä¸­çš„è·ç¦»æœ€è¿‘çš„ç‚¹\nç”¨ tæ¥æ›´æ–°å…¶å®ƒæ‰€æœ‰ç‚¹çš„è·ç¦»ï¼ˆå°±èƒ½æ›´æ–°èµ·ç‚¹åˆ°æ¯ä¸ªç‚¹æœ€çŸ­è·ç¦»ï¼‰\n\næ¨¡æ¿ï¼šï¼ˆæœ´ç´ ç‰ˆæœ¬çš„Dijkstraï¼‰å¤æ‚åº¦ï¼šn^2849. Dijkstraæ±‚æœ€çŸ­è·¯ I - AcWingé¢˜åº“\nAcWing 849. Dijkstraæ±‚æœ€çŸ­è·¯ Iï¼šå›¾è§£ è¯¦ç»†ä»£ç ï¼ˆå›¾è§£ï¼‰ - AcWing\næ³¨æ„è¿™é‡Œè¯»å…¥éƒ½æ˜¯ä»1å¼€å§‹\ndistæ³¨æ„åˆå§‹åŒ–ä¸º+âˆ\nint g[N][N];  // å­˜å‚¨æ¯æ¡è¾¹\nint dist[N];  // å­˜å‚¨1å·ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»\nbool st[N];   // å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·¯æ˜¯å¦å·²ç»ç¡®å®š\nconst int INF=0x3f;//ç”¨äºæ ‡æ³¨æ˜¯æ— ç©·ç‚¹\n// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1\nint dijkstra()\n&#123;\n    \n    memset(dist, 0x3f, sizeof dist);//æ‰€æœ‰è·ç¦»åˆå§‹åŒ–æˆæ­£æ— ç©·\n    dist[1] = 0;//èµ·ç‚¹åˆ°èµ·ç‚¹å½“ç„¶æ˜¯0åŠ›\n\n    for (int i = 0; i &lt; n - 1; i ++ )//è¿™é‡Œiä¸é‡è¦ï¼ŒåªçŸ¥é“éœ€è¦å¾ªç¯n-1æ¬¡å°±è¡Œï¼ˆï¼‰\n    &#123;\n        int t = -1;     // åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹\n        for (int j = 1; j &lt;= n; j ++ )\n            &#123;\n                if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j]))//å¦‚æœæ²¡æœ‰ç¡®å®šæœ€çŸ­è·¯æˆ–è€…å½“å‰è·¯ä¸æ˜¯æœ€çŸ­çš„\n                &#123;t = j;&#125;//æŠŠtç»™æ›´æ–°ï¼Œå¤´ä¸ªèŠ‚ç‚¹åœ¨ç¬¬ä¸€æ­¥è¿™é‡Œå˜æˆ0\n            &#125;\næƒ³æƒ³dijkstraçš„æ­¥éª¤ï¼Œæ¯ä¸€æ¬¡éƒ½æ˜¯å…ˆæ‰¾åˆ°æ‰€æœ‰é‡Œé¢æœ€è¿‘çš„ç‚¹\n        // ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»\n        for (int j = 1; j &lt;= n; j ++ )\n            &#123;ä½¿ç”¨ä¸€å¼€å§‹å¯»æ‰¾åˆ°çš„ç‚¹é€ä¸ªéå†æ‰€æœ‰å…¶å®ƒå¯ä»¥åˆ°è¾¾çš„ç‚¹è¿›è¡Œæ¯”è¾ƒå¹¶æ›´æ–°\n                dist[j] = min(dist[j], dist[t] + g[t][j]);//å†æ¬¡éå†ä¸€æ¬¡æ‰€æœ‰\n            &#125;\n\n        st[t] = true;//å°†é‚£ä¸€ä¸ªç‚¹æ ‡è®°ä¸ºå·²ç»è®¿é—®å¹¶ä¸”\n    &#125;\n\n    if (dist[n] == 0x3f3f3f3f) return -1;//è¯´æ˜1å’Œnä¸è”é€š\n    return dist[n];//èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»\n&#125;\n\n\n//è¿™é‡Œæ˜¯è¯»å…¥çš„æ—¶å€™ï¼Œæ³¨æ„æ³¨æ„è¦ä»1å¼€å§‹\nfor(int i=1;i&lt;=n;i++)\n    &#123;\n        for(int j=1;j&lt;=n;j++)\n        &#123;\n            int tem;\n            cin&gt;&gt;tem;\n            if(tem==0)g[i][j]=INF;\n            else g[i][j]=tem;\n        &#125;\n    &#125;\n\nå¯¹äºè¯¥é¢˜æœ‰é‡è¾¹å’Œè‡ªç¯ï¼Œå› æ­¤éœ€è¦è€ƒè™‘ä¸€ä¸‹å¤„ç†\n\nå¤šé‡è¾¹ä»…ä¿ç•™è·¯å¾„æœ€çŸ­çš„é‚£ä¸€æ¡\nè‡ªç¯è‚¯å®šä¸ä¼šè¢«çº³å…¥æœ€çŸ­è·¯ï¼Œå¯ä»¥ä¸è€ƒè™‘\n\nä¿®æ”¹ï¼ˆä»»æ„ä¸€ä¸ªç‚¹åˆ°å…¶å®ƒæ‰€æœ‰ç‚¹ï¼‰#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\nconst int INF=0x3f3f3f3f;\nconst int N=60;\nint n;      // nè¡¨ç¤ºç‚¹æ•°\nint g[N][N];        // é‚»æ¥çŸ©é˜µï¼Œå­˜å‚¨æ‰€æœ‰è¾¹\nint dist[N];        // å­˜å‚¨å…¶ä»–ç‚¹åˆ°å½“å‰æœ€å°ç”Ÿæˆæ ‘çš„è·ç¦»\nbool st[N];     // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»åœ¨ç”Ÿæˆæ ‘ä¸­ï¼Œå­˜å‚¨å·²çº³å…¥çš„é›†åˆ\nvoid dijkstra(int s)//sæ˜¯æºç‚¹ï¼Œå…¶å®ƒéƒ½ä¸é‡è¦\n&#123;\n    s=s+1;\n    memset(dist, 0x3f3f3f3f, sizeof dist);//æ‰€æœ‰è·ç¦»åˆå§‹åŒ–æˆæ­£æ— ç©·\n    dist[s] = 0;//èµ·ç‚¹åˆ°èµ·ç‚¹å½“ç„¶æ˜¯0åŠ›\n    for (int i = 0; i &lt; n - 1; i ++ )//è¿™é‡Œiä¸é‡è¦ï¼ŒåªçŸ¥é“éœ€è¦å¾ªç¯n-1æ¬¡å°±è¡Œï¼ˆï¼‰\n    &#123;\n        int t = -1;     // åœ¨è¿˜æœªç¡®å®šæœ€çŸ­è·¯çš„ç‚¹ä¸­ï¼Œå¯»æ‰¾è·ç¦»æœ€å°çš„ç‚¹\n        for (int j = 1; j &lt;= n; j ++ )\n            if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j]))//å¦‚æœæ²¡æœ‰ç¡®å®šæœ€çŸ­è·¯æˆ–è€…å½“å‰è·¯ä¸æ˜¯æœ€çŸ­çš„\n                t = j;//æŠŠtç»™æ›´æ–°ï¼Œå¤´ä¸ªèŠ‚ç‚¹åœ¨ç¬¬ä¸€æ­¥è¿™é‡Œå˜æˆ0\n        // ç”¨tæ›´æ–°å…¶ä»–ç‚¹çš„è·ç¦»\n        for (int j = 1; j &lt;= n; j ++ )\n            dist[j] = min(dist[j], dist[t] + g[t][j]);//å†æ¬¡éå†ä¸€æ¬¡æ‰€æœ‰\n        st[t] = true;\n    &#125;\n    for(int i=1;i&lt;=n;i++)//è¿™é‡Œå°±æ˜¯æœ€åçš„è¾“å‡ºéƒ¨åˆ†\n    &#123;\n        if(i!=s&amp;&amp;dist[i]!=0x3f3f3f3f)cout&lt;&lt;dist[i]&lt;&lt;&#39; &#39;;\n        else if(i!=s&amp;&amp;dist[i]==0x3f3f3f3f)cout&lt;&lt;-1&lt;&lt;&#39; &#39;;\n    &#125;\n&#125;\nint main()\n&#123;\n    int s;//sæ ‡è®°æºç‚¹\n    cin&gt;&gt;n&gt;&gt;s;\n    for(int i=1;i&lt;=n;i++)\n    &#123;\n        for(int j=1;j&lt;=n;j++)\n        &#123;\n            int tem;\n            cin&gt;&gt;tem;\n            if(tem==0)g[i][j]=INF;\n            else g[i][j]=tem;\n        &#125;\n    &#125;\n    dijkstra(s);\n\n&#125;\n\né¢˜ç›®æ¨¡æ¿#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int N = 510, M = 100010;\nconst int inf = 0x3f3f3f3f;\nint n, m;\nint g[N][N], dist[N];\nbool vis[N];\n\n\nint dijkstra()\n&#123;\n    memset(vis, 0, sizeof vis);\n    memset(dist, 0x3f, sizeof dist);\n    \n    dist[1] = 0;\n    for(int i = 1; i &lt;= n; i ++ )\n    &#123;\n        int t = -1;\n        for(int j = 1; j &lt;= n; j ++ )\n        &#123;\n            if(!vis[j] &amp;&amp; (t == -1 || dist[j] &lt; dist[t]))\n            &#123;\n                t = j;\n            &#125;\n        &#125;\n        \n        vis[t] = 1;\n        for(int j = 1; j &lt;= n; j ++ )\n        &#123;\n            if(dist[j] &gt; g[t][j] + dist[t])\n            &#123;\n                dist[j] = g[t][j] + dist[t];\n            &#125;\n        &#125;\n    &#125;\n    if(dist[n] * 2&gt; inf)\n    &#123;\n        return -1;\n    &#125;\n    return dist[n];\n&#125;\nint main()\n&#123;\n    cin &gt;&gt; n &gt;&gt; m;\n    memset(g, 0x3f, sizeof g);\n    while (m -- )\n    &#123;\n        int in, out, weight;\n        cin &gt;&gt; in &gt;&gt; out &gt;&gt; weight;\n        g[in][out] = min(g[in][out], weight);\n    &#125;\n    \n    cout &lt;&lt; dijkstra() &lt;&lt; &quot;\\n&quot;;\n    return 0;\n&#125;\n\næ¨¡æ¿ï¼šï¼ˆä¼˜åŒ–ç‰ˆæœ¬çš„Dijkstraï¼‰å®é™…æœ‰ç‚¹åƒå¹¿æœçš„\nå¦‚æœæ˜¯ä¸€ä¸ªç¨€ç–å›¾ï¼Œä½†æ˜¯è¿˜è¦ç”¨éå†çŸ©é˜µï¼ˆn2å¤æ‚åº¦ï¼‰å®¹æ˜“æ—¶é—´çˆ†æ‰\nä½¿ç”¨å°æ ¹å †ä¼˜åŒ–\n\n\nä¹Ÿå°±æ˜¯å¯ä»¥ä¼˜åŒ–ç¬¬ä¸€æ­¥ï¼Œå¯ä»¥å°†ç¬¬ä¸€æ­¥æ—¶é—´å˜æˆo1ï¼Œç¬¬ä¸‰æ­¥å°±è¦ä¿®æ”¹æˆmlognï¼Œç¬¬äºŒæ­¥ä¸å˜\nå³é€šè¿‡å †æ¥å­˜å‚¨ï¼Œå°±å¯ä»¥å‡å°‘è®¡ç®—é‡\nå †çš„å®ç°æ–¹å¼ï¼š\n\næ‰‹å†™å †ï¼ˆå¥½å¤„åœ¨äºæ–¹ä¾¿ç»´æŠ¤ï¼‰\nä¼˜å…ˆé˜Ÿåˆ—ï¼ˆc++çš„stlåº“å·²ç»é¢„ç½®å¥½äº†ï¼‰ï¼Œä½†æ˜¯ä¸æ”¯æŒä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼Œè§£å†³æ€è·¯ï¼šæ¯ä¸€æ¬¡æ”¹å˜å°±æ’å…¥ä¸€ä¸ªæ–°çš„æ•°ï¼ˆå¥½å¤„æ–¹ä¾¿æ“ä½œï¼Œåå¤„ä¼šå¤šäº†æ“ä½œæ•°ï¼Œæ—¶é—´å¤æ‚åº¦å˜æˆmlogmï¼Œä½†æ˜¯æ–¹ä¾¿ï¼Œï¼‰\n\nå› æ­¤ç›´æ¥ä½¿ç”¨c++å†…ç½®çš„ä¼˜å…ˆé˜Ÿåˆ—å°±ok\ntypedef pair&lt;int, int&gt; PII;\n//å­˜å‚¨æ–¹å¼ä»é‚»æ¥çŸ©é˜µè½¬æ¢æˆé‚»æ¥è¡¨\nint n;      // ç‚¹çš„æ•°é‡\nint h[N], w[N], e[N], ne[N], idx;       // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹\nint dist[N];        // å­˜å‚¨æ‰€æœ‰ç‚¹åˆ°1å·ç‚¹çš„è·ç¦»\nbool st[N];     // å­˜å‚¨æ¯ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»æ˜¯å¦å·²ç¡®å®š\n\n// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1\nint dijkstra()\n&#123;\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;//è¿™é‡Œçš„åˆå§‹åŒ–å’Œæœ´ç´ ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„\n    \n    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;//è¿™é‡Œä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æ‰€æœ‰è·ç¦»ï¼Œ\n    heap.push(&#123;0, 1&#125;);      //ç¬¬ä¸€æ¬¡å…ˆæŠŠèµ·ç‚¹æ”¾è¿›å»ï¼Œ\n    // firstå­˜å‚¨è·ç¦»ï¼Œsecondå­˜å‚¨èŠ‚ç‚¹ç¼–å·\n\n    while (heap.size())//é˜Ÿåˆ—é‡Œé¢æœ€å¤šåªæœ‰mä¸ªå…ƒç´ ï¼ˆæœ€å¤šåªæœ‰mæ¡è¾¹ï¼‰\n    &#123;\n        auto t = heap.top();//å †çš„æ€§è´¨å†³å®šæ¯ä¸€æ¬¡éƒ½æ˜¯è·ç¦»æœ€å°çš„ç‚¹\n        heap.pop();\n\n        int ver = t.second, distance = t.first;\n\n        if (st[ver]) continue;//è¯´æ˜è¿™ä¸ªç‚¹å·²ç»å‡ºæ¥è¿‡äº†ï¼Œä¸éœ€è¦æ“ä½œç›´æ¥è·³è¿‡åˆ°ä¸‹ä¸€ä¸ªç‚¹\n        st[ver] = true;\n\n        for (int i = h[ver]; i != -1; i = ne[i])//ç”¨è¿™ä¸ªç‚¹å»æ›´æ–°å…¶å®ƒæ‰€æœ‰ç‚¹\n        &#123;\n            int j = e[i];//ä½¿ç”¨jæ¥å­˜å‚¨ç¼–å·\n            if (dist[j] &gt; distance + w[i])\n            &#123;\n                dist[j] = distance + w[i];\n                heap.push(&#123;dist[j], j&#125;);//å¦‚æœæ›´æ–°æˆåŠŸå°±æŠŠè¿™ä¸ªç‚¹æ”¾åˆ°é˜Ÿåˆ—é‡Œé¢å»\n            &#125;\n        &#125;\n    &#125;\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n&#125;\n\nå…¨éƒ¨ï¼š\næœ‰å…³ä¼˜å…ˆé˜Ÿåˆ—åº“çš„å‡½æ•°ï¼š\n(110æ¡æ¶ˆæ¯) ã€C++ã€‘ä¼˜å…ˆé˜Ÿåˆ—è¯¦ç»†è®²è§£ï¼ˆåŸç†+STLåº“è°ƒç”¨ï¼‰_åŠè·¯æ€å‡ºæ¥çš„å°é»‘åŒå­¦çš„åšå®¢-CSDNåšå®¢_c++ ä¼˜å…ˆé˜Ÿåˆ—éå†\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;queue&gt;//å †çš„å¤´æ–‡ä»¶\n\nusing namespace std;\n\ntypedef pair&lt;int, int&gt; PII;//å †é‡Œå­˜å‚¨è·ç¦»å’ŒèŠ‚ç‚¹ç¼–å·\n\nconst int N = 1e6 + 10;\n\nint n, m;//èŠ‚ç‚¹æ•°é‡å’Œè¾¹æ•°\nint h[N], w[N], e[N], ne[N], idx;//é‚»æ¥è¡¨å­˜å‚¨å›¾\nint dist[N];//å­˜å‚¨è·ç¦»\nbool st[N];//å­˜å‚¨çŠ¶æ€\n\nvoid add(int a, int b, int c)//ä¿®æ”¹äº†ä¸€ä¸‹addå‡½æ•°\n&#123;//wå­˜å‚¨è·ç¦»\n    e[idx] = b, w[idx] = c, ne[idx] = h[a], h[a] = idx ++ ;\n&#125;\n\nint dijkstra()\n&#123;\n    memset(dist, 0x3f, sizeof dist);//è·ç¦»åˆå§‹åŒ–ä¸ºæ— ç©·å¤§\n    dist[1] = 0;\n    //pairçš„æ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç¬¬ä¸€ä¸ªç›¸ç­‰æ¯”è¾ƒç¬¬äºŒä¸ªã€‚\n    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;//å°æ ¹å †\n    heap.push(&#123;0, 1&#125;);//æ’å…¥è·ç¦»å’ŒèŠ‚ç‚¹ç¼–å·\n\n    while (heap.size())//éå†äº†è¿™ä¸ªå †\n    &#123;\n        auto t = heap.top();//å–è·ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹ï¼Œæœ€å°çš„\n        heap.pop();\n\n        int ver = t.second, distance = t.first;//ver:èŠ‚ç‚¹ç¼–å·ï¼Œdistance:æºç‚¹è·ç¦»ver çš„è·ç¦»\n\n        if (st[ver]) continue;//å¦‚æœè·ç¦»å·²ç»ç¡®å®šï¼Œåˆ™è·³è¿‡è¯¥ç‚¹\n        st[ver] = true;\n\n        for (int i = h[ver]; i != -1; i = ne[i])//è¿™é‡Œæ˜¯é“¾è¡¨çš„éå†æ–¹æ³•\n            //æ›´æ–°veræ‰€æŒ‡å‘çš„èŠ‚ç‚¹è·ç¦»\n        &#123;\n            int j = e[i];\n            if (dist[j] &gt; dist[ver] + w[i])\n            &#123;\n                dist[j] = dist[ver] + w[i];\n                heap.push(&#123;dist[j], j&#125;);//è·ç¦»å˜å°ï¼Œåˆ™å…¥å †\n            &#125;\n        &#125;\n    &#125;\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n&#125;\n\nint main()\n&#123;\n    scanf(&quot;%d%d&quot;, &amp;n, &amp;m);\n\n    memset(h, -1, sizeof h);\n    while (m -- )\n    &#123;\n        int a, b, c;\n        scanf(&quot;%d%d%d&quot;, &amp;a, &amp;b, &amp;c);\n        add(a, b, c);\n    &#125;\n\n    cout &lt;&lt; dijkstra() &lt;&lt; endl;\n\n    return 0;\n&#125;\n\n\nBellman-Fordç®—æ³•ï¼ˆbfç®—æ³•ï¼‰å¤æ‚åº¦é€šå¸¸ä¸ºoï¼ˆVEï¼‰\nä¼šå¤šæ¬¡è®¿é—®åŒä¸€æ¡è¾¹\nè§£å†³é—®é¢˜ï¼š\nå¯èƒ½æœ‰è´Ÿè¾¹å›è·¯ï¼ŒDijkstraå¦‚æœåˆ¤æ–­çš„å›¾ä¸­æœ‰è´Ÿä¼šå¯¼è‡´è·ç¦»æˆæ­£æ— ç©·\néƒ¨åˆ†åªèƒ½ä½¿ç”¨bfè§£å†³ï¼ˆå¦‚æœæœ‰è¾¹æ•°é™åˆ¶ï¼Œå°±åªèƒ½ç”¨bfï¼‰\n\nå¾ˆç‰›é€¼ï¼šå¯ä»¥ç”¨ä»»æ„å­˜å‚¨æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨ç»“æ„ä½“\nåº”ç”¨ï¼šæ¯”å¦‚åç«è½¦ä¸èƒ½æ— é™åç«è½¦\næ€è·¯ï¼š\n\nä¸¤é‡å¾ªç¯ï¼Œç¬¬äºŒæ¬¡å¾ªç¯æ‰€æœ‰è¾¹\n\nnæ¬¡è¿­ä»£ï¼Œæ›´æ–°æ€è·¯æœ‰ç‚¹ç±»ä¼¼dijistra\n\n\nå¯ä»¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿå›è·¯,å³æ˜¯å¯ä»¥ç”¨æ¥æ‰¾è´Ÿç¯ï¼ˆå¦‚æœé™åˆ¶äº†èµ°çš„è¾¹çš„ä¸ªæ•°å°±å¯ä»¥ç”¨æ¥æ‰¾æœ€çŸ­è·¯ï¼‰çš„ï¼Œä½†æ—¶é—´è¾ƒé«˜ï¼Œä¸€èˆ¬ä½¿ç”¨spfaå¯»æ‰¾è´Ÿç¯\næ¨¡æ¿ï¼šint n, m;       // nè¡¨ç¤ºç‚¹æ•°ï¼Œmè¡¨ç¤ºè¾¹æ•°\nint dist[N];        // dist[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯è·ç¦»\n\nstruct Edge     // è¾¹ï¼Œaè¡¨ç¤ºå‡ºç‚¹ï¼Œbè¡¨ç¤ºå…¥ç‚¹ï¼Œwè¡¨ç¤ºè¾¹çš„æƒé‡\n&#123;\n    int a, b, w;\n&#125;edges[M];\n\n// æ±‚1åˆ°nçš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœæ— æ³•ä»1èµ°åˆ°nï¼Œåˆ™è¿”å›-1ã€‚\nint bellman_ford()\n&#123;\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n\n    // å¦‚æœç¬¬næ¬¡è¿­ä»£ä»ç„¶ä¼šæ¾å¼›ä¸‰è§’ä¸ç­‰å¼ï¼Œå°±è¯´æ˜å­˜åœ¨ä¸€æ¡é•¿åº¦æ˜¯n+1çš„æœ€çŸ­è·¯å¾„ï¼Œç”±æŠ½å±‰åŸç†ï¼Œè·¯å¾„ä¸­è‡³å°‘å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„ç‚¹ï¼Œè¯´æ˜å›¾ä¸­å­˜åœ¨è´Ÿæƒå›è·¯ã€‚\n    for (int i = 0; i &lt; n; i ++ )\n    &#123;\n        for (int j = 0; j &lt; m; j ++ )\n        &#123;\n            int a = edges[j].a, b = edges[j].b, w = edges[j].w;\n            if (dist[b] &gt; dist[a] + w)\n                dist[b] = dist[a] + w;\n            //æ­£å¸¸çš„æ¨¡æ¿æ˜¯è‡ªèº«è¿›è¡Œè¿­ä»£å¯¹æ¯”çš„\n        &#125;\n    &#125;\n//è¿™é‡Œæ³¨æ„è¦/2æ˜¯å› ä¸ºå¦‚æœæœ‰è´Ÿè¾¹åˆ°è¾¾ç»ˆç‚¹ä¼šé€ æˆè·ç¦»ä¸æ»¡è¶³ï¼Œå¦‚10^9âˆ’2ï¼Œå°äºæ— ç©·ï¼Œä½†ä»ç„¶å¹¶ä¸å­˜åœ¨æœ€çŸ­è·¯ \n    if (dist[n] &gt; 0x3f3f3f3f / 2) return -1;\n    return dist[n];\n&#125;\n\nAcWing 853. æœ‰è¾¹æ•°é™åˆ¶çš„æœ€çŸ­è·¯ - AcWing\n#include&lt;iostream&gt;\n#include&lt;cstring&gt;\n\nusing namespace std;\n\nconst int N = 510, M = 10010;\n\nstruct Edge &#123;//ä½¿ç”¨ç»“æ„ä½“æ¥å­˜å‚¨æ‰€æœ‰çš„è¾¹\n    int a;\n    int b;\n    int w;\n&#125; e[M];//æŠŠæ¯ä¸ªè¾¹ä¿å­˜ä¸‹æ¥å³å¯\nint dist[N];\nint back[N];//å¤‡ä»½æ•°ç»„é˜²æ­¢ä¸²è”\nint n, m, k;//kä»£è¡¨æœ€çŸ­è·¯å¾„æœ€å¤šåŒ…æ¶µkæ¡è¾¹\n\nint bellman_ford() &#123;\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n    for (int i = 0; i &lt; k; i++) &#123;//kæ¬¡å¾ªç¯\n        memcpy(back, dist, sizeof dist);//æ¯ä¸€æ¬¡è¿­ä»£ä¹‹å‰éƒ½è¦å¯¹å½“å‰æ•°ç»„è¿›è¡Œå¤‡ä»½ï¼Œé˜²æ­¢å‡ºç°ä¸²è”ä½¿å¾—æ‰“ç ´æœ‰é™è¾¹æ•°çš„é™åˆ¶\n        for (int j = 0; j &lt; m; j++) &#123;//éå†æ‰€æœ‰è¾¹\n            int a = e[j].a, b = e[j].b, w = e[j].w;\n            dist[b] = min(dist[b], back[a] + w);\n            //ä½¿ç”¨backup:é¿å…ç»™aæ›´æ–°åç«‹é©¬æ›´æ–°b, è¿™æ ·bä¸€æ¬¡æ€§æœ€çŸ­è·¯å¾„å°±å¤šäº†ä¸¤æ¡è¾¹å‡ºæ¥\n        &#125;\n    &#125;\n    if (dist[n] &gt; 0x3f3f3f3f / 2) return -1;\n    else return dist[n];\n\n&#125;\n\nint main() &#123;\n    scanf(&quot;%d%d%d&quot;, &amp;n, &amp;m, &amp;k);\n    for (int i = 0; i &lt; m; i++) &#123;\n        int a, b, w;\n        scanf(&quot;%d%d%d&quot;, &amp;a, &amp;b, &amp;w);\n        e[i] = &#123;a, b, w&#125;;\n    &#125;\n    int res = bellman_ford();\n    if (res == -1) puts(&quot;impossible&quot;);//è¯´æ˜æœ€çŸ­è·¯é•¿åº¦ä¸å­˜åœ¨\n    else cout &lt;&lt; res;\n\n    return 0;\n&#125;\n\nspfa(é˜Ÿåˆ—ä¼˜åŒ–ç‰ˆæœ¬çš„Bellman-Ford)å¤„ç†ç¨€ç–å›¾ï¼Œä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œå­˜å‚¨\nå¯ä»¥è§†ä¸ºå„æ–¹é¢éƒ½æ›´åŠ ä¼˜ç§€çš„bfï¼Œå°±æ˜¯å¯¹äºbfè¿›è¡Œä¸€ä¸ªä¼˜åŒ–\nAcWing 851. spfaæ±‚æœ€çŸ­è·¯â€”å›¾è§£â€“$\\color{red}{æµ·ç»µå®å®æ¥å–½}$ - AcWing\nå…¶å®æ­£æƒå›¾ä¹Ÿå¯ä»¥ç”¨spfaå»æ•´\nbfç¼ºç‚¹ï¼šæ¯ä¸€æ¬¡éƒ½è¦è¿­ä»£æ‰€æœ‰è¾¹è¿›è¡Œæ›´æ–°ï¼ˆæ¯ä¸€æ¬¡éƒ½è¦å…¨éƒ¨æ‰«æï¼‰\nä¼˜åŒ–ï¼šä½¿ç”¨å¹¿æœè¿›è¡Œä¼˜åŒ–\næ€è·¯ï¼š\n\nèµ·ç‚¹æ”¾åˆ°é˜Ÿåˆ—é‡Œé¢å»\nåªè¦é˜Ÿåˆ—ä¸ç©ºï¼Œå°±æ˜¯å¹¿æœçš„è¿­ä»£æ“ä½œ\nå³æˆ‘æ›´æ–°è¿‡è°ï¼Œæˆ‘å†ç”¨è°å»æ›´æ–°åˆ«äººï¼Œæˆ‘åé¢çš„äººæ‰ä¼šæ›´å°\n\nå›¾ä¸­ä¸€å®šä¸èƒ½æœ‰è´Ÿç¯(ä½†æ˜¯å¯ä»¥æœ‰è´Ÿæƒè¾¹)ï¼Œä¸ç„¶ä¸èƒ½ç”¨\næ—¶é—´å¤æ‚åº¦ å¹³å‡æƒ…å†µä¸‹ O(m)ï¼Œæœ€åæƒ…å†µä¸‹ O(nm), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nint n;      // æ€»ç‚¹æ•°\nint h[N], w[N], e[N], ne[N], idx;  // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹\nint dist[N];        // å­˜å‚¨æ¯ä¸ªç‚¹åˆ°1å·ç‚¹çš„æœ€çŸ­è·ç¦»\nbool st[N];     // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ï¼Œé˜²æ­¢é˜Ÿåˆ—ä¸­å­˜å‚¨é‡å¤ç‚¹\n\n// æ±‚1å·ç‚¹åˆ°nå·ç‚¹çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå¦‚æœä»1å·ç‚¹æ— æ³•èµ°åˆ°nå·ç‚¹åˆ™è¿”å›-1\nint spfa()\n&#123;\n    memset(dist, 0x3f, sizeof dist);//åˆå§‹åŒ–æ‰€æœ‰ç‚¹çš„è·ç¦»\n    dist[1] = 0;\n\n    queue&lt;int&gt; q;\n    q.push(1);\n    st[1] = true;\n//ä½¿ç”¨é˜Ÿåˆ—å°±æ˜¯ä¸ºäº†å¦‚èµ·ç‚¹æ›´æ–°è¿‡bcï¼Œåˆ™ä¸‹ä¸€æ­¥ä»…é’ˆå¯¹bcè¿›è¡Œæ›´æ–°\n    while (q.size())\n    &#123;\n        auto t = q.front();\n        q.pop();\n\n        st[t] = false;//è¯¥ç‚¹ä¸åœ¨é˜Ÿåˆ—é‡Œé¢\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        &#123;\n            int j = e[i];\n            if (dist[j] &gt; dist[t] + w[i])//å¦‚æœå¯ä»¥æ›´æ–°\n            &#123;\n                dist[j] = dist[t] + w[i];\n                if (!st[j])     \n                    // å¦‚æœé˜Ÿåˆ—ä¸­å·²å­˜åœ¨jï¼Œåˆ™ä¸éœ€è¦å°†jé‡å¤æ’å…¥\n                &#123;\n                    q.push(j);\n                    st[j] = true;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n&#125;\n\n851. spfaæ±‚æœ€çŸ­è·¯ - AcWingé¢˜åº“\nspfaåˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯æ—¶é—´å¤æ‚åº¦æ˜¯ O(nm), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\nåŸç†ï¼šä½¿ç”¨distæ•°ç»„è¡¨ç¤º1å·æ•°ç»„åˆ°å…¶å®ƒæ•°ç»„çš„è·ç¦»ï¼Œä½¿ç”¨cntè¡¨ç¤ºå½“å‰æœ€çŸ­è·¯çš„è¾¹æ•°\næ¨¡æ¿ï¼šint n;      // æ€»ç‚¹æ•°\nint h[N], w[N], e[N], ne[N], idx;       // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹\nint dist[N], cnt[N];       \n// dist[x]å­˜å‚¨1å·ç‚¹åˆ°xçš„æœ€çŸ­è·ç¦»ï¼Œ\n//cnt[x]å­˜å‚¨1åˆ°xçš„æœ€çŸ­è·¯ä¸­ç»è¿‡çš„ç‚¹æ•°\n//æ¯ä¸€æ¬¡æ›´æ–°è¡¨ç¤º\nbool st[N];     // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­\n\n// å¦‚æœå­˜åœ¨è´Ÿç¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚\nbool spfa()\n&#123;\n    // ä¸éœ€è¦åˆå§‹åŒ–distæ•°ç»„\n    // åŸç†ï¼šå¦‚æœæŸæ¡æœ€çŸ­è·¯å¾„ä¸Šæœ‰nä¸ªç‚¹ï¼ˆé™¤äº†è‡ªå·±ï¼‰ï¼Œé‚£ä¹ˆåŠ ä¸Šè‡ªå·±ä¹‹åä¸€å…±æœ‰n+1ä¸ªç‚¹ï¼Œç”±æŠ½å±‰åŸç†ä¸€å®šæœ‰ä¸¤ä¸ªç‚¹ç›¸åŒï¼Œæ‰€ä»¥å­˜åœ¨ç¯ã€‚\n\n    queue&lt;int&gt; q;\n    for (int i = 1; i &lt;= n; i ++ )\n    &#123;\n        q.push(i);//è¿™é‡Œä¸åŒåœ¨äºè¦å…¨éƒ¨å…¥å¯¹ä¿è¯æ¯ä¸ªç‚¹éƒ½èƒ½è¿›è¡Œåˆ¤æ–­\n        st[i] = true;\n    &#125;\n\n    while (q.size())\n    &#123;\n        auto t = q.front();\n        q.pop();\n\n        st[t] = false;\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        &#123;\n            int j = e[i];\n            if (dist[j] &gt; dist[t] + w[i])\n            &#123;\n                dist[j] = dist[t] + w[i];\n                cnt[j] = cnt[t] + 1;//æ›´æ–°çš„æ—¶å€™åŒæ­¥æ›´æ–°è¾¹æ•°\n                if (cnt[j] &gt;= n) return true; \n // å¦‚æœä»1å·ç‚¹åˆ°xçš„æœ€çŸ­è·¯ä¸­åŒ…å«è‡³å°‘nä¸ªè¾¹ï¼ˆæŠ½å±‰åŸç†ï¼‰ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯\n //è¿™ä¸ªç¯ä¸€å®šæ˜¯ä¸ªè´Ÿç¯ï¼ˆå› ä¸ºspfaé€‰æ‹©çŸ­çš„è·¯ï¼Œä¸ºäº†èµ°çŸ­è¿˜å¤šèµ°ä¸€ä¸ªç‚¹ä¸€å®šæ˜¯å­˜åœ¨è´Ÿç¯ï¼‰\n                if (!st[j])\n                &#123;\n                    q.push(j);\n                    st[j] = true;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n\n    return false;\n&#125;\n\nFLOYIDç®—æ³•ï¼ˆDijkstraè¿›ä¸€æ­¥è¾“å‡ºå…¨éƒ¨ï¼‰å¾ˆç®€å•ï¼Œé’ˆå¯¹æ‰€æœ‰è·¯\nåŸç†ï¼šåŠ¨æ€è§„åˆ’\nd[k,i,j]ï¼Œä»iç‚¹å‡ºå‘ï¼Œç»è¿‡kä¸ªç‚¹ï¼Œæœ€ç»ˆåˆ°è¾¾jç‚¹\né‚£ä¹ˆæœ‰d[k,i,j]&#x3D;d[k-1,i,k]+d[k-1,k,j]&#x2F;&#x2F;å³è¾¹å„ç»è¿‡äº†k-1ä¸ªç‚¹\nå¯ä»¥ä¼˜åŒ–ï¼Œå»æ‰ä¸€ç»´ï¼Œå³d[i,j]&#x3D;d[i,k]&#x3D;d[k,j]\nåº”ç”¨ï¼šå¯ä»¥å¯¹æœ‰è´Ÿè¾¹è¿›è¡Œæ“ä½œï¼ˆä½†æ˜¯ä¸èƒ½æœ‰è´Ÿå›è·¯ï¼‰\nFLOYIDå¯ä»¥æ±‚å‡ºæ‰€æœ‰ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼ˆå¾ˆæš´åŠ›å¾ˆç‰›é€¼å¾ˆç®€æ´å¾ˆè´¹æ—¶ï¼‰\nä½¿ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨æ‰€æœ‰è¾¹\næ¨¡æ¿æ—¶é—´ï¼šn^3\n//é‚»æ¥çŸ©é˜µåˆå§‹åŒ–ï¼š\n    for (int i = 1; i &lt;= n; i ++ )\n        for (int j = 1; j &lt;= n; j ++ )\n            if (i == j) d[i][j] = 0;//è‡ªèº«åˆ°è‡ªèº«ä¸º0\n            else d[i][j] = INF;\n\n\n\n// ç®—æ³•ç»“æŸåï¼Œd[a][b]è¡¨ç¤ºaåˆ°bçš„æœ€çŸ­è·ç¦»\nvoid floyd()\n&#123;\n    for (int k = 1; k &lt;= n; k ++ )\n        for (int i = 1; i &lt;= n; i ++ )\n            for (int j = 1; j &lt;= n; j ++ )\n                d[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n&#125;\n\nå¯¹äºæ±‚floyidï¼Œç±»ä¼¼spfaåˆ¤æ–­æ— ç©·æƒ…å†µï¼š\n#include &lt;iostream&gt;\nusing namespace std;\n\nconst int N = 210, M = 2e+10, INF = 1e9;\n\nint n, m, k, x, y, z;\nint d[N][N];\n\nvoid floyd() &#123;\n    for(int k = 1; k &lt;= n; k++)\n        for(int i = 1; i &lt;= n; i++)\n            for(int j = 1; j &lt;= n; j++)\n                d[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n&#125;\n\nint main() &#123;\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;\n    for(int i = 1; i &lt;= n; i++)\n        for(int j = 1; j &lt;= n; j++)\n            if(i == j) d[i][j] = 0;\n            else d[i][j] = INF;\n    while(m--) &#123;\n        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;\n        d[x][y] = min(d[x][y], z);\n        //æ³¨æ„ä¿å­˜æœ€å°çš„è¾¹\n    &#125;\n    floyd();\n    while(k--) &#123;\n        cin &gt;&gt; x &gt;&gt; y;\n        if(d[x][y] &gt; INF/2) puts(&quot;impossible&quot;);\n        //ç”±äºæœ‰è´Ÿæƒè¾¹å­˜åœ¨æ‰€ä»¥çº¦å¤§è¿‡INF/2ä¹Ÿå¾ˆåˆç†\n        else cout &lt;&lt; d[x][y] &lt;&lt; endl;\n    &#125;\n    return 0;\n&#125;\n\nprimæœ€å°ç”Ÿæˆæ ‘éå¸¸éå¸¸åƒdijkstra\nå¤„ç†æ­¥éª¤ï¼š\n\né¦–å…ˆå…¨éƒ¨åˆå§‹åŒ–ä¸º+æ— ç©·\nå¼€å§‹å¾ªç¯è¿­ä»£ï¼Œç”¨tæ›´æ–°åˆ°é›†åˆçš„è·ç¦»ï¼ˆdijkstraè¿™é‡Œæ˜¯tæ›´æ–°åˆ°èµ·ç‚¹çš„è·ç¦»ï¼‰\nst[t]&#x3D;trueï¼ˆçœŸçš„çœŸçš„å¾ˆåƒdijkstraï¼‰\n\nç‚¹åˆ°é›†åˆçš„è·ç¦»æŒ‡ç‚¹åˆ°é›†åˆçš„æ‰€æœ‰è·¯å¾„ä¸­é€‰æ‹©æœ€çŸ­çš„é‚£ä¸€æ¡\næ³¨æ„ä¸€ç‚¹ ï¼Œè¿™ä¸ªäºŒç»´æ•°ç»„è¦ä¸‹æ ‡æ˜¯1åˆ°n\nä¸€æ¬¡å¾ªç¯åªä¼šæ›´æ–°ä¸€ä¸ªæœ€è¿‘ç‚¹\næ¯æ¬¡æ›´æ–°æœ€è¿‘ç‚¹ä¹‹åå°±ä¼šåœ¨è¯¥ç‚¹å¯è§¦åŠèŒƒå›´å†…æ›´æ–°ä¸å…¶å®ƒç‚¹çš„è·ç¦»\næœ´ç´ primæ¨¡æ¿int n;      // nè¡¨ç¤ºç‚¹æ•°\nint g[N][N];        // é‚»æ¥çŸ©é˜µï¼Œå­˜å‚¨æ‰€æœ‰è¾¹\nint dist[N];        // å­˜å‚¨å…¶ä»–ç‚¹åˆ°å½“å‰æœ€å°ç”Ÿæˆæ ‘çš„è·ç¦»\n\nbool st[N];     // å­˜å‚¨æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»åœ¨ç”Ÿæˆæ ‘ä¸­ï¼Œå­˜å‚¨å·²çº³å…¥çš„é›†åˆ\nconst int INF=0x3f\n\n// å¦‚æœå›¾ä¸è¿é€šï¼Œåˆ™è¿”å›INF(å€¼æ˜¯0x3f3f3f3f), å¦åˆ™è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ ‘è¾¹æƒé‡ä¹‹å’Œ\nint prim()\n&#123;\n    memset(dist, 0x3f, sizeof dist);//æ‰€æœ‰è·ç¦»åˆå§‹åŒ–+âˆ\n\n    int res = 0;//reså­˜å‚¨æ‰€æœ‰è¾¹é‡Œé¢æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹é•¿åº¦ä¹‹å’Œ\n    //æ¯ä¸€æ¬¡ä¸ºäº†å¯»æ‰¾åˆ°å½“å‰é›†åˆå¤–æ‰€æœ‰ç‚¹å½“ä¸­è·ç¦»æœ€å°çš„ç‚¹\n \n    for (int i = 0; i &lt; n; i ++ )//næ¬¡è¿­ä»£\n    &#123;\n        int t = -1;\n        //å¿…é¡»è¦åœ¨é›†åˆå¤–ï¼Œæ‰€ä»¥ä»1å¼€å§‹ï¼Œst\n        for (int j = 1; j &lt;= n; j ++ )\n            //å¿…é¡»åœ¨é›†åˆå¤–å¹¶ä¸”tçš„è·ç¦»å¤§äºå½“å‰ç‚¹çš„è·ç¦»\n            &#123;\n                if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j]))//t==-1æ˜¯æœ€åˆå§‹æ—¶å€™çš„æƒ…å†µ\n                &#123;\n                    t = j;\n                &#125;\n            &#125;\n        //ç°åœ¨tå­˜çš„å°±æ˜¯å½“å‰è·ç¦»æœ€å°çš„ç‚¹\n        \n        //ä¸æ˜¯ç¬¬ä¸€ä¸ªç‚¹å¹¶ä¸”è·ç¦»æ˜¯+âˆ\n        //è¯´æ˜å½“å‰è¿™ä¸ªå›¾ä¸è”é€šï¼Œä¸å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘\n        if (i &amp;&amp; dist[t] == INF) return INF;\n\n        if (i) res += dist[t];\n        //å¦åˆ™ä¸æ˜¯ç¬¬ä¸€æ¡è¾¹å°±æŠŠdiståŠ åˆ°ç­”æ¡ˆä¸­\n        st[t] = true;//è¯´æ˜è¿™ä¸€ä¸ªç‚¹å·²ç»æ˜¯æ ‘é›†åˆçš„ä¸€ä»½å­å’§\n\n        //å¯¹äº†æ³¨æ„é¡ºåºé—®é¢˜å“¦ï¼Œä¸€å®šè¦å…ˆç´¯åŠ å†è¿›è¡Œæ›´æ–°\n        //è¿™ä¸€æ­¥æ›´æ–°ä¸€ä¸‹å…¶å®ƒç‚¹åˆ°é›†åˆçš„è·ç¦»ï¼ŒåŒdijkstra\n        for (int j = 1; j &lt;= n; j ++ ) dist[j] = min(dist[j], g[t][j]);\n        \n    &#125;\n\n    return res;\n&#125;\n\n858. Primç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘ - AcWingé¢˜åº“\nAcWing 858. Primç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘ï¼šå›¾è§£+è¯¦ç»†ä»£ç æ³¨é‡Šï¼ˆå¸¦ä¸Šäº†ä¿å­˜è·¯å¾„ï¼‰ - AcWing\nAcWing 858. $\\Huge\\color{MediumTurquoise}{prim ä¸dijkstraçš„åŒºåˆ«}$ - AcWing\n//2022.6.1 æ›´æ–°\n\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nconst int N = 510;\nint g[N][N];//å­˜å‚¨å›¾\nint dt[N];//å­˜å‚¨å„ä¸ªèŠ‚ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»\nint st[N];//èŠ‚ç‚¹æ˜¯å¦è¢«åŠ å…¥åˆ°ç”Ÿæˆæ ‘ä¸­\nint pre[N];//èŠ‚ç‚¹çš„å‰å»èŠ‚ç‚¹\nint n, m;//n ä¸ªèŠ‚ç‚¹ï¼Œm æ¡è¾¹\n\nvoid prim()\n&#123;\n    memset(dt,0x3f, sizeof(dt));//åˆå§‹åŒ–è·ç¦»æ•°ç»„ä¸ºä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼ˆ10äº¿å·¦å³ï¼‰\n    int res= 0;\n    dt[1] = 0;//ä» 1 å·èŠ‚ç‚¹å¼€å§‹ç”Ÿæˆ \n    for(int i = 0; i &lt; n; i++)//æ¯æ¬¡å¾ªç¯é€‰å‡ºä¸€ä¸ªç‚¹åŠ å…¥åˆ°ç”Ÿæˆæ ‘\n    &#123;\n        int t = -1;\n        for(int j = 1; j &lt;= n; j++)//æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡åˆ¤æ–­\n        &#123;\n            if(!st[j] &amp;&amp; (t == -1 || dt[j] &lt; dt[t]))//å¦‚æœæ²¡æœ‰åœ¨æ ‘ä¸­ï¼Œä¸”åˆ°æ ‘çš„è·ç¦»æœ€çŸ­ï¼Œåˆ™é€‰æ‹©è¯¥ç‚¹\n                t = j;\n        &#125;\n\n        //2022.6.1 å‘ç°æµ‹è¯•ç”¨ä¾‹åŠ å¼ºåï¼Œéœ€è¦åˆ¤æ–­å­¤ç«‹ç‚¹äº†\n        //å¦‚æœå­¤ç«‹ç‚¹ï¼Œç›´è¿”è¾“å‡ºä¸èƒ½ï¼Œç„¶åé€€å‡º\n        if(dt[t] == 0x3f3f3f3f) &#123;\n            cout &lt;&lt; &quot;impossible&quot;;\n            return;\n        &#125;\n\n\n        st[t] = 1;// é€‰æ‹©è¯¥ç‚¹\n        res += dt[t];\n        for(int i = 1; i &lt;= n; i++)//æ›´æ–°ç”Ÿæˆæ ‘å¤–çš„ç‚¹åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»\n        &#123;\n            if(dt[i] &gt; g[t][i] &amp;&amp; !st[i])//ä» t åˆ°èŠ‚ç‚¹ i çš„è·ç¦»å°äºåŸæ¥è·ç¦»ï¼Œåˆ™æ›´æ–°ã€‚\n            &#123;\n                dt[i] = g[t][i];//æ›´æ–°è·ç¦»\n                pre[i] = t;//ä» t åˆ° i çš„è·ç¦»æ›´çŸ­ï¼Œi çš„å‰é©±å˜ä¸º t.\n            &#125;\n        &#125;\n    &#125;\n\n    cout &lt;&lt; res;\n\n&#125;\n\nvoid getPath()//è¾“å‡ºå„ä¸ªè¾¹\n&#123;\n    for(int i = n; i &gt; 1; i--)//n ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ‰ n-1 æ¡è¾¹ã€‚\n\n    &#123;\n        cout &lt;&lt; i &lt;&lt;&quot; &quot; &lt;&lt; pre[i] &lt;&lt; &quot; &quot;&lt;&lt; endl;// i æ˜¯èŠ‚ç‚¹ç¼–å·ï¼Œpre[i] æ˜¯ i èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚ä»–ä»¬æ„æˆä¸€æ¡è¾¹ã€‚\n    &#125;\n&#125;\n\nint main()\n&#123;\n    memset(g, 0x3f, sizeof(g));//å„ä¸ªç‚¹ä¹‹é—´çš„è·ç¦»åˆå§‹åŒ–æˆå¾ˆå¤§çš„æ•°\n    cin &gt;&gt; n &gt;&gt; m;//è¾“å…¥èŠ‚ç‚¹æ•°å’Œè¾¹æ•°\n    while(m --)\n    &#123;\n        int a, b, w;\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;//è¾“å‡ºè¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹å’Œæƒé‡\n        g[a][b] = g[b][a] = min(g[a][b],w);//å­˜å‚¨æƒé‡\n    &#125;\n\n    prim();//æ±‚æœ€ä¸‹ç”Ÿæˆæ ‘\n    //getPath();//è¾“å‡ºè·¯å¾„\n    return 0;\n&#125;\n\nä¸Dijkstraç±»ä¼¼ï¼ŒPrimç®—æ³•ä¹Ÿå¯ä»¥ç”¨å †ä¼˜åŒ–ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä»£æ›¿å †ï¼Œä¼˜åŒ–çš„Primç®—æ³•æ—¶é—´å¤æ‚åº¦O(mlogn)ã€‚é€‚ç”¨äºç¨€ç–å›¾ï¼Œä½†æ˜¯ç¨€ç–å›¾çš„æ—¶å€™æ±‚æœ€å°ç”Ÿæˆæ ‘ï¼ŒKruskal ç®—æ³•æ›´åŠ å®ç”¨ã€‚\nå…‹é²æ–¯å¡å°”æœ€å°ç”Ÿæˆæ ‘æ—¶é—´æ˜¯mlogmï¼Œæ€è·¯ä¹Ÿç®€å•ï¼ˆä¸ç”¨è€ƒè™‘primçš„ï¼‰\næ ¸å¿ƒï¼šåˆ é™¤ï¼Œåˆ¤æ–­\nä¼˜ç‚¹ï¼š\n\nç¨€ç–å›¾å°½ç®¡ä½¿ç”¨kruskalå°±ok\nkruskalä¹Ÿå¯ä»¥å¤„ç†è´Ÿæƒè¾¹çš„å“¦\nkruskalåŒbfç®—æ³•ï¼Œå¯¹äºå­˜å‚¨æ–¹å¼ä¸æŒ‘å‰”ï¼Œèƒ½å­˜å°±è¡Œï¼Œå¯ä»¥ç”¨ç»“æ„ä½“\n\n\nå°†æ‰€æœ‰è¾¹æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼ˆè¿™é‡Œç”¨åŸæœ‰çš„æ’åºå°±è¡Œï¼‰\næšä¸¾æ¯æ¡è¾¹abï¼ˆæƒé‡æ˜¯cï¼‰ï¼Œå¦‚æœabä¸è¿é€šï¼ˆå³åœ¨ï¼‰ï¼Œå°±å°†è¿™æ¡è¾¹åŠ å…¥åˆ°é›†åˆé‡Œé¢\nåªè¦è¾¹æ•°æ˜¯èŠ‚ç‚¹æ•°-1å°±okè¾½\n\nè¿™é‡Œå»ºè®®å‚è€ƒå¹¶æŸ¥é›†ä¾‹é¢˜ï¼Œ837é¢˜\n837. è¿é€šå—ä¸­ç‚¹çš„æ•°é‡ - AcWingé¢˜åº“\nkruskalæ˜¯ä½¿ç”¨ä¸€ä¸ªå¹¶æŸ¥é›†å»ç»´æŠ¤çš„ï¼Œå †ç”¨äºå»åšdijkstra\nAcWing 859. Kruskalç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘â€”$\\color{red}{æµ·ç»µå®å®æ¥å–½}$ - AcWing\næ¨¡æ¿#include&lt;algorithm&gt;//éœ€è¦å¼•å…¥è¿™ä¸ªå¤´æ–‡ä»¶å®ç°å¯¹ç»“æ„ä½“çš„å¤§å°æ’åºæ“ä½œ\nint n, m;       // næ˜¯ç‚¹æ•°ï¼Œmæ˜¯è¾¹æ•°\nint p[N];       // å¹¶æŸ¥é›†çš„çˆ¶èŠ‚ç‚¹æ•°ç»„\n\nstruct Edge     // å­˜å‚¨è¾¹\n&#123;\n    int a, b, w;\n\n    //ä¸‹é¢è¿™é‡Œæ˜¯ç»“æ„ä½“çš„å¦ä¸€ä¸ªå‡½æ•°ï¼Œé‡è½½ä¸€ä¸‹ï¼œ\n    bool operator&lt; (const Edge &amp;W)const\n    &#123;\n        return w &lt; W.w;\n    &#125;\n&#125;edges[M];//è¿™é‡Œæ˜¯å¼€äº†ä¸€ä¸ªç»“æ„ä½“æ•°ç»„å«edges,æœ‰Mä¸ª\n\nint find(int x)     // å¹¶æŸ¥é›†æ ¸å¿ƒæ“ä½œ\n&#123;\n    if (p[x] != x) p[x] = find(p[x]);\n    return p[x];\n&#125;\n\nint kruskal()\n&#123;\n    sort(edges, edges + m);//nlogn\n\n    for (int i = 1; i &lt;= n; i ++ ) p[i] = i;    // åˆå§‹åŒ–å¹¶æŸ¥é›†\n\n    //reså­˜æœ€å°ç”Ÿæˆæ ‘é‡Œè¾¹æ‰€æœ‰è¾¹çš„æƒé‡ä¹‹å’Œ\n    //cntå­˜çš„æ˜¯å½“å‰å¢åŠ äº†å¤šå°‘æ¡è¾¹\n    int res = 0, cnt = 0;\n    //è¿™é‡Œæ˜¯ä»å°åˆ°å¤§æšä¸¾æ‰€æœ‰è¾¹\n    for (int i = 0; i &lt; m; i ++ )\n    &#123;\n        int a = edges[i].a, b = edges[i].b, w = edges[i].w;\n\n        a = find(a), b = find(b);\n        //ä½¿ç”¨ä¸€ä¸ªå¹¶æŸ¥é›†æ¥åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦è”é€š\n           // å¦‚æœä¸¤ä¸ªè¿é€šå—ä¸è¿é€šï¼Œåˆ™å°†è¿™ä¸¤ä¸ªè¿é€šå—åˆå¹¶\n         if (a != b) \n        &#123;\n            p[a] = b;//è¿™é‡Œæ˜¯ä¸¤ä¸ªç‚¹çš„åˆå¹¶æ“ä½œ\n            res += w;\n            cnt ++ ;\n        &#125;\n    &#125;\n\n    if (cnt &lt; n - 1) return INF;\n    return res;\n&#125;\n\né¢˜ï¼š\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\nconst int N = 100010;\nint p[N];//ä¿å­˜å¹¶æŸ¥é›†\n\nstruct E&#123;\n    int a;\n    int b;\n    int w;\n    bool operator &lt; (const E&amp; rhs)&#123;//é€šè¿‡è¾¹é•¿è¿›è¡Œæ’åº\n        return this-&gt;w &lt; rhs.w;\n    &#125;\n\n&#125;edg[N * 2];\nint res = 0;\n\nint n, m;\nint cnt = 0;\nint find(int a)&#123;//å¹¶æŸ¥é›†æ‰¾ç¥–å®—\n    if(p[a] != a) p[a] = find(p[a]);\n    return p[a];\n&#125;\nvoid klskr()&#123;\n    for(int i = 1; i &lt;= m; i++)//ä¾æ¬¡å°è¯•åŠ å…¥æ¯æ¡è¾¹\n   &#123;\n        int pa = find(edg[i].a)ï¼›// a ç‚¹æ‰€åœ¨çš„é›†åˆ\n        int pb = find(edg[i].b);// b ç‚¹æ‰€åœ¨çš„é›†åˆ\n        if(pa != pb)&#123;//å¦‚æœ a b ä¸åœ¨ä¸€ä¸ªé›†åˆä¸­\n            res += edg[i].w;//a b ä¹‹é—´è¿™æ¡è¾¹è¦\n            p[pa] = pb;// åˆå¹¶a b\n            cnt ++; // ä¿ç•™çš„è¾¹æ•°é‡+1\n        &#125;\n    &#125;\n&#125;\nint main()\n&#123;\n\n    cin &gt;&gt; n &gt;&gt; m;//åŒæ ·æ³¨æ„è¿™é‡Œæ˜¯1å¼€å§‹ï¼Œå› æ­¤ä¸‹é¢sortå‡½æ•°èµ·å§‹ä¹Ÿæ˜¯+1\n    for(int i = 1; i &lt;= n; i++) p[i] = i;//åˆå§‹åŒ–å¹¶æŸ¥é›†\n    for(int i = 1; i &lt;= m; i++)&#123;//è¯»å…¥æ¯æ¡è¾¹\n        int a, b , c;\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt;c;\n        edg[i] = &#123;a, b, c&#125;;\n    &#125;\n    sort(edg + 1, edg + m + 1);//æŒ‰è¾¹é•¿æ’åº\n    klskr();//å¹¶æŸ¥é›†åˆå§‹åŒ–åŒ…å«åœ¨å‡½æ•°ä¸­\n    if(cnt &lt; n - 1) &#123;//å¦‚æœä¿ç•™çš„è¾¹å°äºç‚¹æ•°-1ï¼Œåˆ™ä¸èƒ½è¿é€š\n        cout&lt;&lt; &quot;impossible&quot;;\n        return 0;\n    &#125;\n    cout &lt;&lt; res;\n    return 0;\n&#125;\n\näºŒåˆ†å›¾æŸ“è‰²æ³•åˆ¤å®šï¼šä½¿ç”¨æ€§è´¨ï¼šä¸€ä¸ªå›¾æ˜¯äºŒåˆ†å›¾å½“ä¸”ä»…å½“å›¾ä¸­ä¸å«å¥‡æ•°ç¯&#x2F;å¥‡åœˆ\nå¥‡æ•°ç¯ï¼šç¯ï¼Œè€Œä¸”å½“ä¸­è¾¹çš„æ•°é‡æ˜¯å¥‡æ•°\næ—¶é—´å¤æ‚åº¦æ˜¯ O(n+m), n è¡¨ç¤ºç‚¹æ•°ï¼Œm è¡¨ç¤ºè¾¹æ•°\næ€è·¯ï¼šä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ä¸€å®šå±äºä¸åŒçš„é›†åˆï¼Œä¸€ä¸ªè”é€šå—ä¸­åªè¦ä¸€ä¸ªç‚¹çš„é¢œè‰²ç¡®å®šï¼Œå…¶å®ƒç‚¹çš„é¢œè‰²éƒ½ç¡®å®šï¼ˆç™½è‰²åªèƒ½ä¸é»‘è‰²ç›¸é‚»ï¼Œé»‘è‰²åªèƒ½ä¸ç™½è‰²ç›¸é‚»ï¼‰ï¼Œç”±äºä¸å­˜åœ¨å¥‡æ•°ç¯ï¼ŒæŸ“è‰²è¿‡ç¨‹ä¸­ä¸€å®šæ²¡æœ‰çŸ›ç›¾\nå› æ­¤éœ€è¦å°†æ•´ä¸ªå›¾éå†ä¸€éï¼Œç”±äºå›¾æ²¡æœ‰æƒï¼Œè´Ÿè¾¹ï¼Œå› æ­¤å¯ä»¥ç”¨dfsï¼Œbfsæ¥å¼„ï¼Œæ¨¡æ¿è¿™é‡Œä½¿ç”¨dfs\nå› æ­¤ï¼Œå¦‚æœæœ‰çŸ›ç›¾ï¼Œé‚£è‚¯å®šå°±ä¸æ˜¯äº†å‘—\nåˆ™åˆ¤å®šä¸¤ä¸ªå…³é”®å‡½æ•°ï¼š\n\ndfs\nåˆ¤å®šæ˜¯å¦å‡ºç°çŸ›ç›¾\n\nint n;      // nè¡¨ç¤ºç‚¹æ•°\nint h[N], e[M], ne[M], idx;     // é‚»æ¥è¡¨å­˜å‚¨å›¾\nint color[N];       // è¡¨ç¤ºæ¯ä¸ªç‚¹çš„é¢œè‰²ï¼Œ-1è¡¨ç¤ºæœªæŸ“è‰²ï¼Œ0è¡¨ç¤ºç™½è‰²ï¼Œ1è¡¨ç¤ºé»‘è‰²\n//ä¸‰è‰²æŸ“è‰²æ³•ï¼Œè€ƒè™‘goè¯­è¨€runtimeéƒ¨åˆ†ä¸‰è‰²æ ‡å®šéƒ¨åˆ†\n\n// å‚æ•°ï¼šuè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ï¼Œcè¡¨ç¤ºå½“å‰ç‚¹çš„é¢œè‰²\n//è¿™é‡Œä½¿ç”¨æ·±æœå› ä¸ºç›¸å¯¹è€Œè¨€æ·±æœçš„ä»£ç é‡æ›´å°‘ï¼Œåªç”¨å›æº¯ï¼Œä¸éœ€è¦æ‰‹å†™é˜Ÿåˆ—\nbool dfs(int u, int c)\n&#123;\n    color[u] = c;\n    for (int i = h[u]; i != -1; i = ne[i])\n    &#123;\n        int j = e[i];\n        if (color[j] == -1)\n        &#123;\n            if (!dfs(j, !c)) return false;\n        &#125;\n        else if (color[j] == c) return false;\n    &#125;\n\n    return true;\n&#125;\n\nbool check()\n&#123;\n    memset(color, -1, sizeof color);\n    bool flag = true;\n    for (int i = 1; i &lt;= n; i ++ )\n        if (color[i] == -1)\n            if (!dfs(i, 0))\n            &#123;\n                flag = false;\n                break;\n            &#125;\n    return flag;\n&#125;\n\néšä¾¿æ•´ä¸€é“ä¾‹é¢˜åº·åº·ï¼š\nAcWing 860. æŸ“è‰²æ³•åˆ¤å®šäºŒåˆ†å›¾â€”$\\color{green}{è¯¦ç»†ä»£ç æ³¨é‡Š+å›¾è§£}$ - AcWing\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int N = 100010 * 2;\nint e[N], ne[N], idx;//é‚»æ¥è¡¨å­˜å‚¨å›¾\nint h[N];\nint color[N];//ä¿å­˜å„ä¸ªç‚¹çš„é¢œè‰²ï¼Œ0 æœªæŸ“è‰²ï¼Œ1 æ˜¯çº¢è‰²ï¼Œ2 æ˜¯é»‘è‰²\nint n, m;//ç‚¹å’Œè¾¹\n\nvoid add(int a, int b)//é‚»æ¥è¡¨æ’å…¥ç‚¹å’Œè¾¹\n&#123;\n    e[idx] = b, ne[idx]= h[a], h[a] = idx++;\n&#125;\n\nbool dfs(int u, int c)//æ·±åº¦ä¼˜å…ˆéå†\n&#123;\n    color[u] = c;//uçš„ç‚¹æˆ c æŸ“è‰²\n\n    //éå†å’Œ u ç›¸é‚»çš„ç‚¹\n    for(int i = h[u]; i!= -1; i = ne[i])\n    &#123;\n        int b = e[i];                   \n        if(!color[b])//ç›¸é‚»çš„ç‚¹æ²¡æœ‰é¢œè‰²,åˆ™é€’å½’å¤„ç†è¿™ä¸ªç›¸é‚»ç‚¹\n        &#123;\n            if(!dfs(b, 3 - c)) return false;//ï¼ˆ3 - 1 = 2ï¼Œ å¦‚æœ u çš„é¢œè‰²æ˜¯2ï¼Œåˆ™å’Œ u ç›¸é‚»çš„æŸ“æˆ 1ï¼‰\n                                            //ï¼ˆ3 - 2 = 1ï¼Œ å¦‚æœ u çš„é¢œè‰²æ˜¯1ï¼Œåˆ™å’Œ u ç›¸é‚»çš„æŸ“æˆ 2ï¼‰\n        &#125;\n        else if(color[b] &amp;&amp; color[b] != 3 - c)//å¦‚æœå·²ç»æŸ“è‰²ï¼Œåˆ¤æ–­é¢œè‰²æ˜¯å¦ä¸º 3 - c\n        &#123;                                     \n            return false;//å¦‚æœä¸æ˜¯ï¼Œè¯´æ˜å†²çªï¼Œè¿”å›                   \n        &#125;\n    &#125;\n    return true;\n&#125;\n\nint main()\n&#123;\n    memset(h, -1, sizeof h);//åˆå§‹åŒ–é‚»æ¥è¡¨\n    cin &gt;&gt; n &gt;&gt; m;\n    for(int i = 1; i &lt;= m; i++)//è¯»å…¥è¾¹\n    &#123;\n        int a, b;\n        cin &gt;&gt; a &gt;&gt; b;\n        add(a, b), add(b, a);\n    &#125;\n    for(int i = 1; i &lt;= n; i++)//éå†ç‚¹\n    &#123;\n        if(!color[i])//å¦‚æœæ²¡æŸ“è‰²\n        &#123;\n            if(!dfs(i, 1))//æŸ“è‰²è¯¥ç‚¹ï¼Œå¹¶é€’å½’å¤„ç†å’Œå®ƒç›¸é‚»çš„ç‚¹\n            &#123;\n                cout &lt;&lt; &quot;No&quot; &lt;&lt; endl;//å‡ºç°çŸ›ç›¾ï¼Œè¾“å‡ºNO \n                return 0;\n            &#125;\n\n        &#125;\n    &#125;\n    cout &lt;&lt; &quot;Yes&quot; &lt;&lt; endl;//å…¨éƒ¨æŸ“è‰²å®Œæˆï¼Œæ²¡æœ‰çŸ›ç›¾ï¼Œè¾“å‡ºYES\n    return 0;\n&#125;\n\nåŒˆç‰™åˆ©ç®—æ³•ä½œç”¨ï¼šç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ï¼Œæ±‚å®ƒçš„æœ€å¤§åŒ¹é…ï¼ˆå¯ä»¥åœ¨ä¸€ä¸ªè¾ƒçŸ­çš„æ—¶é—´å†…åŒ¹é…ï¼‰\næŠŠå®ƒæƒ³è±¡æˆæœˆè€åŒ¹é…å¯¹è±¡ç®—æ³•\n\n\nä¸€äº›æ¦‚å¿µï¼š\n\näºŒåˆ†å›¾çš„åŒ¹é…ï¼šç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ Gï¼Œåœ¨ G çš„ä¸€ä¸ªå­å›¾ M ä¸­ï¼ŒM çš„è¾¹é›† {E}ä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½ä¸ä¾é™„äºåŒä¸€ä¸ªé¡¶ç‚¹ï¼Œåˆ™ç§° M æ˜¯ä¸€ä¸ªåŒ¹é…ã€‚\näºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ï¼šæ‰€æœ‰åŒ¹é…ä¸­åŒ…å«è¾¹æ•°æœ€å¤šçš„ä¸€ç»„åŒ¹é…è¢«ç§°ä¸ºäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ï¼Œå…¶è¾¹æ•°å³ä¸ºæœ€å¤§åŒ¹é…æ•°\n\nåŸºæœ¬æ€è·¯ï¼š\n\nå¯¹äºæ¯ä¸ªç”·ç”Ÿä»å‰å¾€åçœ‹ï¼ˆæœç„¶å¼€å§‹å½“æœˆè€çœ‹äº†ï¼‰ï¼Œå¦‚æœå¥³ç”Ÿå¤„äºå•èº«çŠ¶æ€åˆ™å¯ä»¥åŒ¹é…\nå†çœ‹ä¸‹ä¸€ä¸ªï¼ŒæŸä¸ªç”·ç”ŸåŒ¹é…æŸä¸ªå¥³ç”Ÿï¼Œå¦‚æœè¯¥å¥³ç”Ÿå·²ç»è¢«åŒ¹é…ï¼Œè¿™ä¸ªç”·ç”Ÿä¹Ÿä¸ä¼šå–„ç½¢ç”˜ä¼‘ï¼ˆä»€ä¹ˆé»„æ¯›å‰§æƒ…ï¼‰ï¼Œå¦‚æœä¹‹å‰åŒ¹é…çš„ç”·ç”Ÿaå¯ä»¥æ›´æ¢å¥³ç”Ÿï¼ˆè¶Šæ¥è¶Šå¥‡æ€ªäº†ï¼‰ï¼Œç”·ç”Ÿbä¼šä¸è¿™ä¸ªå¥³ç”ŸåŒ¹é…ï¼ˆä»–ç”šè‡³ä¸“é—¨ç”¨äº†ç»¿è‰²ç»äº†ï¼‰\n\næ‰€ä»¥å¾ˆå¤šæ—¶å€™åšé”™æ˜¯æ²¡äº‹çš„ï¼Œé”™è¿‡æ˜¯çœŸçš„ä¼šåæ‚”\n\n\næ—¶é—´å¤æ‚åº¦ï¼ˆn*mï¼‰ï¼ˆæœ€åæƒ…å†µï¼‰ï¼Œå®é™…ä¸Šæ—¶é—´æ˜¯ä¼šå¾ˆå°‘çš„\næ³¨æ„ï¼šå¦‚æœå¯¹å·¦è¾¹è¿›è¡Œéå†ï¼Œé‚£ä¹ˆè¾¹å°±è¦å­˜å‚¨å·¦è¾¹æŒ‡å‘å³è¾¹çš„\næ¨¡æ¿ï¼šint n1, n2;     // n1è¡¨ç¤ºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ•°ï¼Œn2è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹æ•°\nint h[N], e[M], ne[M], idx;     // é‚»æ¥è¡¨å­˜å‚¨æ‰€æœ‰è¾¹ï¼ŒåŒˆç‰™åˆ©ç®—æ³•ä¸­åªä¼šç”¨åˆ°ä»ç¬¬ä¸€ä¸ªé›†åˆæŒ‡å‘ç¬¬äºŒä¸ªé›†åˆçš„è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œåªç”¨å­˜ä¸€ä¸ªæ–¹å‘çš„è¾¹\nint match[N];       // å­˜å‚¨ç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹å½“å‰åŒ¹é…çš„ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹æ˜¯å“ªä¸ª\nbool st[N];     // è¡¨ç¤ºç¬¬äºŒä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹æ˜¯å¦å·²ç»è¢«éå†è¿‡\n\nbool find(int x)//åˆ¤æ–­èƒ½å¦æ‰¾åˆ°å¦¹å­\n&#123;//ä½¿ç”¨æšä¸¾\n    for (int i = h[x]; i != -1; i = ne[i])\n    &#123;\n        int j = e[i];\n        if (!st[j])//å¦‚æœå¦¹å­ä¹‹å‰æ²¡æœ‰è€ƒè™‘è¿‡\n        &#123;\n            st[j] = true;\n            \n            //å¦‚æœå¦¹å­ä¹‹å‰æ²¡æœ‰åŒ¹é…ä»»ä½•ç”·ç”Ÿæˆ–è€…å¥³ç”ŸåŒ¹é…çš„ç”·ç”Ÿå¯ä»¥æ‰¾åˆ°ä¸‹å®¶\n            if (match[j] == 0 || find(match[j]))\n            &#123;\n                match[j] = x;//å½“å‰å¦¹å­åŒ¹é…å°±æ”¹å˜äº†\n                return true;\n            &#125;\n        &#125;\n    &#125;\n\n    return false;//å°±æ˜¯åœ¨åŒ¹é…ä¸ä¸Šï¼Œé‚£å’±å°±ç®—äº†\n&#125;\n\n// æ±‚æœ€å¤§åŒ¹é…æ•°ï¼Œä¾æ¬¡æšä¸¾ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªç‚¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªé›†åˆä¸­çš„ç‚¹\n//è¿™é‡Œæ˜¯mainå‡½æ•°é‡Œé¢çš„éƒ¨åˆ†\nint res = 0;\nfor (int i = 1; i &lt;= n1; i ++ )\n&#123;\n    memset(st, false, sizeof st);//å…ˆæŠŠæ‰€æœ‰çš„å¦¹å­æ¸…ç©º\n    if (find(i)) res ++ ;//å¦‚æœå¯ä»¥æ‰¾åˆ°çš„è¯ï¼ŒæˆåŠŸæ•°é‡å¢åŠ \n&#125;\n\nAcWing 861. äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é… - AcWing\nAcWing 861. äºŒåˆ†å›¾æœ€å¤§åŒ¹é… - å¦‚æœä½ çœ‹äº†åˆ«çš„é¢˜è§£ï¼Œä»ç„¶å¯¹é€’å½’å†™æ³•çš„stæ•°ç»„å¿ƒå­˜ç–‘è™‘ï¼Œçœ‹çœ‹è¿™é‡Œã€21.12.7æ›´æ–°ã€‘ - AcWing\n#include&lt;iostream&gt;\n#include&lt;cstring&gt;\nusing namespace std;\nconst int N = 510 , M = 100010;\nint n1,n2,m;\nint h[N],ne[M],e[M],idx;\nbool st[N];\nint match[N];\n\nvoid add(int a , int b)\n&#123;\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n&#125;\n\nvoid init()\n&#123;\n    memset(h,-1,sizeof h);\n&#125;\n\nint find(int x)\n&#123;\n    //éå†è‡ªå·±å–œæ¬¢çš„å¥³å­©\n    for(int i = h[x] ; i != -1 ;i = ne[i])\n    &#123;\n        int j = e[i];\n        if(!st[j])//å¦‚æœåœ¨è¿™ä¸€è½®æ¨¡æ‹ŸåŒ¹é…ä¸­,è¿™ä¸ªå¥³å­©å°šæœªè¢«é¢„å®š\n        &#123;\n            st[j] = true;//é‚£xå°±é¢„å®šè¿™ä¸ªå¥³å­©äº†\n            //å¦‚æœå¥³å­©jæ²¡æœ‰ç”·æœ‹å‹ï¼Œæˆ–è€…å¥¹åŸæ¥çš„ç”·æœ‹å‹èƒ½å¤Ÿé¢„å®šå…¶å®ƒå–œæ¬¢çš„å¥³å­©ã€‚é…å¯¹æˆåŠŸ\n            if(!match[j]||find(match[j]))\n            &#123;\n                match[j] = x;\n                return true;\n            &#125;\n\n        &#125;\n    &#125;\n    //è‡ªå·±ä¸­æ„çš„å…¨éƒ¨éƒ½è¢«é¢„å®šäº†ã€‚é…å¯¹å¤±è´¥ã€‚\n    return false;\n&#125;\nint main()\n&#123;\n    init();\n    cin&gt;&gt;n1&gt;&gt;n2&gt;&gt;m;\n    while(m--)\n    &#123;\n        int a,b;\n        cin&gt;&gt;a&gt;&gt;b;\n        add(a,b);\n    &#125;\n\n\n    int res = 0;\n    for(int i = 1; i &lt;= n1 ;i ++)\n    &#123;  \n         //å› ä¸ºæ¯æ¬¡æ¨¡æ‹ŸåŒ¹é…çš„é¢„å®šæƒ…å†µéƒ½æ˜¯ä¸ä¸€æ ·çš„æ‰€ä»¥æ¯è½®æ¨¡æ‹Ÿéƒ½è¦åˆå§‹åŒ–\n          memset(st,false,sizeof st);\n        if(find(i)) \n          res++;\n    &#125;  \n\n    cout&lt;&lt;res&lt;&lt;endl;\n&#125;\n\nå…³é”®è·¯å¾„ï¼ˆAOEç½‘ï¼Œæ‹“æ‰‘plusç‰ˆæœ¬ï¼‰åŸºç¡€èƒŒæ™¯çŸ¥è¯†ï¼šAOEç½‘ï¼šAOVç½‘åŸºç¡€ä¸ŠåŠ ä¸Šæ¯ä¸ªèŠ‚ç‚¹ï¼ˆå·¥åºï¼‰æ‰€æ¶ˆè€—çš„æ—¶é—´\nAOEç½‘è¦å»ºç«‹å†æ´»åŠ¨ä¹‹é—´åˆ¶çº¦å…³ç³»æ²¡æœ‰çŸ›ç›¾çš„åŸºç¡€ä¹‹ä¸Šï¼Œå†æ¥åˆ†æå®Œæˆæ•´ä¸ªå·¥ç¨‹éœ€è¦å¤šå°‘æ—¶é—´ï¼Œæˆ–è€…ä¸ºäº†ç¼©çŸ­å®Œæˆå·¥ç¨‹æ‰€éœ€æ—¶é—´ï¼Œåº”å½“åŠ å¿«å“ªäº›æ´»åŠ¨\nå…³é”®è·¯å¾„ï¼šä»æºç‚¹åˆ°æ±‡ç‚¹å…·æœ‰æœ€å¤§é•¿åº¦çš„è·¯å¾„ï¼š\nå…³é”®æ´»åŠ¨ï¼šå…³é”®è·¯å¾„ä¸Šçš„æ´»åŠ¨ï¼ˆå®é™…ä¸Šå°±å¯ä»¥ç†è§£æˆå¤šç§æ´»åŠ¨å¹¶è¡Œæ‰§è¡Œï¼Œæœ‰äº›è€—æ—¶æœ€é•¿çš„æ´»åŠ¨æ¥è¡¡é‡æ•´ä½“å·¥ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼‰-&gt;ä¿®æ”¹å…³é”®æ´»åŠ¨æ‰ä¼šå¯¹æ•´ä¸ªå·¥æœŸé•¿åº¦è¿›è¡Œå®é™…å‡å°‘\næ ¸å¿ƒï¼šå¯»æ‰¾å…³é”®æ´»åŠ¨æ–¹æ³•ï¼šæ‰¾åˆ°æ‰€æœ‰æ´»åŠ¨çš„æœ€æ—©å¼€å§‹æ—¶é—´å’Œæœ€æ™šå¼€å§‹æ—¶é—´ï¼Œå¹¶ä¸”è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰æ„å‘³ç€æ­¤æ´»åŠ¨æ˜¯å…³é”®æ´»åŠ¨ï¼Œæ´»åŠ¨é—´çš„è·¯å¾„æ˜¯å…³é”®è·¯å¾„\nè´ªå¿ƒä¸æœ€çŸ­è·¯å…³ç³»ï¼šdpé—®é¢˜å¯ä»¥è§†ä¸ºç‰¹æ®Šçš„æœ€çŸ­è·¯é—®é¢˜ï¼Œå³æœ€çŸ­è·¯åŒ…å«dpï¼Œæ˜¯ä¸€ä¸ªæ²¡æœ‰ç¯å­˜åœ¨çš„æœ€çŸ­è·¯ï¼Œdpå®é™…æ˜¯æ·±æœï¼Œä¿è¯å¯ä»¥åˆ°è¾¾ç»ˆç‚¹ï¼Œä½†ä¸ä¿è¯æ˜¯æœ€çŸ­è·¯\næš´åŠ›æœç´¢å›æº¯æ³•å›æº¯æ³•æ•ˆç‡ï¼šä½ï¼Œä½†æ¯”forå¼º\nè§£å†³é—®é¢˜ï¼šforåµŒå¥—æ— æ³•è§£å†³æ—¶å€™ç†è®ºåŸºç¡€ï¼šæ¥æºäºé€’å½’çš„å›æº¯(éšè—åœ¨é€’å½’çš„ä¸‹é¢)ï¼Œä¸äºŒå‰æ ‘éå†ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢æ··åœ¨ä¸€èµ·è¿›è¡Œï¼ŒäºŒå‰æ ‘åœ¨è¿”å›çš„è¿‡ç¨‹ä¸­ä¹Ÿç”¨åˆ°äº†å›æº¯\nå¯è§£å†³é—®é¢˜ï¼šä¼ ç»Ÿforæš´åŠ›æœç´¢æ–¹å¼æ— æ³•è§£å†³\n\nç»„åˆé—®é¢˜ï¼šï¼ˆå¦‚ä¸€ä¸²æ•°å­—è¯¢é—®å¯ä»¥ç»„åˆçš„æ–¹å¼æ•°ï¼‰ç»„åˆå¼ºè°ƒæ²¡æœ‰é¡ºåº\næ’åˆ—é—®é¢˜ï¼šæ’åˆ—å¼ºè°ƒå…ƒç´ é¡ºåº\nåˆ‡å‰²é—®é¢˜ï¼šï¼ˆå­—ç¬¦ä¸²ï¼ŒåŠ ä¸ŠæŸç§é™å®šæ¡ä»¶ï¼Œè¯¢é—®åˆ‡å‰²æ–¹å¼ï¼‰\nå­é›†é—®é¢˜ï¼šæ‰¾å‡ºæ‰€æœ‰å­é›†\næ£‹ç›˜é—®é¢˜ï¼šï¼ˆå…¸ä¸­å…¸çš‡åï¼Œæ•°ç‹¬)\n\nå°æ€»ç»“ï¼Œç”¨äºè§£å†³ç»„åˆå’Œæ’åˆ—\nADT:å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä¸€æ£µnå‰æ ‘ï¼Œæ ‘çš„å®½åº¦æ˜¯é›†åˆçš„å¤§å°ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹å¤„ç†çš„é›†åˆçš„å¤§å°-&gt;è¿™é‡Œé€šå¸¸ä½¿ç”¨forå¾ªç¯æ¥å¤„ç†ã€‚æ ‘çš„æ·±åº¦ï¼ˆçºµæ–¹å‘ï¼‰ä¹Ÿå°±æ˜¯é€’å½’çš„æ·±åº¦ï¼Œ\nå›æº¯æ¨¡æ¿void backtracking(å‚æ•°) &#123;\n    if (ç»ˆæ­¢æ¡ä»¶) &#123;//ç»ˆæ­¢æ¡ä»¶\n        å­˜æ”¾ç»“æœ;//ä¸€èˆ¬é—®é¢˜éƒ½æ˜¯åœ¨å¶å­èŠ‚ç‚¹æ”¶é›†ç»“æœï¼ˆæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼‰\n                //è€Œå­é›†é—®é¢˜æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦æ”¶é›†ç»“æœ\n        return;//æ”¶é›†å®Œç»“æœä¹‹åè¿”å›\n    &#125;\n    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;\n        å¤„ç†èŠ‚ç‚¹;\n        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’ï¼Œè¿™é‡Œæ˜¯æ·±åº¦ï¼Œå‘ä¸‹æ¢ç´¢\n        å›æº¯ï¼Œ\n        æ’¤é”€å¤„ç†ç»“æœ//ç»“æŸå¾ªç¯\n    &#125;\n&#125;\n\næ£‹ç›˜å…¸ä¸­ç‚¹ï¼šçš‡åä½ç½®c++ç›´æ¥å®Œæ•´ç‰ˆæœ¬ä»£ç ï¼šï¼ˆLeetCode ç‰ˆæœ¬ï¼‰\nclass Solution &#123;\nprivate:\nvector&lt;vector&lt;string&gt;&gt; result;\n// n ä¸ºè¾“å…¥çš„æ£‹ç›˜å¤§å°\n// row æ˜¯å½“å‰é€’å½’åˆ°æ£‹ç‰Œçš„ç¬¬å‡ è¡Œäº†\nvoid backtracking(int n, int row, vector&lt;string&gt;&amp; chessboard) &#123;\n    if (row == n) &#123;//å›æº¯åˆ°æœ€åä¸€è¡Œï¼Œè¯´æ˜æ»¡è¶³æƒ…å†µäº†\n        result.push_back(chessboard);\n        return;\n    &#125;\n    for (int col = 0; col &lt; n; col++) &#123;\n        if (isValid(row, col, chessboard, n)) &#123; // éªŒè¯åˆæ³•å°±å¯ä»¥æ”¾\n            chessboard[row][col] = &#39;Q&#39;; // æ”¾ç½®çš‡å\n            backtracking(n, row + 1, chessboard);//å†è¿›ä¸€è¡Œè¿›è¡Œæ£€éªŒ\n            chessboard[row][col] = &#39;.&#39;; // å›æº¯ï¼Œæ’¤é”€çš‡å\n        &#125;\n    &#125;\n&#125;\nbool isValid(int row, int col, vector&lt;string&gt;&amp; chessboard, int n) &#123;\n    int count = 0;\n    // æ£€æŸ¥åˆ—\n    for (int i = 0; i &lt; row; i++) &#123; // è¿™æ˜¯ä¸€ä¸ªå‰ªæ\n        if (chessboard[i][col] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    // æ£€æŸ¥ 45åº¦è§’æ˜¯å¦æœ‰çš‡å\n    for (int i = row - 1, j = col - 1; i &gt;=0 &amp;&amp; j &gt;= 0; i--, j--) &#123;//å¦ä¸€ä¸ªå‰ªæ”¯\n        if (chessboard[i][j] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    // æ£€æŸ¥ 135åº¦è§’æ˜¯å¦æœ‰çš‡å\n    for(int i = row - 1, j = col + 1; i &gt;= 0 &amp;&amp; j &lt; n; i--, j++) &#123;\n        if (chessboard[i][j] == &#39;Q&#39;) &#123;\n            return false;\n        &#125;\n    &#125;\n    return true;\n&#125;\npublic:\n    vector&lt;vector&lt;string&gt;&gt; solveNQueens(int n) &#123;\n        result.clear();\n        std::vector&lt;std::string&gt; chessboard(n, std::string(n, &#39;.&#39;));\n        backtracking(n, 0, chessboard);//æ³¨æ„è¿™é‡Œæ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥æœ€ååˆ°nï¼Œå®é™…ä¸Šä»¥åŠå¯¹nå±‚è¿›è¡Œäº†åˆ¤æ–­\n        return result;\n    &#125;\n&#125;;\n\n/*æ€»ç»“æ“ä½œæµç¨‹ï¼š\nç±»ä¼¼äºŒå‰æ ‘ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œéå†ï¼Œå®é™…å¤æ‚åº¦æ˜¯n^2ï¼Œä»å¼€å¤´ä¸€ç›´å‘ä¸‹å»¶ç”³ï¼Œå¯æ»¡è¶³æƒ…å†µè¿›è¡Œè¿”å›\n\nc++æ•°ç»„ç‰ˆæœ¬çš‡åé—®é¢˜:è€å­è‡ªå·±å†™çš„ï¼ï¼ˆåŒæ‰‹å‰è…°ï¼‰\n#include &lt;iostream&gt;\n#include&lt;vector&gt;\nusing namespace std;\nconst int maxn=9;\nint solu[maxn]=&#123;0&#125;;\nint qn[maxn]=&#123;0&#125;;\nbool isValid(int posj,int posi)//æœ€åé‚£ä¸ªposä¹Ÿå°±æ˜¯æ£‹å­çš„åæ ‡\n&#123;\n    //posi=i,posj=qn[i]\n    if(posi==0)return true;\n    for(int i=0;i&lt;posi;i++)\n    &#123;\n        if(qn[i]==posj)return false;//ç›¸åŒçš„åˆ—åˆ¤æ–­\n    &#125;\n    for(int i=posi-1;i&gt;=0;i--)//45åˆ¤æ–­\n    &#123;\n        if(posi-i==posj-qn[i])return false;\n    &#125;\n    for(int i=posi-1;i&gt;=0;i--)//135\n    &#123;\n        if(posi-i==qn[i]-posj)return false;\n    &#125;\n    return true;\n&#125;\nvoid backtracing(int n,int row)\n&#123;\n    if(row==n)&#123;//ç»ˆæ­¢äº†ï¼Œæ‰¾åˆ°äº†å…¶ä¸­ä¸€ç§è§£å†³æ–¹æ¡ˆ\n        cout&lt;&lt;&quot;bottom reached\\n&quot;;\n        cout&lt;&lt;&quot;solution:\\n&quot;;\n        for(int  i=0;i&lt;n;i++)\n        &#123;\n            cout&lt;&lt;&quot;row &quot;&lt;&lt;i+1&lt;&lt;&quot; equals to &quot;&lt;&lt;qn[i]+1&lt;&lt;&quot; \\n&quot;;\n        &#125;\n        cout&lt;&lt;&quot;go find other solution\\n\\n&quot;;\n        return;\n    &#125;\n    else&#123;\n        for(int i=0;i&lt;n;i++)//æ³¨æ„è¿™é‡Œçš„ä¼ å‚\n        &#123;\n            qn[row]=i;//rowï¼Œè¡Œå›ºå®šï¼Œåˆ—ç”¨å˜é‡iå¯¹æ¯ä¸€è¡Œè¿›è¡Œéå†ï¼Œå¦‚æœæ»¡è¶³ä¹‹å‰æ¡ä»¶è¿›å…¥ä¸‹ä¸€è¡Œ\n            if(isValid(qn[row],row))//è¯¥è¡Œè¯¥ä½ç½®èƒ½å¦æ”¾\n            &#123;\n\n                backtracing(n,row+1);//å¯ä»¥å°±ç»§ç»­å¾€ä¸‹èµ°\n\n            &#125;\n        &#125;\n    &#125;\n\n&#125;\n\nint main()\n&#123;\n    int n;\n\n    cin&gt;&gt;n;\n    backtracing(n,0);\n&#125;\n\nå›¾å½¢åŒ–æ•°æ®ç»“æ„å­¦ä¹ ï¼šæ ˆï¼šéé€’å½’æ±‰è¯ºå¡”éš¾ç‚¹ï¼šä¸èƒ½ä½¿ç”¨é€’å½’ï¼ˆå¦‚æœä½¿ç”¨é€’å½’åœ¨ç”»å›¾ä¹‹å‰ä¼šå…¨éƒ¨æ›´æ–°å®Œï¼Œæœ€ååªä¼šç»™å‡ºç»“æœï¼‰ï¼Œæ”¹æˆéé€’å½’æ–¹å¼\næœ¬è´¨ï¼šå°†é€’å½’ç»“æ„åœ¨å¾ªç¯ä¸­å®ç°\nè€å¸ˆè§£æ³•ï¼š\nå‚è€ƒåšå®¢ï¼š(99æ¡æ¶ˆæ¯) æ±‰è¯ºå¡”çš„éé€’å½’å®ç°ï¼ˆå †æ ˆï¼‰_.åˆ«æ‹–è‡³æ˜¥å¤©.çš„åšå®¢-CSDNåšå®¢_æ±‰è¯ºå¡”çš„éé€’å½’å®ç°\n![å±å¹•æˆªå›¾ 2022-10-12 155526](D:\\typora note\\å±å¹•æˆªå›¾ 2022-10-12 155526.png)\nä»£ç ä»¥åŠæ³¨é‡Šï¼š\nopsæ˜¯ç©ºæ ˆï¼Œç”¨äºä¿å­˜æŒ‡ä»¤ï¼Œå¹¶ä¸”åœ¨n&#x3D;&#x3D;1çš„æ—¶å€™æ‰è¿›è¡Œå¼¹å‡ºæ“ä½œ\nif(!ops.empty()) &#123;\n                //\n                op current = ops.top();//éç©ºèµ‹å€¼\n                ops.pop();//\n                if(current.n == 1) &#123;//æ¯ä¸€ä¸ªå¾…å¤„ç†çš„ç‰©å“æ•°é‡å˜æˆ1çš„æ—¶å€™è¿›è¡Œå¼¹æ ˆï¼Œä¸€ç›´å¼¹åˆ°ä¸æ˜¯1\n                    //\n                    // è¿™é‡Œçš„current.startç­‰ç­‰å·²ç»æ”¹å˜æˆå¯¹åº”çš„ä»£å·äº†\n                    //\n\n                    int d = stacks[current.start]-&gt;top();\n                    stacks[current.start]-&gt;pop();\n                    stacks[current.end]-&gt;push(d);\n                &#125; else &#123;\n                    //è¿™é‡Œåº”è¯¥å°±æ˜¯æ­£å¸¸éé€’å½’\n                    //å¦‚æœä¸æ˜¯1ï¼Œè¿›è¡Œåˆ†è§£,\n                    //å¦‚è¦åšåˆ°(n,a,b,c),nä¸ªä»aåˆ°c\n                    //åˆ†è§£ï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºåºè¿›æ ˆï¼ˆå½“ç„¶å¼¹å‡ºçš„æ—¶å€™å°±æ˜¯ç›¸åçš„é¡ºåºï¼‰\n                    //1:(n-1,a,c,b)\n                    //2:(1,a,b,c)\n                    //3:(n-1,b,a,c)\n                    //å› ä¸ºç¨‹åºæ‰§è¡Œè¯­è¨€æ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œä½†æ˜¯æŒ‡ä»¤å‹æ ˆåº”è¯¥æ˜¯321ï¼Œå› æ­¤æœ€åæ˜¯321\n                    //opsæ˜¯ä¸€ä¸ªå­˜å‚¨æŒ‡ä»¤çš„æ ˆ\n                    ops.push(op(current.n - 1, current.via, current.start, current.end));//3\n                    ops.push(op(1, current.start, current.via, current.end));//2\n                    ops.push(op(current.n - 1, current.start, current.end, current.via));//1\n                &#125;\n            &#125;\n\nå—å¤§å…³äºéé€’å½’çš„åº”ç”¨ï¼ˆå¯¹äºCè¯­è¨€ä½œä¸ºçŠ¶æ€æœºçš„åˆ†æè®²è§£ï¼‰\n\n\né˜Ÿåˆ—ï¼šè¿·å®«ç”ŸæˆåŠè§£å†³é‡ç‚¹è§£å†³é—®é¢˜ï¼šå›æº¯æ³•\né¡ºä¾¿è¦å­¦ä¹ çš„ç®—æ³•ï¼šè¿ªæ°æ–¯ç‰¹æ‹‰è§£æ³•ï¼ˆå¯ä»¥ç­‰ä¸€ç­‰å†çœ‹çœ‹ï¼‰\n","tags":["å­¦ä¹ ç¬”è®°"]},{"title":"è½¯ä»¶åˆ†æä¸è®¾è®¡","url":"/2023/03/08/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/","content":"å¯¼è®ºè½¯ä»¶ç”Ÿå‘½å‘¨æœŸ\n\nè½¯ä»¶å®šä¹‰\nè½¯ä»¶å¼€å‘\nè½¯ä»¶ç»´æŠ¤\n\näººå¹´&#x2F;äººæœˆï¼šå·¥ç¨‹è®¡é‡å•ä½ï¼šä¸€ä¸ªäººå¹²ä¸€å¹´&#x2F;æœˆ\nç›¸å¯¹äºå®ä½“åˆ¶é€ ä¸šï¼Œè½¯ä»¶å¼€å‘ä¸»è¦å›°éš¾ï¼šæ­£ç¡®çš„è½¯ä»¶éœ€æ±‚åˆ†æä¸æ¶æ„è®¾è®¡\nå»ºæ¨¡ï¼šå¯¹äºæŸä¸€é—®é¢˜è¿›è¡Œä¸€å®šç¨‹åº¦çš„æŠ½è±¡ä»¥æ›´å¥½ç†è§£å…¶æœ¬è´¨\nè½¯ä»¶å»ºæ¨¡ï¼šç¼–ç ä¹‹å‰å¯¹è½¯ä»¶åº”ç”¨è¿›è¡Œçš„è®¾è®¡\nUMLï¼šç»Ÿä¸€æ¨¡å‹è¯­è¨€ï¼šä¾¿äºç†è§£\nå¤šè§†å›¾å»ºæ¨¡\nç”¨ä¾‹å»ºæ¨¡ï¼šç³»ç»Ÿçš„åŠŸèƒ½æ€§éœ€æ±‚æŒ‰ç…§ç”¨ä¾‹ä¸å‚ä¸è€…è¿›è¡Œå®šä¹‰\né™æ€å»ºæ¨¡ï¼šæä¾›ç³»ç»Ÿçš„ç»“æ„åŒ–è§†å›¾ï¼Œç±»æŒ‰ç…§å…¶å±æ€§åŠå…¶ä¸å…¶å®ƒç±»çš„å…³ç³»è¿›è¡Œå®šä¹‰\nåŠ¨æ€å»ºæ¨¡ï¼šç³»ç»Ÿè¡Œä¸ºè§†å›¾ï¼Œä¸»è¦æè¿°å¯¹è±¡ä¹‹é—´çš„äº¤äº’è¡Œä¸º\nè½¯ä»¶ä½“ç³»ç»“æ„ï¼šç³»ç»Ÿçš„æ€»ä½“ç»“æ„\n\n**COMETï¼šä¸»è¦å»ºæ¨¡æ–¹æ³•ï¼ŒåŸºäºé¢å‘å¯¹è±¡ çš„æ ¸å¿ƒæ–¹æ³•ï¼šCollaborative Object Modeling **\nch1ï¼šè½¯ä»¶ç”Ÿå­˜å‘¨æœŸæ¨¡å‹ï¼ˆç¬¬ä¸‰ç« ï¼‰è½¯ä»¶ç”Ÿå­˜å‘¨æœŸï¼šå°†è½¯ä»¶æœ¬èº«è§†ä¸ºä¸æ–­è¿­ä»£çš„äº§ç‰©ï¼Œå³æ¯ä¸€ä¸ªé˜¶æ®µéƒ½æœ‰ç›¸åº”ç›®æ ‡å’Œè®¡åˆ’\nè½¯ä»¶è¿‡ç¨‹æ¨¡å‹ï¼šå¯¹äºè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„æŠ½è±¡\nå‡ ç§å¼€å‘æ¨¡å‹ï¼šç€‘å¸ƒæ¨¡å‹ï¼šæœ‰è¿­ä»£å’Œé‡å¤\næŠ›å¼ƒå‹æ¨¡å‹ï¼šå¤æ‚ç³»ç»Ÿå¼€å‘ã€‚å¯ä»¥ç†è§£ä¸ºæ¯ä¸€ä¸ªç€‘å¸ƒæ¨¡å‹çš„é˜¶æ®µéƒ½å¼€å‘ä¸€ä¸ªç›¸åº”çš„å°ç³»ç»Ÿç”¨äºæ£€éªŒè®¾è®¡æ­£ç¡®æ€§ä¸é˜æ˜ç”¨æˆ·éœ€æ±‚\næ¼”åŒ–å¼æ¨¡å‹ï¼šé¦–å…ˆå¼€å‘ä¸€ä¸ªæœ€å°ç³»ç»Ÿï¼ˆæ»¡è¶³åŸºæœ¬è¦æ±‚ï¼‰ç„¶åä¸æ–­åœ¨åŸºç¡€ä¸Šæ·»åŠ å†…å®¹ï¼ˆæƒ³æƒ³å—å¤§æ“ä½œç³»ç»Ÿè¯¾ç¨‹çš„è¯´æ³•ï¼ŒæŒ‰ç…§æ‰€éœ€å†…å®¹å¼€å‘ä¸€ä¸ªæœ€å°çš„æ ¸å¿ƒç„¶åä¸æ–­æ·»åŠ å†…å®¹ï¼‰ä¸­çº§å®è®­å®é™…å°±å¯ä»¥è€ƒè™‘è¿™ç§æ–¹æ³•\nèºæ—‹æ¨¡å‹ï¼šå¼ºè°ƒé£é™©åˆ†æ\nUSDPï¼šç»Ÿä¸€è½¯ä»¶å¼€å‘è¿‡ç¨‹\nè½¯ä»¶éªŒè¯å’Œç¡®è®¤ï¼š\nSQAï¼šè½¯ä»¶æµ‹è¯•ï¼Ÿ\nè½¯ä»¶æµ‹è¯•ï¼šå•å…ƒæµ‹è¯•ï¼š\né›†æˆæµ‹è¯•ï¼š\nç³»ç»Ÿæµ‹è¯•ï¼šå‹åŠ›æµ‹è¯•ç­‰ç­‰ï¼ˆå¦‚webåº”ç”¨å¦‚ä½•å¤„ç†å¤§é‡è¯·æ±‚ï¼‰\n3.8æ—¥é—®é¢˜ï¼š\n\näº‹ä»¶åŒæ­¥æ˜¯å¼‚æ­¥çš„æ€ä¹ˆç†è§£ï¼Ÿ\n\nå³å‘å‡ºæ¶ˆæ¯ä¹‹åæ˜¯å¦éœ€è¦ç­‰å¾…\nå¦‚ç½‘ç»œè¿æ¥ä¹‹åå‘é€è¯·æ±‚ï¼Œéœ€è¦å‘é€æ–¹å‘æ¥æ”¶æ–¹å‘é€è¯·æ±‚ï¼Œæ¥å—æ–¹å†å›å¤ï¼Œè¿™éœ€è¦ç«‹åˆ»æ‰§è¡Œï¼Œå±äºåŒæ­¥\nå¦‚èŠå¤©ï¼Œä¸€æ–¹è¯´è¯ï¼Œä¸€æ–¹ä¸éœ€è¦ç«‹åˆ»å›å¤ï¼Œå±äºå¼‚æ­¥\n\n\nç”Ÿäº§è€…&#x2F;æ¶ˆè´¹è€…é—®é¢˜ä¸ºä½•ä¸éœ€è¦äº‹ä»¶åŒæ­¥+ \n\nç³»ç»Ÿéœ€æ±‚ä¸éœ€æ±‚åˆ†æçš„å·®åˆ«\n\néœ€æ±‚åˆ†æï¼šé€è¿‡è°ƒç ”é—®å·ã€è®¿è°ˆç­‰æ–¹å¼ï¼ŒæŒ–æ˜å®¢æˆ·æ‰€æè¿°éœ€æ±‚èƒŒåçš„ç®¡ç†è¯‰æ±‚å’Œè¦è§£å†³çš„é—®é¢˜â€˜\n**ç³»ç»Ÿåˆ†ææ˜¯åœ¨éœ€æ±‚åˆ†æçš„åŸºç¡€ä¸Šï¼ŒæŠ“å¤§æ”¾å°ï¼Œé’ˆå¯¹å®¢æˆ·æ ¸å¿ƒä»·å€¼è¯‰æ±‚ï¼Œç»“åˆå·¥å…·å’Œæ–¹æ³•é€æ­¥*å‹¾å‹’å’Œç»†åŒ–è§£å†³æ–¹æ¡ˆçš„è¿‡ç¨‹*ã€‚\n\n\næ¶ˆæ¯ä¸äº‹ä»¶\n\n\nå¼‚æ­¥æ¶ˆæ¯é€šä¿¡ï¼š\n\næ¾è€¦åˆçš„æ¶ˆæ¯é€šä¿¡ï¼Œå†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´å¯ä»¥å»ºç«‹ä¸€æ¡æ¶ˆæ¯é˜Ÿåˆ—\n\nè½¯ä»¶æ¨¡å¼ç»å¸¸å‡ºç°é—®é¢˜ï¼šé‡å¤é€ è½®å­\nè½¯ä»¶æ¨¡å¼ï¼š\n\nä½“ç³»ç»“æ„\n\nå®šä¹‰ä¸€ä¸ªç³»ç»Ÿä¸­ä¸»è¦å­ç³»ç»Ÿçš„ç»“æ„\n\n\nåˆ†ææ¨¡å¼ï¼š\n\né‡‡ç”¨é™æ€æ¨¡å‹\n\n\nè®¾è®¡æ¨¡å¼ï¼šæè¿°é‡å¤å‡ºç°çš„è®¾è®¡é—®é¢˜ï¼Œå¯¹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆä»¥åŠè§£å†³æ–¹æ¡ˆå·¥ä½œçš„ä¸Šä¸‹æ–‡ï¼ˆå»è¯»å¤§è¯è®¾è®¡æ¨¡å¼ï¼‰\n\nå±äºä¸€ç§æ¯”ç±»ç²’åº¦æ›´å¤§çš„ä½¿ç”¨æ–¹å¼\n\n\nä¹ æƒ¯ç”¨æ³•\n\né’ˆå¯¹ç‰¹å®šç¼–ç¨‹è¯­è¨€çš„è®¾è®¡æ¨¡å¼\nå¦‚ï¼š\nCä¸C++åå‘åº•å±‚ï¼Œä½†æ˜¯åŒæ—¶å†…å­˜ç®¡ç†å·®ï¼Œè‡ªå·±å¯ä»¥åšåˆ°çš„ä¸œè¥¿å¤šï¼Œè¿è¡Œé€Ÿåº¦å¿«\nGoï¼šåƒåœ¾å›æ”¶æœºåˆ¶å®Œæ•´ï¼Œé€‚åˆå¹¶å‘ï¼ŒæœåŠ¡å™¨ä¸äº‘çš„æ„å»º\nJavascript:ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œä½†æ˜¯æŒ‡ç½‘é¡µä¸­çš„äº‹ä»¶\n\n\n\n\n\næ„ä»¶ï¼š\n\nå®šä¹‰ï¼šè‡ªåŒ…å«çš„ï¼Œä¸”å…·æœ‰è‰¯å¥½å®šä¹‰æ¥å£çš„å¯¹è±¡\n\né“¾æ¥å™¨ï¼š\n\nå°è£…å¤šä¸ªæ„ä»¶ä¹‹é—´çš„äº’è¿åè®®\n\nè½¯ä»¶è´¨é‡å±æ€§\nå®šä¹‰ï¼šè½¯ä»¶çš„è´¨é‡éœ€æ±‚ï¼Œä¹Ÿç§°ä¸ºéåŠŸèƒ½æ€§éœ€æ±‚\nåŒ…æ‹¬ï¼š\nå¯ç»´æŠ¤æ€§ï¼šéƒ¨ç½²ä¹‹åèƒ½å¤Ÿè¢«æ›´æ”¹çš„ç¨‹åº¦\nå¯ä¿®æ”¹æ€§ï¼šæœ€åˆå¼€å‘æœŸé—´å’Œæœ€åˆå¼€å‘ä¹‹åèƒ½å¤Ÿè¢«ä¿®æ”¹çš„æˆéƒ½\nå¯æµ‹è¯•æ€§ï¼šèƒ½å¤Ÿè¢«æµ‹è¯•çš„ç¨‹åº¦\nå¯è¿½è¸ªæ€§ï¼šæ¯ä¸ªé˜¶æ®µäº§å“èƒ½å¤Ÿè¢«è¿½æº¯åˆ°ä¸Šä¸€é˜¶æ®µäº§å“çš„ç¨‹åº¦\nå¯ä¼¸ç¼©æ€§ï¼šé’ˆå¯¹ç”¨æˆ·é‡å¢é•¿æ—¶å¦‚ä½•å¿«é€Ÿåº”å¯¹\nå¯å¤ç”¨æ€§ï¼šä¹‹åçš„ç³»ç»Ÿä¹Ÿå¯ä»¥ä½¿ç”¨\næ€§èƒ½ï¼šååé‡ï¼Œå“åº”é€Ÿåº¦ç­‰\nå®‰å…¨æ€§ï¼šæŠµå¾¡å®‰å…¨å¨èƒçš„ç¨‹åº¦\nå¯ç”¨æ€§ï¼šèƒ½å¤Ÿè§£å†³ç³»ç»Ÿå¤±æ•ˆé—®é¢˜çš„ç¨‹åº¦ï¼ˆæŸä¸ªæ¨¡å—å¤±æ•ˆäº†èƒ½ä¸èƒ½å¿«é€Ÿé¡¶ä½ï¼‰\n\n\n\næ€»ç»“ï¼š\nå¯¹è±¡ ï¼Œç±»ï¼Œä¿¡æ¯éšè—ï¼Œé›†æˆ\nä¸»åŠ¨å¯¹è±¡ï¼Œè¢«åŠ¨å¯¹è±¡\né¡ºåºåº”ç”¨ï¼Œå¹¶å‘åº”ç”¨\n\nè½¯ä»¶ä½“ç³»ç»“æ„COMETï¼šå†™ä½œçš„å¯¹è±¡å»ºæ¨¡å’Œè®¾è®¡æ–¹æ³•\nå·®å¼‚æ¦‚å¿µï¼šç”¨æˆ·ä¸å®¢æˆ·\n\nç”¨æˆ·ï¼šè½¯ä»¶é¢å¯¹çš„äººï¼ˆå¦‚ä½¿ç”¨èŠå¤©ç³»ç»Ÿçš„äººï¼‰\nå®¢æˆ·ï¼šå‘èµ·ç³»ç»Ÿæ„å»ºçš„äººï¼ˆå³ç”²æ–¹çˆ¸çˆ¸ï¼‰ï¼Œå¦‚æå‡ºè¦æ±‚æ„å»ºä¸€ä¸ªèŠå¤©ç³»ç»Ÿ\n\nç”¨ä¾‹ï¼š\n\nå‚ä¸è€…ä¸ç”¨æˆ·äº¤äº’\n\néœ€æ±‚å»ºæ¨¡ï¼šå¼€å‘éœ€æ±‚æ¨¡å‹\nåˆ†ææ¨¡å‹ï¼šçŠ¶æ€å›¾\n\nå¦‚å¯¹äºå„ç§å¯èƒ½çš„æ“ä½œåº”å½“æœ‰æ€æ ·çš„è¾“å‡ºå›å¤\n\nè®¾è®¡å»ºæ¨¡\nè®¾è®¡ç³»ç»Ÿçš„ä½“ç³»ç»“æ„\n\næ„å»ºè½¯ä»¶ä¸ç¡¬ä»¶å…³ç³»\næ„ä»¶ä¸ç›¸å…³çš„é“¾æ¥å…³ç³»ç¡®å®š\n\n\né—®é¢˜åŸŸçš„åˆ†ææ¨¡å‹æ˜ å°„åˆ°è§£åŸŸçš„è®¾è®¡æ¨¡å‹\n\næä¾›å­ç³»ç»Ÿç»„ç»‡å‡†åˆ™å°†ç³»ç»Ÿç»„ç»‡ä¸ºå­ç³»ç»Ÿ\n\nå­ç³»ç»Ÿè®¾è®¡\n\né¡ºåºç³»ç»Ÿ\nä¿¡æ¯éšè—\nç±»\nç»§æ‰¿\n\n\nå¹¶å‘ç³»ç»Ÿï¼ˆå¦‚å®æ—¶ï¼Œå®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨å’Œåˆ†å¸ƒå¼åº”ç”¨ï¼Œå¦‚é¡¹ç›®éƒ¨ç½²å¤šä¸ªæœºå™¨ï¼‰\né¢å¤–è€ƒè™‘å¹¶å‘ä»»åŠ¡\n\n\nç›®çš„ï¼šå­ç³»ç»Ÿå¯¹äºæ„ä»¶ä¸é“¾æ¥å…³ç³»çš„ç¡®å®š\n\n\n\nå¢é‡è½¯ä»¶é›†æˆè½¯ä»¶æµ‹è¯•\n\né›†æˆæµ‹è¯•ï¼ˆæµ‹è¯•å¥½çš„æ„ä»¶è¿›è¡Œç»„åˆï¼Œå±äºç™½ç›’æµ‹è¯•ï¼Œä¹Ÿåœ¨æ„æ•´ä½“æ„å»ºæ–¹å¼ï¼‰\nç³»ç»Ÿæµ‹è¯•ï¼ˆé»‘ç›’æµ‹è¯•ï¼Œåªç®¡æµ‹è¯•è¾“å…¥ä¸è¾“å‡ºæ˜¯å¦å¯¹åº”ï¼‰\n\næµ‹è¯•ç§ç±»\n\nç³»ç»Ÿæµ‹è¯•ï¼ˆåŠŸèƒ½æµ‹è¯•ï¼‰\nå‹åŠ›æµ‹è¯•ï¼ˆå¦‚æŸä¸€æ—¶åˆ»çš„å¤§é‡æ•°æ®è¾“å…¥ï¼‰\næ€§èƒ½æµ‹è¯•ï¼ˆååé‡ç­‰ç­‰ï¼‰\n\nCOMET   USDPCOMETçš„æ¯ä¸€ä¸ªé˜¶æ®µéƒ½å¯¹åº”USDPçš„ä¸€ä¸ªå·¥ä½œæµ\néœ€æ±‚ï¼Œåˆ†æä¸è®¾è®¡å»ºæ¨¡\n\nç”¨ä¾‹å»ºæ¨¡\né™ˆè¿°éåŠŸèƒ½æ€§éœ€æ±‚\n\nåˆ†æå»ºæ¨¡çš„æ´»åŠ¨\n\né‡ç‚¹åœ¨äºé—®é¢˜ç†è§£ï¼Œæ ‡è¯†é—®é¢˜åŸŸçš„å¯¹è±¡ä¸å¯¹è±¡é—´ä¼ é€’çš„ä¿¡æ¯\n\nè®¾è®¡å»ºæ¨¡çš„æ´»åŠ¨\né›†æˆå¯¹è±¡é€šä¿¡æ¨¡å‹\nå­ç³»ç»Ÿç»“æ„ä¸æ¥å£çš„å†³ç­–\nç±»æ¥å£çš„å†³ç­–\næ¶ˆæ¯ç‰¹æ€§çš„å†³ç­–\n\n3.10éœ€æ±‚&#x3D;åŠŸèƒ½éœ€æ±‚+ è´¨é‡éœ€æ±‚+çº¦æŸ\nITç³»ç»Ÿ\nç¡¬ä»¶\næ“ä½œç³»ç»Ÿ\né€šä¿¡åè®®ï¼Œ\nè½¯ä»¶å±‚é¢\n\nå¯å¦ç†è§£ä¸ºï¼š\n\nä¸Šä¸‹æ–‡æ˜¯å¼€å‘ä¸€ä¸ªè½¯ä»¶&#x2F;ç³»ç»Ÿ&#x2F;é¡¹ç›®æ‰€æœ‰éœ€è¦è€ƒè™‘çš„æ–¹é¢\nåˆ»é¢æ˜¯ä¸Šä¸‹æ–‡çš„ç»„æˆéƒ¨åˆ†ï¼Œå…·ä½“ç»†åˆ†\nå†ç”±åˆ»é¢è¿›ä¸€æ­¥åˆ†æéœ€è¦çš„æŠ€æœ¯&#x2F;ä¿¡æ¯ï¼Œç¡®è®¤å¼€å‘æ–¹å¼ï¼ŒæŠ€æœ¯ï¼Œåè®®\n\n","tags":["å­¦ä¹ ç¬”è®°"]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³• PART 1","url":"/2023/03/10/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/","content":"æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šPART1\nç®—æ³•æ—¶é—´åˆ†æï¼šhttps://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF\nç†è§£idx:æˆ‘æ„Ÿè§‰idxç›¸å½“äºä¸€ä¸ªåˆ†é…å™¨ï¼Œå¦‚æœéœ€è¦åŠ å…¥æ–°çš„ç»“ç‚¹å°±ç”¨++idxåˆ†é…å‡ºä¸€ä¸ªä¸‹æ ‡ï¼ˆæœ€ä¸»è¦å¯ä»¥åšåˆ°ä¸é‡å¤åœ°é‡æ–°åˆ†é…ä¸‹æ ‡ï¼‰\nAcWing 835. å¦‚ä½•ç†è§£å•(åŒ)é“¾è¡¨ï¼ŒTrieæ ‘å’Œå †ä¸­çš„idxï¼Ÿ - AcWing\n\næ‰€æœ‰æ•°æ®ç»“æ„ å­¦ä¹ çš„åŒæ—¶ä¸€å®šè¦ç†è§£è¯¥ç§æ•°æ®ç»“æ„çš„ä½¿ç”¨èŒƒå›´ï¼Œå¹²ä»€ä¹ˆçš„&#x2F;\nç§‘ç­å­¦ä¹ é¡ºåºï¼šï¼ˆå¦‚ä½•é€æ­¥æé«˜å†™ç¨‹åºçš„æ€§èƒ½ï¼‰åŸºç¡€ç¨‹åºè®¾è®¡-&gt;æ•°æ®ç»“æ„ä¸ç®—æ³•-&gt;æ“ä½œç³»ç»Ÿ-&gt;ç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼ˆç¼–è¯‘åŸç†ï¼‰\næé«˜ç¨‹åºæ€§èƒ½åŠæ³•ï¼šå¥½çš„ç®—æ³•ï¼šæ­£ç¡®æ€§ï¼Œå¯è¯»æ€§ï¼Œå¥å£®æ€§ï¼Œæ•ˆç‡\nç¨‹åºè¿è¡Œæ—¶é—´å› ç´ \næ‰€ç”¨ç®—æ³•\né—®é¢˜çš„è§„æ¨¡\nä¹¦å†™ç¨‹åºæ‰€ç”¨è¯­è¨€-&gt;çº§åˆ«è¶Šé«˜æ•ˆç‡è¶Šä½\nç¼–è¯‘ç¨‹åºæ‰€ç”¨çš„æœºå™¨(macæ¯”windowså¿«)\næœºå™¨æ‰§è¡Œæ‰€ç”¨çš„é€Ÿåº¦ï¼ˆæ¶‰åŠåˆ°ç¡¬ä»¶ï¼Œæ¯”å¦‚è€ç”µè„‘å’Œæ–°ç”µè„‘ï¼‰\n\nç®—æ³•æ—¶é—´åº¦é‡ï¼šä¸ºäº†å®ŒæˆæŸä¸€é—®é¢˜æœºå™¨æ‰€åšçš„æ“ä½œæ‰§è¡Œæ¬¡æ•°\nç»Ÿè®¡æ–¹æ³•ï¼šå†™ä»£ç å‰&#x2F;å†™ä»£ç å\nint i, sum=0, n=100;//æ‰§è¡Œ1æ¬¡\nfor(i=1;i&lt;=n;i++)//æ‰§è¡Œn+1æ¬¡\n&#123;\nsum+=i;//æ‰§è¡Œnæ¬¡\n&#125;\ncout&lt;&lt;sum;//æ‰§è¡Œnæ¬¡\n\nå†¯è¯ºä¾æ›¼æ¶æ„I&#x2F;O&lt;-&gt;ä¸­å¤®å­˜å‚¨å•å…ƒ&lt;-&gt;\nCPU:è§£ææŒ‡ä»¤\nå†…å­˜ï¼šå­˜å‚¨æŒ‡ä»¤å’Œæ•°æ®\nç¨‹åºå¤§å°ç›¸å¯¹ä¸é‡è¦ï¼Œæ‰§è¡Œæ“ä½œä¸æ•°æ®é‡è¦\nç©ºé—´å¤æ‚åº¦ï¼šé€šè¿‡è®¡ç®—ç®—æ³•æ‰€åˆ›å»ºçš„ç©ºé—´å¤§å°ã€‚\nåŸºç¡€ç®—æ³•ä½è¿ç®—æ±‚nçš„ç¬¬kä½æ•°å­—: n &gt;&gt; k &amp; 1\nè¿”å›nçš„æœ€åä¸€ä½1ï¼šlowbit(n) = n &amp; -n\n\nå¿«æ’â€”â€”ã€‹é‡è¦ï¼Œé¢è¯•å¸¸ç”¨å‹ğŸ˜å¿«æ’æœ¬è´¨å°±æ˜¯ä½¿ç”¨åˆ†æ²»æ€æƒ³ï¼Œé€’å½’å®ç°\næœ€å¿«onlognï¼Œæœ€æ…¢oN2\næ­¥éª¤ï¼š\n\nç¡®å®šåˆ†ç•Œç‚¹\nè°ƒæ•´èŒƒå›´ï¼ˆæœ€éº»çƒ¦éƒ¨åˆ†ï¼‰\nå¯¹å·¦å³ä¸¤è¾¹è¿›è¡Œæ“ä½œ\n\næ¨¡æ¿ï¼švoid quick_sort(int q[], int l, int r)//è®°ä½å¼€å¤´ä¸å˜ï¼Œæœ€åå³è¾¹æ˜¯j+1\n&#123;\n    if (l &gt;= r) return;//å·¦å³æŒ‡é’ˆç›¸é‡æ—¶å€™è¿”å›\n\n    int i = l - 1, j = r + 1, x = q[l + r &gt;&gt; 1];//è¿™é‡Œxæš‚æ—¶è®¾å®šä¸ºå·¦å³è¾¹ç•Œçš„ä¸­é—´å€¼ï¼ŒåŸå› åœ¨äºåè¾¹æ˜¯do whileæŒ‡ä»¤ï¼Œå› æ­¤æå‰ijå„å¾€å¤–ç§»åŠ¨ä¸€ä¸ªä½ç½®\n     //ç¬¬ä¸€æ­¥ï¼šåˆ†æˆå­é—®é¢˜\n    while (i &lt; j)\n    &#123;//æ³¨æ„è¿™ä¸ªé¡ºåºä¸€å®šä¸èƒ½é”™\n        do i ++ ; while (q[i] &lt; x);\n        do j -- ; while (q[j] &gt; x);\n        //å®¹æ˜“é”™çš„ç‚¹ï¼šè¦åœ¨è¿™é‡Œæ‰“ä¸€ä¸ªif\n        if (i &lt; j) swap(q[i], q[j]);//swapå‡½æ•°è‡ªå·±è¡¥å……ï¼Œè¿™é‡Œijå¯ä»¥ç›¸ç­‰\n    &#125;//è¿™æ ·æ“ä½œè¿‡ä¸€è½®ä¹‹åxå·¦è¾¹éƒ½æ˜¯æ¯”å®ƒå°çš„ï¼Œå³è¾¹éƒ½æ˜¯æ¯”å®ƒå¤§çš„\n    //ç¬¬äºŒæ­¥ï¼šé€’å½’å¤„ç†å­é—®é¢˜\n    \n    \n    \n    quick_sort(q, l, j), quick_sort(q, j + 1, r);//è¿™é‡Œä¸€å®šä¸€å®šæ˜¯jï¼Œiä¼šå‡ºé—®é¢˜\n    \n    \n    \n    //è¿™é‡Œä¸¤æ­¥çš„é¡ºåºä¸€å®šä¸€å®šè®°ä½ï¼Œä¸ç„¶å¯èƒ½æ— é™åˆ’åˆ†\n    //æ¥ç€å¯¹å®ƒå·¦å³ä¸¤ç«¯è¿›è¡ŒåŒæ ·ä¸€æ¬¡çš„æ“ä½œï¼Œé€’å½’åˆ°æœ€åå°±æ˜¯å…¨éƒ¨å®Œæˆæ’åº\n    //ç¬¬ä¸‰æ­¥ï¼šå­é—®é¢˜åˆå¹¶.å¿«æ’è¿™ä¸€æ­¥ä¸éœ€è¦æ“ä½œï¼Œä½†å½’å¹¶æ’åºçš„æ ¸å¿ƒåœ¨è¿™ä¸€æ­¥éª¤\n&#125;\n\nä½¿ç”¨è¯´æ˜ï¼š\nå¦‚åŸæœ¬ä¸ºa[10]ï¼Œæ•°æ®ä¸ºa[0]-a[9];\nåˆ™æ’åºä¸º\n    quick_sort(a, 0, 9);//æ³¨æ„è¿™é‡Œå¾ˆå®¹æ˜“é”™è¯¯å¼„èŒƒå›´\n\nå¿«æ’åˆç†æ€§åˆ†æï¼šAcWing 785. å¿«é€Ÿæ’åºç®—æ³•çš„è¯æ˜ä¸è¾¹ç•Œåˆ†æ - AcWingç”±äºä½¿ç”¨do-whileå¾ªç¯,æ‰€ä»¥iå’Œjä¸€å®šä¼š!!!è‡ªå¢!!!,ä½¿å¾—å¾ªç¯ä¼šç»§ç»­ä¸‹å»,ä½†æ˜¯å¦‚æœé‡‡ç”¨whileå¾ªç¯(iå’Œjçš„åˆå§‹åŒ–åšå‡ºå¯¹åº”çš„å˜æ›´),iå’Œjåœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¸è‡ªå¢çš„è¯,å¾ªç¯å°±ä¼šå¡æ­»\nè¾¹ç•Œé—®é¢˜ï¼š\nå¿«æ’å±äºåˆ†æ²»ç®—æ³•ï¼Œæœ€æ€•çš„å°±æ˜¯ nåˆ†æˆ0å’Œnï¼Œæˆ– nåˆ†æˆnå’Œ0,è¿™ä¼šé€ æˆæ— é™åˆ’åˆ†\nwhile(q[i] &lt; x) i++;\n  while(q[j] &gt; x) j--;\nå½“q[i]å’Œq[j]éƒ½ä¸º x æ—¶, i å’Œ j éƒ½ä¸ä¼šæ›´æ–°,å¯¼è‡´ while é™·å…¥æ­»å¾ªç¯\n\nå•å‘ç§»åŠ¨ç‰ˆæœ¬å¿«æ’ï¼ˆå®é™…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰int partition(int arr[], int low, int high)\n &#123;\n    int pivot = arr[low]; // å¾…æ¯”è¾ƒçš„åŸºå‡†å…ƒç´ \n    int i = low;\n    for (int j = low + 1; j &lt;= high; j++) \n    &#123; if (arr[j] &lt; pivot) \n        &#123; i++; \t\t//æœ€ç»ˆiåœç•™çš„ä½ç½®æ˜¯è¦äº¤æ¢çš„ä½ç½®\n             swap(arr[i], arr[j]);\n        &#125;\n    &#125; \n    swap(arr[i], arr[low]); \n    return i;\n&#125;\nvoid quickSort(int arr[], int low, int high) &#123;\n    if (low &lt; high) &#123; \n        int pi = partition(arr, low, high);\n        quickSort(arr, low, pi - 1); \n        quickSort(arr, pi + 1, high);\n        &#125;\n&#125;\n\n/*\nè¿™ç§æ’åºå®é™…ä¸Šå°†æ•°ç»„åˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ¯”pivotå°ï¼Œpivotï¼Œæ¯”pivotå¤§ï¼Œå› æ­¤åˆ†æ²»éƒ¨åˆ†åªéœ€è¦å¯¹äºpi-1å’Œpi+1è¿›è¡Œæ“ä½œå°±è¡Œ\n*/\n\nè¿è¡Œé€»è¾‘ï¼šæŒ‡é’ˆjè¿è¡Œå¿«ï¼Œiè¿è¡Œæ…¢ï¼Œjåªä¼šåœ¨é‡åˆ°æ¯”åŸºå‡†å…ƒç´ å¤§çš„æ—¶å€™è·³è¿‡\næ­£å¸¸æµç¨‹ï¼šå¦‚æœjæŒ‡å‘çš„éƒ½æ˜¯æ¯”pivotå°çš„å…ƒç´ ï¼ŒjiåŒæ­¥è¿åŠ¨ï¼ŒæŒ‡é’ˆä¸€ç›´å‘å³èµ°\n\nå¦‚æœjå³è¾¹æ˜¯æ¯”pivotå¤§çš„å…ƒç´ ï¼Œå³iå³è¾¹ç´§æŒ¨ç€å°±æ˜¯æ›´å¤§çš„å…ƒç´ ï¼Œjè·³è¿‡ï¼Œiåœç•™ä¸ç§»åŠ¨\n\nç„¶åè®©i++ï¼Œåˆšå¥½å°±åˆ°äº†å¤§çš„å…ƒç´ ï¼Œè¿›è¡Œäº¤æ¢\nç»“æŸæƒ…å†µï¼šjéå†å®Œæˆï¼Œiæœ€åå³ç§»ä¸€æ¬¡ï¼Œåœæ­¢\n\næ¥ç€å°±æ˜¯åˆ†æ²»äº†\næ’å…¥æ’åºvoid insertionSort(int arr[], int n) &#123;\n\nint i, key, j; \n    for (i = 1; i &lt; n; i++) \n    &#123;\n        key = arr[i];\n        j = i - 1;\n// å¦‚æœå¤§äºkeyéœ€è¦å‘åç§»åŠ¨ä¸€ä½\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key)\n        &#123;//ç›´æ¥æ’å…¥æ˜¯ä¸€ç›´æ’å…¥åˆ°å¯¹æ¯”ç»“æŸ\n            arr[j + 1] = arr[j]; j = j - 1;\n        &#125; \n        arr[j + 1] = key;\n&#125;\n&#125;\n\nplus:æŠ˜åŠæ’å…¥æ’åºï¼ˆæ’å…¥+äºŒåˆ†ï¼‰â€”â€”ã€‹ç¨³å®šåˆå¥½ä½¿ä»£ç ï¼šint binarySearch(int a[], int item, int low, int high) \n&#123; \n    if (high &lt;= low) &#123; return (item &gt; a[low]) ? (low + 1) : low;&#125; \n     int mid = (low + high) / 2; \n    if (item == a[mid]) &#123; return mid + 1;&#125;\n    if (item &gt; a[mid]) &#123; return binarySearch(a, item, mid + 1, high);&#125;\n    return binarySearch(a, item, low, mid - 1);\n\n&#125;//äºŒåˆ†æœç´¢éƒ¨åˆ†\n//æ³¨æ„äºŒåˆ†ä¸€å®šæœ‰è§£ï¼Œä½†æ˜¯ç­”æ¡ˆä¸ä¸€å®šæœ‰è§£\nvoid insertionSort(int a[], int n) \n&#123;\n    int i, loc, j, k, selected; \n    for (i = 1; i &lt; n; ++i) \n    &#123;\n         j = i - 1;\n        selected = a[i];\n        // å¯»æ‰¾åº”è¯¥æ’å…¥çš„ä½ç½®\n        loc = binarySearch(a, selected, 0, j);\n        //è¿™é‡Œç›´æ¥æ‰¾åˆ°ï¼Œåé¢çš„whileå¾ªç¯å°±ä¸éœ€è¦å†è€ƒè™‘å¯¹æ¯”ï¼Œç›´æ¥ä¸Šå°±è¡Œ\n        // ç§»åŠ¨åé¢æ‰€æœ‰çš„æ•°æ®\n        while (j &gt;= loc) \n        &#123; \n            a[j + 1] = a[j];\n             j--;\n        &#125;\n        a[j + 1] = selected;\n    &#125;\n\n&#125;\n\nå¸Œå°”æ’åºæ¨¡æ¿int shellSort(int arr[], int n) &#123;\n// ä»å¤§gapå¼€å§‹ï¼Œé€æ­¥å‡å°‘gap\nfor (int gap = n / 2; gap &gt; 0; gap /= 2) \n    &#123; \n        for (int i = gap; i &lt; n; i += 1) \n        &#123;\n// i æ˜¯ç›´æ¥æ’å…¥æ’åºç®—æ³•ä¸­å¾…æ’å…¥çš„å…ƒç´ int temp = arr[i];\n// å‘å‰æŸ¥æ‰¾ï¼Œå¹¶åŒæ—¶ç§»ä½\n            int j;\n            for (j = i; j &gt;= gap &amp;&amp; arr[j - gap] &gt; temp; j -= gap) \n            &#123; \n                arr[j] = arr[j - gap];\n            &#125;\n// æŠŠiå…ƒç´ æ”¾å…¥åˆé€‚çš„ä½ç½®\n            arr[j] = temp;\n        &#125;\n    &#125; \n    return 0;\n&#125;\n\nå½’å¹¶æ’åºï¼ˆå¦ä¸€ä¸ªé‡è¦æ’åºï¼Œä¹ŸèƒŒä¸‹æ¥ï¼‰ğŸ˜ƒä¸å¤ªå¥½çš„ç‚¹ï¼šå½’å¹¶æ’å®¹æ˜“çˆ†å†…å­˜\næ¨¡æ¿ï¼švoid merge_sort(int q[], int l, int r)\n&#123;\n    if (l &gt;= r) return;//æœ€åæ‹†åˆ†æˆå•å…ƒç´ çš„æ—¶å€™å°±è¿”å›\n    int mid = l + r &gt;&gt; 1;//äºŒåˆ†\n    \n    merge_sort(q, l, mid);\n    merge_sort(q, mid + 1, r);\n//ä»¥ä¸Šå…ˆç–¯ç‹‚äºŒåˆ†ï¼Œå°†æ•´ä¸ªæ•°ç»„å…¨éƒ¨æ‹†åˆ†æˆæœ€å°éƒ¨åˆ†ï¼Œç„¶åä¸‹é¢éƒ¨åˆ†å¼€å§‹é€’å½’åˆå¹¶\n    int k = 0, i = l, j = mid + 1;\n       åˆ†åˆ«ä½œç”¨ï¼š\n        kç”¨äºtmpæ•°ç»„ï¼Œå› æ­¤ä»0å¼€å§‹\n        iä»æœ€å·¦ï¼Œjä»ä¸­é—´å¼€å§‹å‘å³\n    \n    \n    while (i &lt;= mid &amp;&amp; j &lt;= r)//è¿™é‡Œç”±äºé€’å½’ï¼Œæ¯ä¸€ä¸ªå°æ•°ç»„éƒ½å½’å¹¶å¥½äº†ï¼Œå½’å¹¶æœ€åçš„å¤§æ•°ç»„\n        if (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];//å½’å¹¶ï¼Œç»“æœåˆå¹¶åˆ°tmpï¼Œ\n        else tmp[k ++ ] = q[j ++ ];\n\n    while (i &lt;= mid) tmp[k ++ ] = q[i ++ ];//èµ‹å€¼å‰©ä¸‹çš„i\n    while (j &lt;= r) tmp[k ++ ] = q[j ++ ];//èµ‹å€¼å‰©ä¸‹çš„j\n\n    for (i = l, k = 0; i &lt;= r; i ++, k ++ ) q[i] = tmp[k];\n    kä»£è¡¨ä¸´æ—¶æ•°ç»„çš„å€¼\n      \n    \n    //èµ‹å€¼å›å»ï¼Œä½¿å¾—qåŒæ­¥å˜å¾—æœ‰åºï¼Œç”¨äºå°æ•°ç»„é€’å½’å›å»ç”¨\n    //æ†‹æƒ³ç€çœå»è¿™ä¸€æ­¥ï¼Œä¸ç„¶å°æ•°ç»„æ— æ³•è¢«å¼„æˆæœ‰åºï¼Œæœ€åå½’å¹¶ä¼šå¤±è´¥\n&#125;\n\nä½¿ç”¨ä¸¾ä¾‹ï¼š\nå‡ ä¸ªæ³¨æ„ç‚¹ï¼š\n\ntmpä¸€å¼€å§‹å°±å£°æ˜ï¼ˆä¸ç„¶çˆ†å†…å­˜ï¼‰\nmergeé‡Œé¢j&#x3D;mid+1ï¼ˆè¿™é‡Œå¼„é”™ä¹‹åæ’åºéƒ½ä¸å¯¹åŠ²ï¼‰\nmergeå‡½æ•°ä¸­iä¸jçš„èŒƒå›´è®°å¾—åˆ«è¢«é”™\n\n#include&lt;iostream&gt;\nusing namespace std;\nconst int N=1e5+10;\nint array[N];\nint tmp[N];\nvoid merge(int l,int r)\n&#123;\n    int mid=(l+r)/2;\n    int k=0,i=l,j=mid+1;//jçš„èµ‹å€¼å®¹æ˜“ä¸å¯¹åŠ²\n    while(i&lt;=mid&amp;&amp;j&lt;=r)\n    &#123;\n        if(array[i]&lt;=array[j])tmp[k++]=array[i++];//è¿™é‡Œåˆ¤æ–­çš„æ—¶å€™è¿˜æ˜¯åŠ â€˜=â€™\n        else tmp[k++]=array[j++];\n    &#125;\n    while(i&lt;=mid)&#123;tmp[k++]=array[i++];&#125;\n    while(j&lt;=r)&#123;tmp[k++]=array[j++];&#125;\n    for(i=l,j=0;i&lt;=r;i++,j++)//è¿™é‡Œçš„èŒƒå›´ä¹Ÿå®¹æ˜“ææ··\n    &#123;//æ³¨æ„å½’å¹¶æ’åºä¸­æ‰€æœ‰éƒ½æ˜¯&lt;=\n        array[i]=tmp[j];\n    &#125;\n&#125;\nvoid mergesort(int l,int r)\n&#123;\n    if(l&gt;=r)return;\n    int i=l-1;\n    int j=r+1;\n    int mid=(i+j)/2;//è¿™é‡Œæœ‰ä¸€ä¸ªç‰¹åˆ«ç‹ çš„äºŒåˆ†\n    \n    mergesort(l,mid);\n    mergesort(mid+1,r);//è¿™é‡Œéœ€è¦+1\n    merge(l,r);\n&#125;\nint main()\n&#123;\n    int n;\n    cin&gt;&gt;n;\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        cin&gt;&gt;array[i];\n    &#125;\n    mergesort(0,n-1);\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        cout&lt;&lt;array[i]&lt;&lt;&#39; &#39;;\n    &#125;\n    return 0;\n&#125;\n\næœ‰è¶£åº”ç”¨ï¼šé€†åºå¯¹788. é€†åºå¯¹çš„æ•°é‡ - AcWingé¢˜åº“\ntimsortï¼ˆä¼˜åŒ–åå½’å¹¶ï¼‰è¿™ä¸ªå°±çœ‹è‹è€å¸ˆçš„pptè¯¾ä»¶\n(105æ¡æ¶ˆæ¯) Timsortâ€”â€”è‡ªé€‚åº”ã€ç¨³å®šã€é«˜æ•ˆæ’åºç®—æ³•_ç åˆ°sucessçš„åšå®¢-CSDNåšå®¢_timsort\næ ¸å¿ƒï¼šæå–é™åºæ•°ç»„å‡çº§ä¸ºå‡åºæ•°ç»„æœ¬è´¨éƒ½æ˜¯éƒ¨åˆ†æœ‰åºçš„,\n\nå› æ­¤ç¬¬ä¸€æ­¥ï¼šå°†æ‰€æœ‰éƒ¨åˆ†é™åºæ•°ç»„å…¨éƒ¨ç¿»è½¬ï¼ˆè¿™é‡Œç›´æ¥é€†åºå°±å¥½ï¼‰\nè¿™ä¸€æ­¥æ¨¡æ¿ï¼š\nvoid reverse(int q[],int l,int r)\n&#123;\n    for(int i=l,j=r;i&lt;=j;i++,j--)swap(q[i],q[j]);\n&#125;\nvoid array_reverse(int q[],int N)\n&#123;\n    if(N==1&amp;&amp;N==0)return;\n    int i=1,l=0,tmp=0,stage_judge;\n    if(q[0]&lt;=q[1])stage_judge=1;//å‡åºæ ‡è®°\n    else  stage_judge=0;\n    while(i&lt;N)\n    &#123;\n        if(q[i]&gt;q[i+1])\n        &#123;\n            if(stage_judge==1)stage_judge=0;\n            ++i;\n        &#125;\n        else if(q[i]&lt;=q[i+1])\n        &#123;\n            if(stage_judge==0)\n            &#123;\n                if(tmp!=l-1)++l;\n                reverse(q,l,i);\n                tmp=i;\n                stage_judge=1;\n            &#125;\n            ++i;//å‰è¿›ä¸€ä¸ª\n            l=i;//l=å‰è¿›ä¸€ä½ä¹‹åçš„i\n        &#125;\n    &#125;\n&#125;\n\næ ¸å¿ƒï¼šæ ˆå¤„ç†å½’å¹¶å…ˆå°†æ‰€æœ‰å·²çŸ¥çš„å‡åºæ’åˆ—çš„å‹å…¥æ€»æ ˆï¼Œ\nè¿™ä¸€æ­¥ï¼š\nvoid stack_check(int N)//å¯¹æ ˆè¿›è¡Œæ£€éªŒ,å¹¶ä¸”è¦çš„æ˜¯å½’å¹¶ä¸¤ä¸ªè¿ç»­çŸ­åŒºé—´\n&#123;\n    int stack_pos1,stack_pos2,stack_pos3;\n    int stack_length1,stack_length2,stack_length3;//1æœ€é¡¶ï¼Œ3æœ€åº•å±‚\n    pop(stack_pos1,stack_length1);\n    pop(stack_pos2,stack_length2);\n    pop(stack_pos3,stack_length3);\n    if(stack_length2&lt;stack_length1||stack_length3&lt;stack_length1+stack_length2)//x&gt;yæˆ–è€…x+y&gt;z\n    &#123;\n        if(stack_length1&gt;stack_length3)\n        &#123;\n                push(stack_pos1,stack_length1);\n                merge(stack_pos3, stack_length3,stack_pos2, stack_length2 );//å¯¹yzè¿›è¡Œå½’å¹¶\n\n        &#125;\n            else\n        &#123;\n                    push(stack_pos3,stack_length3);\n                    merge(stack_pos2,stack_length2,stack_pos1,stack_length1);//å¯¹xyè¿›è¡Œå½’å¹¶\n        &#125;\n           // cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;&quot;idx: &quot;&lt;&lt;stack_idx&lt;&lt;endl;\n        for(int i=0;i&lt;N;i++)\n        &#123;\n            cout&lt;&lt;q[i]&lt;&lt;&quot; &quot;;\n        &#125;\n        cout&lt;&lt;endl;\n        if(stack_idx&gt;=2)stack_check(N);//é€’å½’æ£€æµ‹\n    &#125;\n    else//æŒ‰ç…§åŸå…ˆé¡ºåºå†å‹è¿›å»\n    &#123;\n        push(stack_pos3,stack_length3);\n        push(stack_pos2,stack_length2);\n        push(stack_pos1,stack_length1);\n        cout&lt;&lt;endl&lt;&lt;endl;\n    &#125;\n    return;\n&#125;\n\næ ¸å¿ƒï¼šæœ€å°åˆ†åŒºé•¿åº¦åœ¨æ’åºä¹‹å‰é¢„å…ˆè®¡ç®—â¢ å½’å¹¶è¿‡ç¨‹ä½æ•ˆçš„ä¸»è¦åŸå› æ˜¯å¤§åˆ†åŒºå’Œå°åˆ†åŒºåˆå¹¶\nwhile(stack_idx&gt;=1)//è¾“å‡ºé˜¶æ®µ,è¿™é‡Œå°±æ˜¯æ£€æµ‹æ˜¯å¦æ­£ç¡®å½’å¹¶å…¥æ ˆï¼Œæ²¡æœ‰å½’å¹¶\n   &#123;\n        pop(stack_pos1,stack_length1);\n        pop(stack_pos2,stack_length2);\n       if(stack_pos1&gt;stack_pos2)merge(stack_pos2,stack_length2,stack_pos1,stack_length1);\n       else merge(stack_pos1,stack_length1,stack_pos2,stack_length2);\n       for(int i=0;i&lt;N;i++)\n       &#123;\n           cout&lt;&lt;q[i]&lt;&lt;&quot; &quot;;\n       &#125;\n\ntimsortæ¨¡æ¿ï¼ˆè‡ªå·±å†™çš„ï¼ï¼‰#include&lt;iostream&gt;\nusing namespace  std;\nconst int M =10010;\nint q[M];\nint tmp[M];\nint pos_stack[M];//å­˜å‚¨ä¸‹æ ‡\nint length_stack[M];//å­˜å‚¨é•¿åº¦\nint stack_idx=-1;\nvoid push(int pos,int length )\n&#123;\n    pos_stack[++stack_idx]=pos;\n    length_stack[stack_idx]=length;\n&#125;\nvoid pop(int &amp;tmp_pos,int &amp;tmp_length)//ç»™ä¸¤ä¸ªæ•°èµ‹å€¼ç„¶åå¼„å‡ºå»\n&#123;\n    tmp_pos= pos_stack[stack_idx];\n    tmp_length= length_stack[stack_idx];\n    --stack_idx;\n    return;\n&#125;\nvoid reverse(int q[],int l,int r)\n&#123;\n    for(int i=l,j=r;i&lt;=j;i++,j--)swap(q[i],q[j]);\n&#125;\nvoid array_reverse(int q[],int N)\n&#123;\n    if(N==1&amp;&amp;N==0)return;\n    int i=1,l=0,tmp=0,tem_l=0,stage_judge;\n    if(q[0]&lt;=q[1])stage_judge=1;//å‡åºæ ‡è®°\n    else  stage_judge=0;\n    while(i&lt;N)\n    &#123;\n        if(q[i]&gt;q[i+1])\n        &#123;\n            if(stage_judge==1)\n            &#123;\n                stage_judge=0;//ä¹‹å‰æ˜¯å‡åºè¿™é‡Œçªç„¶é™åºäº†\n            &#125;\n            ++i;\n        &#125;\n        else if(q[i]&lt;=q[i+1])\n        &#123;\n            if(stage_judge==0)\n            &#123;\n                if(tmp!=l-1)++l;\n                reverse(q,l,i);\n                tmp=i;\n                stage_judge=1;\n            &#125;\n            ++i;//å‰è¿›ä¸€ä¸ª\n            l=i;//l=å‰è¿›ä¸€ä½ä¹‹åçš„i\n        &#125;\n    &#125;\n&#125;\nvoid merge(int pos1,int length1,int pos2,int length2)\n&#123;\n    int r=pos2+length2-1;//æœ€å³ç«¯\n    int l=pos1;//æœ€å·¦ç«¯\n    //å½’å¹¶éƒ¨åˆ†\n    int mid=pos1+length1-1;\n    int k = 0, i = l, j = pos2 ;\n    while (i &lt;= mid &amp;&amp; j &lt;= r)//è¿™é‡Œç”±äºé€’å½’ï¼Œæ¯ä¸€ä¸ªå°æ•°ç»„éƒ½å½’å¹¶å¥½äº†ï¼Œå½’å¹¶æœ€åçš„å¤§æ•°ç»„\n        if (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];//å½’å¹¶ï¼Œç»“æœåˆå¹¶åˆ°tmpï¼Œ\n        else tmp[k ++ ] = q[j ++ ];\n    while (i &lt;= mid) tmp[k ++ ] = q[i ++ ];//èµ‹å€¼å‰©ä¸‹çš„i\n    while (j &lt;= r) tmp[k ++ ] = q[j ++ ];//èµ‹å€¼å‰©ä¸‹çš„j\n    for (i = l, j = 0; i &lt;= r; i ++, j ++ ) q[i] = tmp[j];\n    push(pos1,length1+length2);//åˆå¹¶å®Œä¹‹åè¿›è¡Œå‹æ ˆ\n&#125;\nvoid stack_check(int N)//å¯¹æ ˆè¿›è¡Œæ£€éªŒ,å¹¶ä¸”è¦çš„æ˜¯å½’å¹¶ä¸¤ä¸ªè¿ç»­çŸ­åŒºé—´\n&#123;\n    int stack_pos1,stack_pos2,stack_pos3;\n    int stack_length1,stack_length2,stack_length3;//1æœ€é¡¶ï¼Œ3æœ€åº•å±‚\n    pop(stack_pos1,stack_length1);\n    pop(stack_pos2,stack_length2);\n    pop(stack_pos3,stack_length3);\n    if(stack_length2&lt;stack_length1||stack_length3&lt;stack_length1+stack_length2)//x&gt;yæˆ–è€…x+y&gt;z\n    &#123;\n        if(stack_length1&gt;stack_length3)\n        &#123;\n                push(stack_pos1,stack_length1);\n                merge(stack_pos3, stack_length3,stack_pos2, stack_length2 );//å¯¹yzè¿›è¡Œå½’å¹¶\n\n        &#125;\n            else\n        &#123;\n                    push(stack_pos3,stack_length3);\n                    merge(stack_pos2,stack_length2,stack_pos1,stack_length1);//å¯¹xyè¿›è¡Œå½’å¹¶\n        &#125;\n           // cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;&quot;idx: &quot;&lt;&lt;stack_idx&lt;&lt;endl;\n        for(int i=0;i&lt;N;i++)\n        &#123;\n            cout&lt;&lt;q[i]&lt;&lt;&quot; &quot;;\n        &#125;\n        cout&lt;&lt;endl;\n        if(stack_idx&gt;=2)stack_check(N);//é€’å½’æ£€æµ‹\n    &#125;\n    else//æŒ‰ç…§åŸå…ˆé¡ºåºå†å‹è¿›å»\n    &#123;\n        push(stack_pos3,stack_length3);\n        push(stack_pos2,stack_length2);\n        push(stack_pos1,stack_length1);\n        cout&lt;&lt;endl&lt;&lt;endl;\n    &#125;\n    return;\n&#125;\n//å½’å¹¶æå®š\nint main() &#123;\n    int N;\n    cin &gt;&gt; N;\n    int stack_pos1,stack_pos2,stack_pos3;\n    int stack_length1,stack_length2,stack_length3;\n    for (int i = 0; i &lt; N; i++) &#123;\n        cin &gt;&gt; q[i];\n    &#125;\n    array_reverse(q, N - 1);//æ²¡é—®é¢˜äº†,åˆ«åŠ¨ï¼\n    int l=0;\n    for(int i = 0; i &lt; N; i++) &#123;\n        if(q[i]&gt;q[i+1])\n        &#123;\n            push(l,i-l+1);\n\n            l=i+1;\n        &#125;\n    &#125;//è¿™é‡Œå®Œæˆå°†æ ˆå‹å…¥\n    //æ¥ä¸‹æ¥å°±æ˜¯æ‰¾æœ€å¤§çš„ï¼Œç„¶ååˆå¹¶\n    cout&lt;&lt;endl&lt;&lt;endl;\n    for(int i=0;i&lt;N;i++)\n    &#123;\n        cout&lt;&lt;q[i]&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n    if(stack_idx&gt;=2)stack_check(N);\n    while(stack_idx&gt;=1)//è¾“å‡ºé˜¶æ®µ,è¿™é‡Œå°±æ˜¯æ£€æµ‹æ˜¯å¦æ­£ç¡®å½’å¹¶å…¥æ ˆï¼Œæ²¡æœ‰å½’å¹¶\n   &#123;\n        pop(stack_pos1,stack_length1);\n        pop(stack_pos2,stack_length2);\n       if(stack_pos1&gt;stack_pos2)merge(stack_pos2,stack_length2,stack_pos1,stack_length1);\n       else merge(stack_pos1,stack_length1,stack_pos2,stack_length2);\n       for(int i=0;i&lt;N;i++)\n       &#123;\n           cout&lt;&lt;q[i]&lt;&lt;&quot; &quot;;\n       &#125;\n   &#125;\n    return 0;\n&#125;//23         2 4 7 8 23 19 16 14 13 12 10 20 18 17 15 11 0 5 6 1 3 21 22\n\näºŒåˆ†äºŒåˆ†æœ¬è´¨å¹¶ä¸æ˜¯å•è°ƒæ€§ï¼šæœ‰å•è°ƒæ€§ä¸€å®šå¯ä»¥äºŒåˆ†è§£ï¼Œå¯ä»¥äºŒåˆ†è§£çš„é¢˜ç›®ä¸ä¸€å®šæ»¡è¶³å•è°ƒæ€§ï¼Œæœ¬è´¨ï¼šå¯ä»¥å°†åŸæœ¬åŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†\näºŒåˆ†ä¸€å®šæœ‰è§£ï¼ˆè‡ªå·±çš„äºŒåˆ†çš„æ€§è´¨æ˜¯ä¸€å®šæœ‰è¾¹ç•Œçš„ï¼‰ï¼Œä½†é¢˜ç›®å¯èƒ½ä¼šæ— è§£ï¼ˆçœ‹ä¾‹é¢˜ï¼‰\næ•´æ•°äºŒåˆ†æ¯”å®æ•°äºŒåˆ†è›‹ç–¼å¾ˆå¤šï¼šæ•´æ•°æœ‰è¾¹ç•Œé—®é¢˜å¾ˆæ¶å¿ƒ\nå½“å‡ºç°æœ€å°å€¼æœ€å¤§ï¼ˆæœ€å³ç«¯ï¼‰æˆ–æœ€å¤§å€¼æœ€å°ï¼ˆæœ€å·¦ç«¯ï¼‰æˆ–æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹äºŒåˆ†äº†\næ•´æ•°æ¨¡æ¿ï¼ˆä¸¤ç§ï¼‰åº”ç”¨ï¼š\n1ï¼šæ‰¾å¤§äºç­‰äºæ•°çš„ç¬¬ä¸€ä¸ªä½ç½® ï¼ˆæ»¡è¶³æŸä¸ªæ¡ä»¶çš„ç¬¬ä¸€ä¸ªæ•°ï¼‰2ï¼šæ‰¾å°äºç­‰äºæ•°çš„æœ€åä¸€ä¸ªæ•° ï¼ˆæ»¡è¶³æŸä¸ªæ¡ä»¶çš„æœ€åä¸€ä¸ªæ•°ï¼‰3.æŸ¥æ‰¾æœ€å¤§å€¼ ï¼ˆæ»¡è¶³è¯¥è¾¹ç•Œçš„å³è¾¹ç•Œï¼‰ã€4.æŸ¥æ‰¾æœ€å°å€¼ (æ»¡è¶³è¯¥è¾¹ç•Œçš„å·¦è¾¹ç•Œ)\nç„¶åæ¯æ¬¡ä½¿ç”¨è¿™è¿™ä¸¤ä¸ªæ¨¡æ¿çš„æ—¶å€™ï¼Œå…ˆæƒ³æ˜¯æ‰¾è¿™ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹è¿˜æ˜¯è¿˜æ˜¯å³ç«¯ç‚¹ï¼Œç„¶åé€‰æ‹©ç”¨æ¨¡æ¿ï¼Œæœ€åå†å»å†™åˆ¤æ–­æ¡ä»¶ã€‚\nè®¾ç½®çº¢ç»¿äº¤ç•Œç‚¹æ˜¯è¦æ±‚çš„ä½ç½®\n\n\næœ€åæ”¶æ•›åˆ°æ•´ä¸ªæ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æœ€å³è¾¹çš„ç‚¹\næœ€åæ”¶æ•›åˆ°æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æœ€å·¦è¾¹çš„ç‚¹\n\n\nè®°å¿†æ–¹å¼ï¼šæœ‰å‡å¿…æœ‰åŠ \nbool check(int x) &#123;/* ... */&#125; // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨\n\n//æ ¸å¿ƒåœ¨äºåˆ¤æ–­l=midè¿˜æ˜¯r=mid\n\n//æ”¶æ•›åˆ°æœ€å³è¾¹çš„ç‚¹\n// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼šæƒ…å†µ1\nint SR(int l, int r)\n&#123;\n    while (l &lt; r)\n    &#123;\n        int mid = l + r + 1 &gt;&gt; 1;//éœ€è¦è¡¥ä¸Šl+r+1ï¼Œé˜²æ­¢æ­»å¾ªç¯\n        if (check(mid)) l = mid;\n        else r = mid - 1;//æœ‰å‡ï¼Œå‰é¢å¿…å®šæœ‰åŠ \n    &#125;\n    return l;\n&#125;\n\n\n//æ”¶æ•›åˆ°æœ€å·¦è¾¹çš„ç‚¹\n// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼šæƒ…å†µ2\nint SL(int l, int r)\n&#123;\n    while (l &lt; r)\n    &#123;\n        int mid = l + r &gt;&gt; 1;//è¿™é‡Œæ˜¯ï¼ˆl+2ï¼‰/2\n        if (check(mid)) r = mid;    // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨ï¼š\n        else l = mid + 1;\n    &#125;\n    //\n    return l;//è¿™é‡Œæœ€ç»ˆlå’Œrç›¸ç­‰ï¼Œä¸éœ€è¦è€ƒè™‘åˆ«çš„\n&#125;\n\næ•´æ•°ç»å…¸ä¾‹é¢˜ï¼š789. æ•°çš„èŒƒå›´ - AcWingé¢˜åº“ç»å…¸ï¼šäºŒåˆ†æ¨¡æ¿æœ€ç»ˆä¸€å®šæœ‰è§£ï¼Œé¢˜ç›®ä¸ä¸€å®šæœ‰è§£ï¼ˆæœ€åçš„åˆ¤æ–­ä¸æ»¡è¶³é¢˜ç›®ï¼‰\nè§£ç­”ï¼š\n\n#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nconst int N = 1e5 + 10;\nint q[N];\n\nint SL(int l, int r, int x) &#123;//æœ€ç»ˆç»“æœæ˜¯æœ€å·¦è¾¹æ»¡è¶³æ¡ä»¶çš„\n  while (l &lt; r) &#123;\n    int mid = l + r &gt;&gt; 1;\n    if (q[mid] &gt;= x) r = mid;\n    else l = mid + 1 ;\n  &#125;\n  return l;\n&#125;\n\nint SR (int l, int r, int x) &#123;\n  while (l &lt; r) &#123;\n    int mid = l + r + 1 &gt;&gt; 1;//æœ‰+\n    if(q[mid] &lt;= x) l = mid;\n    else r = mid - 1;//æœ‰-\n  &#125;\n  return r;\n&#125;\n\nint main() &#123; int n,m;\n    scanf (&quot;%d%d&quot;,&amp;n,&amp;m);\n    for(int i=0;i&lt;n;++i) scanf (&quot;%d&quot;,&amp;q[i]);\n    while ( m-- ) &#123;\n        int x;\n        scanf (&quot;%d&quot;,&amp;x);\n        int l = SL(0, n - 1, x);//æŸ¥æ‰¾å·¦è¾¹ç•Œ å¹¶è¿”å›ä¸‹æ ‡l\n        //è¿™é‡Œæœ€åçš„Lå°±æ˜¯æœ€å·¦è¾¹ç¬¬ä¸€ä¸ªæ»¡è¶³&gt;xçš„æ•°å­—ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³äºŒåˆ†å¾—åˆ°çš„ç»“æœï¼ˆæœ€æ¥è¿‘xä¸”&gt;=xï¼‰\n        //å› æ­¤ä¸‹ä¸€æ­¥å¯ä»¥ç›´æ¥åˆ¤æ–­æ˜¯å¦ç›´æ¥=x\n        if (q[l]!=x) cout &lt;&lt;&quot;-1 -1&quot;&lt;&lt;endl;//å¦‚æœæ‰¾ä¸åˆ°  è¿”å›-1 -1\n        else &#123;\n            cout &lt;&lt; l &lt;&lt; &#39; &#39;; //å¦‚æœæ‰¾åˆ°äº†  è¾“å‡ºå·¦ä¸‹æ ‡\n            cout &lt;&lt; SR(0, n - 1, x) &lt;&lt; endl; //è¾“å‡ºå³ä¸‹æ ‡\n        &#125;\n    &#125;\n    return 0;\n&#125;\n\nåŒæ ·çš„ä¾‹é¢˜ï¼šï¼ˆçˆ·è·Ÿä½ æ‹¼äº†ï¼‰\n519. è·³çŸ³å¤´ - AcWingé¢˜åº“ç…§æ ·ä½¿ç”¨äºŒåˆ†ï¼ˆè™½ç„¶æ˜¯æ¯”è¾ƒå¤æ‚çš„äºŒåˆ†ï¼‰ï¼šäºŒåˆ†,è´ªå¿ƒO(NlogL)\næ€è·¯ï¼šä½¿å¾—é€‰æ‰‹ä»¬åœ¨æ¯”èµ›è¿‡ç¨‹ä¸­çš„æœ€çŸ­è·³è·ƒè·ç¦»å°½å¯èƒ½é•¿ï¼Œå½“å‡ºç°æœ€å°å€¼æœ€å¤§ï¼ˆæœ€å³ç«¯ï¼‰æˆ–æœ€å¤§å€¼æœ€å°ï¼ˆæœ€å·¦ç«¯ï¼‰æˆ–æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä¸€ä¸‹äºŒåˆ†äº†ã€‚éªŒè¯ç­”æ¡ˆå…·æœ‰å•è°ƒæ€§ï¼šæ‹¿èµ°çš„çŸ³å¤´è¶Šå¤šï¼Œæœ€çŸ­è·³è·ƒè·ç¦»è¶Šå¤§ï¼Œè¿™å°±å«ç­”æ¡ˆçš„å•è°ƒæ€§\næ ¸å¿ƒåŸç†ï¼š\n\näºŒåˆ†ç­”æ¡ˆäºŒåˆ†ç­”æ¡ˆå°±æ˜¯æŠŠä¸€ç»„æ•°æ®æ¯æ¬¡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå°±æ˜¯æŠŠå¤§é—®é¢˜è½¬åŒ–æˆå°é—®é¢˜ã€‚ä¾‹å¦‚çŒœæ•°æ¸¸æˆï¼ŒçŒœ1-100çš„ä¸€ä¸ªæ•°ï¼Œå°±å…ˆçŒœ50ï¼Œè‹¥å°äº†ï¼Œå°±çŒœ75ï¼Œè‹¥å¤§äº†ï¼Œå°±çŒœ25ï¼Œå°±è¿™æ ·ä¸€ç›´çŒœä¸‹å»ï¼Œæœ€ç»ˆæ‰¾åˆ°ç­”æ¡ˆã€‚è€Œæˆ‘ä»¬æ¯ä¸€æ¬¡çŒœçš„è¿™ä¸ªç­”æ¡ˆå°±æ˜¯æ‰€æ±‚èŒƒå›´å†…çš„æ•°æ®çš„ä¸­é—´æ•°æ®ï¼Œè¿™å°±æ˜¯äºŒåˆ†ç­”æ¡ˆã€‚è¿™ä¸ªäºŒåˆ†çš„ä¸­é—´æ•°æ®å°±æ˜¯æŒ‡è¦æ±‚çš„å†…å®¹ã€‚\nå¦‚æœé•¿åº¦ LenLen å¯ä»¥æ»¡è¶³ï¼Œé‚£ä¹ˆå½“é•¿åº¦å°äº LenLen æ—¶ä¹Ÿå¯ä»¥æ»¡è¶³ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥äºŒåˆ†å‡ºæœ€å¤§çš„ LenLenã€‚ä¹Ÿå°±æ˜¯åœ¨æ‰€æœ‰å¯æ»¡è¶³çš„Lenä¸­å¯»æ‰¾æœ€å³ç«¯çš„ç­”æ¡ˆï¼ˆè¿™é‡ŒæŒ‡ä»0åˆ°æœ€å¤§ï¼‰ï¼Œå› æ­¤ä½¿ç”¨æ¨¡æ¿SRï¼ˆå†çœ‹ä¸Šä¸€é“é¢˜å®é™…ä¸Šä¸€ä¸ªåŸç†ï¼‰\nå‰©ä¸‹çš„é—®é¢˜æ˜¯å¦‚ä½•åˆ¤æ–­ç»™å®š LenLen çš„æƒ…å†µä¸‹ï¼Œèƒ½å¦æœ€å¤šæ‹¿èµ° Må—çŸ³å¤´ï¼Œä½¿å¾—æ‰€æœ‰ç›¸é‚»ä¸¤å—çŸ³å¤´ä¹‹é—´çš„è·ç¦»ä¸å°äº LenLenã€‚è¿™ä¸€æ­¥å¯ä»¥è´ªå¿ƒæ¥åšã€‚ä»å‰å¾€åæ‰«æï¼Œå¹¶è®°ä¸€ä¸‹ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®ã€‚\nå¦‚æœå½“å‰çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»å°äº LenLenï¼Œåˆ™å°†å½“å‰çŸ³å¤´æ‹¿èµ°\nå¦‚æœå½“å‰çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»å¤§äºç­‰äº LenLenï¼Œåˆ™å°†ä¸Šä¸€å—çŸ³å¤´æ›´æ–°æˆå½“å‰è¿™å—ã€‚ï¼ˆå’Œä¸Šä¸€æ¡æ˜¯è´ªå¿ƒæ—¶å€™çš„ä¸¤ç§è§£æ³•ï¼‰\nè¿™é‡Œç»™å‡ºè´ªå¿ƒè¯æ˜ï¼šå¦‚æœæŸä¸ªæœ€ä¼˜è§£ä¸­æ˜¯æ‹¿èµ°äº†ä¸Šä¸€å—çŸ³å¤´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹æˆç•™ä¸‹ä¸Šä¸€å—çŸ³å¤´ï¼Œæ‹¿èµ°å½“å‰è¿™å—çŸ³å¤´ï¼Œè¿™æ ·æ€»å…±æ‹¿èµ°çš„çŸ³å¤´æ•°é‡ä¸å˜ï¼Œæ‰€ä»¥å½“å‰é€‰æ³•ä¹Ÿæ˜¯ä¸€ç»„æœ€ä¼˜è§£ã€‚\ncheckå‡½æ•°ï¼šæˆ‘ä»¬éå†ä¸€éæ¯ä¸€å—çŸ³å¤´ï¼Œç´¯è®¡å‡ºæœ‰å¤šå°‘å—çŸ³å¤´ä¹‹é—´çš„é—´éš”&lt;&#x3D;mid,å¦‚æœè¶…è¿‡mä¸ªï¼Œå°±ä¸åˆæ³•ï¼Œå¦‚æœå°äºç­‰äºmï¼Œå°±åˆæ³•ã€‚(ç´¯è®¡é—´éš”å°ä¹Ÿå°±æ˜¯éœ€è¦æ¬èµ°å¤šå°‘ä¸ªçŸ³å¤´)\næ‰«æç»“æŸååˆ¤æ–­æ‹¿èµ°çš„çŸ³å¤´æ•°é‡æ˜¯å¦å°äºç­‰äº Mã€‚ï¼ˆåˆ¤æ–­è¿™ä¸ªç­”æ¡ˆèƒ½ä¸èƒ½æ‰§è¡Œï¼Œèƒ½è¯´æ˜ç­”æ¡ˆmidè¿˜èƒ½çŒœæµ‹æ›´å¤§ï¼Œæ›´æ–°lï¼Œä¸èƒ½è¯´æ˜midçŒœæµ‹è¿‡å¤§äº†ï¼Œæ›´æ–°rï¼‰\n\næ—¶é—´å¤æ‚åº¦åˆ†ææ€»å…±äºŒåˆ† O(logL)O(logL) æ¬¡ï¼Œæ¯æ¬¡è´ªå¿ƒçš„è®¡ç®—æ˜¯ O(N)O(N)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(NlogL)O(NlogL)ã€‚\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int N = 50005;\nint a[N];\nint n,m,s;\n\nbool check(int x) //checkå‡½æ•°åˆ¤æ–­è¿™ä¸ªæœ€çŸ­è·³è·ƒè·ç¦»xæ˜¯å¦åˆæ³•\n&#123;\n    int cnt=0,last=0; //lastè¡¨ç¤ºçš„æ˜¯ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®,cntç”¨æ¥è®¡æ•°\n    for(int i=1;i&lt;=n;i++)   //æšä¸¾æ¯ä¸€å—çŸ³å¤´ \n    &#123;\n        //ä¸ç§»åŠ¨èµ°çŸ³å¤´ï¼Œå°±å®æ—¶æ›´æ–°ä¸Šä¸€å—çŸ³å¤´ä½ç½®ï¼Œå¦‚æœç§»åŠ¨ï¼Œå°±ä¸æ›´æ–°\n        if(a[i]-last&lt;x) cnt++;//å¦‚æœè¿™ä¸€å—çŸ³å¤´å’Œä¸Šä¸€å—çŸ³å¤´çš„è·ç¦»æ¯”xå°,è®¡æ•°+1ã€‚è€Œä¸”å¦‚æœçŸ³å¤´ç§»èµ°ï¼Œlastè¿˜æ˜¯ä¸Šä¸€å—çŸ³å¤´çš„ä½ç½®ã€‚\n        else last=a[i]; //å¦åˆ™è¿™å—çŸ³å¤´å°±ä¸å¿…ç§»èµ°ï¼Œlast=è¿™å—çŸ³å¤´çš„ä½ç½®ã€‚\n    &#125;\n    if(cnt&gt;m) return false; //cntå¦‚æœè¶…è¿‡mä¸ªï¼Œå°±ä¸åˆæ³•ã€‚\n    else return true;\n&#125;\n\nint main()\n&#123;\n    cin&gt;&gt;s&gt;&gt;n&gt;&gt;m;\n    for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];\n    a[n+1]=s;//å°†ç»ˆç‚¹çš„è·ç¦»ä¹Ÿç®—è¿›å»\n\n    n=n+1;//æ³¨æ„è¿™é‡Œçš„néœ€è¦åŠ ä¸€ï¼Œcheckå‡½æ•°éœ€è¦ç”¨\n\n    int l=1,r=s; //æ³¨æ„lå’Œréƒ½æ˜¯æœ€çŸ­è·³è·ƒè·ç¦»çš„è¾¹ç•Œï¼Œè€Œä¸æ˜¯çŸ³å¤´çš„è¾¹ç•Œã€‚ \n    while(l&lt;r)\n    &#123;\n        int mid=l+r+1&gt;&gt;1;\n        if(check(mid)) l=mid;//ç­”æ¡ˆçŒœå°äº†\n        else r=mid-1;//ç­”æ¡ˆçŒœå¤§äº†\n    &#125;\n    cout&lt;&lt;l&lt;&lt;endl;\n&#125;\n\nhttps://www.acwing.com/blog/content/21312/\nhttps://www.acwing.com/solution/content/118815/\nhttps://leetcode.cn/leetbook/read/illustration-of-algorithm/59bjss/\nhttps://www.acwing.com/solution/content/120802/\næµ®ç‚¹æ¨¡æ¿æµ®ç‚¹å¥½å¤„åœ¨äºä¸ç”¨è€ƒè™‘æ•´æ•°äºŒåˆ†ä¸­çš„è¾¹ç•Œé—®é¢˜ï¼Œå› æ­¤ç›´æ¥ç”¨\nbool check(double x) &#123;/* ... */&#125; // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨\n\ndouble bsearch_3(double l, double r)\n&#123;\n    const double eps = 1e-6;   // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚\n    while (r - l &gt; eps)\n    &#123;\n        double mid = (l + r) / 2;\n        if (check(mid)) r = mid;\n        else l = mid;//è¿™é‡Œå°±ä¸ç”¨å¤šè€ƒè™‘\n    &#125;\n    return l;\n&#125;\n\nä¾‹é¢˜ï¼š790. æ•°çš„ä¸‰æ¬¡æ–¹æ ¹ - AcWingé¢˜åº“\n#include &lt;iostream&gt;\n#include&lt;cstdio&gt;\nusing namespace std;\ndouble x;\nint main () &#123;\n    cin &gt;&gt; x;\n    double l = -1000,r = 1000;//è¿™é‡Œä¸€å¼€å§‹èŒƒå›´è®¾å®šå¤§ï¼Œç›´æ¥ä»0å¼€å§‹\n    while (r - l &gt;= 1e-7) &#123;\n        double mid = (l + r) / 2;\n        if (mid * mid * mid &lt;= x) l = mid;  //å¦‚æœæ˜¯å°äºç­‰äºçš„è¯ï¼Œå°±å¯ä»¥è¯´æ˜ç­”æ¡ˆä¼šæ›´å¤§\n        //æ¯”è¾ƒé‡è¦çš„ä¸€æ­¥ï¼Œc++é‡Œé¢å‡ æ¬¡æ–¹å°±ç›´æ¥å¼„ï¼Œåˆ«ç”¨mid^3,é…åˆc++primeré£Ÿç”¨\n        else r = mid;\n    &#125;\n    printf (&quot;%.6lf&quot;,l);\n    return 0;\n&#125;\n\näºŒåˆ†æ”¹è¿›ï¼šæ’å€¼æŸ¥æ‰¾åº”ç”¨èŒƒå›´ï¼šè¡¨é•¿è¾ƒå¤§ï¼Œå…³é”®å­—åˆ†å¸ƒå‡åŒ€\nå…³é”®ä¸åŒï¼šäºŒåˆ†midå›ºå®šä¸º0.5ï¼Œæ’å€¼æŸ¥æ‰¾midå‚æ•°åŠ¨æ€å˜åŒ–\nmid = low + (high - low) * (key - arr[low]) / (arr[high] - arr[low]) ;\n\næ–æ³¢é‚£å¥‘æŸ¥æ‰¾(104æ¡æ¶ˆæ¯) ä¸ƒå¤§æŸ¥æ‰¾ä¹‹æ–æ³¢é‚£å¥‘æŸ¥æ‰¾_éå¸¸è§„è‡ªæˆ‘å®ç°çš„åšå®¢-CSDNåšå®¢_fibonacciæŸ¥æ‰¾\nå‰ç¼€å’Œï¼ˆåº”ç”¨å¹¿æ³›ï¼‰æ•°æ®ç»“æ„åº”ç”¨ï¼šå­—ç¬¦ä¸²å“ˆå¸Œè¡¨kmpï¼Œè‡ªåŠ¨æœºkmpï¼Œ\nå‰ç¼€å’Œ+å“ˆå¸Œè¡¨&#x3D;LZWå‹ç¼©-&gt;æ–‡æœ¬å‹ç¼©å‹ç¼©éƒ¨åˆ†ï¼šè§£å‹ç¼©éƒ¨åˆ†ï¼šç¦»æ•£åŒ–ï¼šæ•´æ•°ç¦»æ•£åŒ–å¦‚æœä½¿ç”¨å“ˆå¸Œï¼Œä¼šæœ‰é¢å¤–çš„ç©ºé—´å¼€é”€\nç‰¹ç‚¹ï¼šå€¼åŸŸèŒƒå›´å¤§ï¼Œä½†æ˜¯ä¸ªæ•°å°‘ï¼ˆæ¯”å¦‚è¦è®¿é—®åˆ°æ•°ç»„çš„10^9çš„ä½ç½®ï¼Œä½†ä¸ªæ•°åªæœ‰10^5ï¼‰ä¹Ÿå°±æ˜¯å¯¹äºä¸€ä¸ªå‡½æ•°a-&gt;bï¼Œå®é™…ä¸Šåªéœ€è¦æ˜ å°„aï¼Œä¸éœ€è¦æ“ä½œbï¼ˆå½“ç„¶é«˜çº§ç©å®¶ä¹Ÿå¯ä»¥ç»§ç»­å¼„bï¼‰ã€‚ä¸€èˆ¬æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š\n\naæ•°ç»„é‡Œé¢å¯èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œå› æ­¤éœ€è¦å»é‡ï¼Œï¼ˆå»é‡æ˜¯æœ€é‡è¦çš„ï¼‰\nå¦‚ä½•ç®—å‡ºa[i]ç¦»æ•£åŒ–åçš„å€¼ï¼Œä¿åºç¦»æ•£åŒ–ï¼ˆaæ•°ç»„æœ¬èº«ä¸‹æ ‡æœ‰åºçš„ï¼‰ï¼Œæ˜ å°„åä¸€å®šä¹Ÿè¦æ˜¯æœ‰åºçš„ï¼Œa[i].ç”±äºaæœ‰åºï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†\n\néœ€è¦ä½¿ç”¨çš„çŸ¥è¯†ç‚¹ï¼š\n\nvector\npair\n\nç¦»æ•£åŒ–æ¨¡æ¿ï¼š(c++ç‰ˆæœ¬)//allså­˜å‚¨çš„æ˜¯æœ€å¼€å§‹çš„ä¸‹æ ‡\nvector&lt;int&gt; alls; // å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼\nsort(alls.begin(), alls.end()); // å°†æ‰€æœ‰å€¼æ’åº\nalls.erase(unique(alls.begin(), alls.end()), alls.end());   // å»æ‰é‡å¤å…ƒç´ \n\n// äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼\nint find(int x) // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®\n&#123;\n    int l = 0, r = alls.size() - 1;\n    while (l &lt; r)\n    &#123;\n        int mid = l + r &gt;&gt; 1;\n        if (alls[mid] &gt;= x) r = mid;\n        else l = mid + 1;\n    &#125;\n    return r + 1; // æ˜ å°„åˆ°1, 2, ...n\n    //å‰ç¼€å’Œä»1å¼€å§‹ç›¸å¯¹æ–¹ä¾¿\n&#125;\n\nAcWing 802. åŒºé—´å’Œ - AcWing\nåˆ†æï¼š\nä½¿ç”¨ç¦»æ•£åŒ–åŸå› ï¼š\n\nå­˜å‚¨ä¸‹æ ‡è¿‡å¤§ï¼Œä¸èƒ½å¼€è¿™ä¹ˆå¤§çš„ä¸‹æ ‡\nä½¿ç”¨æ•°è½´ï¼Œä¼šå­˜åœ¨è´Ÿå€¼ï¼Œä¸èƒ½ä½¿ç”¨ä¸‹æ ‡\nå“ˆå¸Œè¡¨ä¸èƒ½åƒç¦»æ•£åŒ–ç¼©å°æ•°ç»„çš„ç©ºé—´ï¼Œå¯èƒ½å¯¼è‡´éå†-e9~1e9ã€‚æ­¤å¤„çš„å«ä¹‰å°±æ˜¯å‡å¦‚æˆ‘ä»¬éœ€è¦è®¡ç®—1e-9å’Œ1e9åŒºé—´å†…çš„å€¼ï¼Œé‚£æˆ‘ä»¬éœ€è¦ä»å‰åˆ°åæšä¸¾ï¼Œæ— è®ºè¯¥å€¼æ˜¯å¦å­˜åœ¨ã€‚å› ä¸ºå“ˆå¸Œè¡¨ä¸èƒ½æ’åºï¼Œå› æ­¤ä¸èƒ½æå‰çŸ¥é“å“ªäº›æ•°å‘¨ä¸Šçš„ç‚¹ä¸å­˜åœ¨ï¼Œä¼šæšä¸¾å¤šæ¬¡ï¼ˆå¦‚æœ€åqueryçš„æ—¶å€™ï¼Œä»1åˆ°1e9ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å°±è¦éå†æ‰çŸ¥é“æ˜¯å¦æœ‰ç‚¹ï¼Œæ—¶é—´å¼€é”€å¤ªå¤§ï¼‰ï¼Œ\n\nç¦»æ•£åŒ–æœ¬è´¨ï¼šæ˜ å°„ï¼Œå°†é—´éš”å¾ˆå¤§çš„ç‚¹ï¼Œæ˜ å°„åˆ°ç›¸é‚»çš„æ•°ç»„å…ƒç´ ä¸­ã€‚å‡å°‘å¯¹ç©ºé—´çš„éœ€æ±‚ï¼Œä¹Ÿå‡å°‘è®¡ç®—é‡ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•èƒ½å¤Ÿå°†ä¸è¿ç»­çš„ç‚¹æ˜ å°„åˆ°è¿ç»­çš„æ•°ç»„çš„ä¸‹æ ‡ã€‚\næœ¬é¢˜è§£æ³•ï¼š(ç¦»æ•£åŒ–) O((n+2âˆ—m)log(n+2âˆ—m))\n\nå¼€è¾Ÿé¢å¤–æ•°ç»„å­˜æ”¾åŸæ¥ çš„ä¸‹æ ‡æ ‡å¿—\nå¯¹åŸæ¥çš„æ•°è½´ä¸‹æ ‡è¿›è¡Œæ’åºå†å»é‡ï¼ŒåŸå› ï¼šè€ƒè™‘å‰ç¼€å’Œæ€æƒ³ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºçš„åŒºé—´å†…çš„å’Œçš„ä¸¤ç«¯æ–­ç‚¹ä¸ä¸€å®šæœ‰å…ƒç´ ï¼Œæå‰åŠ å¦‚éœ€è¦æ±‚å‰ç¼€å’Œçš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œæœ‰åˆ©äºæˆ‘ä»¬è¿›è¡ŒäºŒåˆ†æœç´¢ï¼Œå…¶å®äºŒåˆ†æœç´¢é‡Œé¢æˆ‘ä»¬ä¸€èˆ¬å‡å®šæœ‰è§£çš„ï¼Œå¦‚æœæ²¡è§£çš„è¯éœ€è¦ç‰¹åˆ¤ï¼Œæ‰€ä»¥æå‰åŠ å…¥äº†è¿™äº›å…ƒç´ ï¼Œä»è€Œå¯¼è‡´å¯èƒ½å‡ºç°é‡å¤å…ƒç´ \næœ€å¤šä½¿ç”¨n+2mæ¬¡æ“ä½œï¼Œæœ€å¤šä½¿ç”¨çš„ä¸‹æ ‡è·¨åº¦ä¸º3*10^5,\n\né¦–å…ˆç”¨è€ŒäºŒåˆ†å†™å¥½æ˜ å°„åå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼Œå¤æ‚åº¦log(n + 2 * m)\nint find(int x)\n&#123;\n    int l = 0, r = alls.size() - 1;\n    while(l &lt; r)\n    &#123;\n        int mid = l + r &gt;&gt; 1;\n        if(alls[mid] &gt;= x) r = mid;\n        else l = mid + 1;\n    &#125;\n    return r + 1;\n&#125;\n\nå…¨è§£ï¼š\nå…³äºuniqueå’Œereaseå¯ä»¥çœ‹\n[(100æ¡æ¶ˆæ¯) C++ ä¹‹vectorå…ƒç´ å»é‡unique()_sandalphon4869çš„åšå®¢-CSDNåšå®¢_unique vector](https://blog.csdn.net/sandalphon4869/article/details/98209093?ops_request_misc=%7B%22request%5Fid%22%3A%22166674706816800184111752%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=166674706816800184111752&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-98209093-null-null.142^v59^pc_rank_34_1,201^v3^control_1,213^v1^t3_control1&amp;utm_term=vector unique&amp;spm&#x3D;1018.2226.3001.4187)\nauto:(100æ¡æ¶ˆæ¯) c++ autoåŸºæœ¬ç”¨æ³•_lwgkzlçš„åšå®¢-CSDNåšå®¢_autoç”¨æ³•\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\ntypedef pair&lt;int, int&gt; PII;//pairå¯ä»¥åŒæ—¶å­˜å‚¨ä¸¤ä¸ªæ•°æ®ï¼Œå¯ä»¥ç†è§£æˆåŠå°è£…çš„ç»“æ„ä½“\nconst int N = 300010;//æœ€å¤šæ¶‰åŠçš„ä¸‹æ ‡é•¿åº¦\nint a[N], s[N];\nint n, m;\n\nvector&lt;int&gt; alls;//å­˜å‚¨ä¸‹æ ‡å€¼\nvector&lt;PII&gt; add, query;//åˆ†åˆ«å­˜å‚¨è¯¢é—®å’ŒåŠ \n\nint find(int x)\n&#123;\n    int l = 0, r = alls.size() - 1;\n    while(l &lt; r)\n    &#123;\n        int mid = l + r &gt;&gt; 1;\n        if(alls[mid] &gt;= x) r = mid;\n        else l = mid + 1;\n    &#125;\n    return r + 1;//ä¸ºäº†æœ€ç»ˆçš„æ˜ å°„ä»1å¼€å§‹\n&#125;\nvector&lt;int&gt;:: iterator unique(vector&lt;int&gt; &amp;a)\n&#123;//è¿™é‡Œæ˜¯æ‰‹åŠ¨å®ç°uniqueï¼Œéc++è¯­è¨€éœ€è¦æ‰‹åŠ¨\n    //ä½œç”¨ä¸ºè‡ªåŠ¨å»é‡\n    int j = 0;\n    for(int i = 0; i &lt; a.size(); i ++)\n        if(!i || a[i] != a[i - 1])\n            a[j ++ ] = a[i];\n    return a.begin() + j;\n&#125;\n\nint main()\n&#123;\n\n    cin &gt;&gt; n &gt;&gt; m;\n\n    for(int i = 0; i &lt; n; i ++ )\n    &#123;\n        int x, c;//xæ˜¯ä¸‹æ ‡\n        cin &gt;&gt; x &gt;&gt; c;\n        add.push_back(&#123;x, c&#125;);\n        alls.push_back(x);\n    &#125;\n\n    for(int i = 0; i &lt; m; i ++ )\n    &#123;\n        int l, r;\n        cin &gt;&gt; l &gt;&gt; r;\n        query.push_back(&#123;l, r&#125;);\n        alls.push_back(l);\n        alls.push_back(r);\n        //å…¨éƒ¨å­˜å‚¨åallsç»„æˆä¸ºx,x,x,x,x,l1,r1,l2,r2ç­‰ç­‰\n    &#125;\n\n//ç›´æ¥unique(a)ä¸åŠ å…¶å®ƒå‚æ•°å°±æ˜¯é»˜è®¤ç›´æ¥ä»å¤´åˆ°å°¾ï¼Œ\n    sort(alls.begin(), alls.end());//å¯¹åŸæ¥çš„æ•°ç»„ä¸‹æ ‡è¿›è¡Œä»å°åˆ°å¤§\n    vector&lt;int&gt;::iterator pos = unique(alls);\n     //posæ˜¯å»é‡ä»¥åvectorä¸­æ²¡æœ‰é‡å¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨\n    //ä»å®¹å™¨çš„å¼€å§‹åˆ°è¿”å›çš„è¿­ä»£å™¨ä½ç½®çš„å…ƒç´ æ˜¯ä¸é‡å¤çš„å…ƒç´ ï¼Œè€Œä»è¿”å›çš„è¿­ä»£å™¨ä½ç½®åˆ°vector.end()çš„å…ƒç´ éƒ½æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼ˆè¿™ä¸œè¥¿å°±æ˜¯åŸæ¥æ’åºåçš„ä¸œè¥¿ï¼Œæ²¡å˜è¿‡ï¼‰ã€‚\n    //æ¯”å¦‚1 2 3 3 4 4 5 5uniqueåä¸º1 2 3 4 5   5 5 5ï¼ˆåˆ«ç®¡è¿™ä¸‰ä¸ªä»€ä¹ˆï¼Œæ²¡æ„ä¹‰ï¼‰\n\n    alls.erase(pos, alls.end());//åˆ é™¤é‡å¤å…ƒç´ \n\n    for(auto item : add)//addæ˜¯ä¸€ä¸ªvector&lt;PII&gt; addï¼Œä¸ºæ–¹ä¾¿åˆå§‹åŒ–è¿™ä¹ˆç”¨\n    &#123;\n        int x = find(item.first);//ç¬¬ä¸€ä¸ªå€¼æ˜¯è¦åŠ çš„æ•°çš„ä¸‹æ ‡\n        a[x] += item.second;//å¯¹åº”çš„æ•°ç»„ä½ç½®åŠ è¯¥æ•°\n    &#125;\n\n    for(int i = 1; i &lt;= alls.size(); i ++ ) s[i] = s[i - 1] + a[i];\n    //è¿™é‡Œç”¨å‰ç¼€å’Œæ–¹æ³•æ±‚æ‰€æœ‰çš„å‰ç¼€\n\n    for(auto item : query)\n    &#123;\n        int l = find(item.first), \n        r = find(item.second);//ä¸¤ä¸ªéƒ½æ˜¯\n        cout &lt;&lt; s[r] - s[l - 1] &lt;&lt; endl;\n        //è¿™é‡Œæœ€åå°±æ˜¯å¯¹åº”è¿‡æ¥çš„å‡å»åçš„å€¼ï¼Œ\n    &#125;\n\n    return 0;\n&#125;\n//è¿™äº›æ•°æ®æ˜¯éªŒç®—ç”¨çš„\n3 3//mã€‚n\n1 2\n3 6\n7 5\n1 3\n4 6\n7 8\n\nè¡¥å……autoï¼š\nint main()&#123;\n    vector&lt;int&gt;v;\n    v.push_back(1);\n    v.push_back(2);\n    v.push_back(3);\n    for(auto i : v)&#123;//è¿™ä¸€æ­¥å°±æ˜¯è¿­ä»£å™¨ä»beginèµ°åˆ°end\n        cout&lt;&lt;i&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n    return 0;\n&#125;\n\nåŒºé—´åˆå¹¶ï¼šä¸åŒäºç¦»æ•£åŒ–åº”ç”¨ï¼šå¾ˆå¤šåŒºé—´ï¼Œå¦‚æœæœ‰äº¤é›†å°±åˆå¹¶æˆä¸€ä¸ªæ›´é•¿çš„åŒºé—´\nåŒºé—´åˆå¹¶ç®—æ³•ï¼šå¿«é€Ÿåœ°è¿›è¡Œå¤šä¸ªåŒºé—´çš„åˆå¹¶,å½“ç„¶å¯ä»¥è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œæ¯”å¦‚å¯¹äºç«¯ç‚¹å°±è¿›è¡Œç»Ÿä¸€å½’å¹¶\næ­¥éª¤ï¼š\næŒ‰åŒºé—´å·¦ç«¯ç‚¹è¿›è¡Œæ’åº\næ‰«æè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ‰€æœ‰æœ‰äº¤é›†çš„åŒºé—´è¿›è¡Œåˆå¹¶ã€‚\n\nå·¦è¾¹ç«¯ç‚¹è®¾ç½®æˆstartï¼Œå³è¾¹è®¾ç½®æˆendï¼Œå¯èƒ½æœ‰çš„å…³ç³»ï¼š\n\n\n\nå·¦å³éƒ½åœ¨å†…éƒ¨ï¼šåŸæœ¬åŒºé—´ä¸å˜\nä»…ä¸€éƒ¨åˆ†åœ¨å†…éƒ¨ï¼šæ–°çš„edä¼šè¾¹é•¿ï¼ˆå·¦ç«¯ç‚¹ä¸ä¼šæ›´æ–°ï¼Œå› ä¸ºæ˜¯æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡ŒåŒºé—´çš„æ‰«æçš„ï¼‰\néƒ½ä¸åœ¨å†…éƒ¨ï¼šä¸ç”¨ç®¡å°±å®Œäº‹äº†\n\nä»£ç æ¨¡æ¿#include&lt;algorithm&gt;\n\n\nvoid merge(vector&lt;PII&gt; &amp;segs)\n&#123;\n    vector&lt;PII&gt; res;\n\n    sort(segs.begin(), segs.end());//è¿™é‡Œæ˜¯å› ä¸ºpairæ˜¯é»˜è®¤æŒ‰ç…§å·¦ç«¯ç‚¹æ’åºçš„\n\n    int st = -2e9, ed = -2e9;\n    for (auto seg : segs)\n        if (ed &lt; seg.first)//æƒ…å†µ3ï¼šä¸¤ä¸ªåŒºé—´æ— æ³•åˆå¹¶\n        &#123;\n            if (st != -2e9) res.push_back(&#123;st, ed&#125;);//åŒºé—´1æ”¾è¿›å»resæ•°ç»„\n            st = seg.first, ed = seg.second;//ç»´æŠ¤åŒºé—´2\n        &#125;\n        else ed = max(ed, seg.second);//æƒ…å†µ12ï¼Œå¯ä»¥åˆå¹¶ï¼Œè¿›è¡Œæ›´æ–°\n\n     //è€ƒè™‘å¾ªç¯ç»“æŸæ—¶çš„st,edå˜é‡ï¼Œæ­¤æ—¶çš„st,edå˜é‡ä¸éœ€è¦ç»§ç»­ç»´æŠ¤ï¼Œåªéœ€è¦æ”¾è¿›resæ•°ç»„å³å¯ã€‚\n    //å› ä¸ºè¿™æ˜¯æœ€åçš„ä¸€ä¸ªåºåˆ—ï¼Œæ‰€ä»¥ä¸å¯èƒ½ç»§ç»­è¿›è¡Œåˆå¹¶ã€‚\n    if (st != -2e9) res.push_back(&#123;st, ed&#125;);//è¯´çš„å°±æ˜¯ä½ ï¼Œæœ€åä¸€ä¸ªåºåˆ—ï¼Œifå°±æ˜¯é˜²ä¸€ä¸‹ç©ºåºåˆ—\n\n    segs = res;//è¿™æ ·å›å¤çš„å°±æ˜¯ç­”æ¡ˆsegs\n&#125;\n\n//æœ€å¤§åŸå› ï¼šæ’è¿‡åºäº†ï¼Œä¸ç”¨æ‹…å¿ƒå¤ç”¨\n//æ’è¿‡åºä¹‹åï¼Œä¸å¯èƒ½æœ‰åŒºé—´2åŒ…å«åŒºé—´1ï¼Œåªèƒ½æ˜¯1åŒ…å«åé¢çš„\n//æœ¬è´¨ï¼Œéå†ï¼Œæ¯ä¸€æ¬¡å¦‚æœä¸¤ä¸ªåŒºé—´æ²¡æœ‰ç›¸äº¤çš„éƒ¨åˆ†ï¼ˆæ— æ³•åˆå¹¶ï¼‰ï¼Œé‚£ä¹ˆå°±å°†ä¸€ä¸ªåŒºé—´æ¨å…¥ä½œä¸ºç­”æ¡ˆï¼ŒåŒæ—¶æ›´æ–°å·¦å³ç«¯ç‚¹\n\nyæ€»ï¼š\n#include&lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\ntypedef pair&lt;int,int&gt; PII;\nvector&lt;PII&gt; segs;\n\nvoid merge(vector&lt;PII&gt;&amp;segs)\n&#123;\n    vector&lt;PII&gt; res;\n    sort(segs.begin(),segs.end());//å…ˆå¯¹äºå…¨éƒ¨åŒºé—´è¿›è¡Œæ’åº\n    int l = -2e9,r = -2e9;//å°å°±å®Œäº‹äº†\n    for(auto item:segs)//å®šä¹‰äº†ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªéå†çš„è¿‡ç¨‹\n    &#123;//! ç¬¬ä¸€æ®µåŒºé—´ä¸€å®šæ˜¯  ed&lt; item.first\n        if(r &lt; item.first)//å½“å‰åŒºé—´å³ç«¯ç‚¹ä¸¥æ ¼å°äºæšä¸¾åŒºé—´çš„å·¦è¾¹\n        &#123;//æƒ…å†µ1ï¼šä¸¤ä¸ªåŒºé—´æ— æ³•åˆå¹¶\n            if(l != -2e9) res.push_back(&#123;l,r&#125;);//! ç¬¬ä¸€æ¬¡åœ¨è¿™é‡Œåˆå§‹åŒ–\n            //åŒºé—´1æ”¾è¿›å»resæ•°ç»„\n            l = item.first;//! ç¬¬ä¸€æ®µåŒºé—´ä»è¿™é‡Œå¼€å§‹å³seg[0].first\n            //ç»´æŠ¤åŒºé—´2\n            r = item.second;//ç¬¬ä¸€æ®µåŒºé—´çš„ã€‚seg[0].second\n        &#125;//todo è¿™ä¸ªå¾ªç¯ç»“æŸä¹‹åè¿˜ä¼šå‰©ä¸‹ä¸€ä¸ªåŒºé—´\n        else r = max(r,item.second);//ç¬¬äºŒç§æƒ…å†µï¼Œè¯´æ˜æœ‰äº¤é›†ï¼Œå³ç«¯ç‚¹æ›´æ–°æˆç»´æŠ¤çš„åŒºé—´çš„å³ç«¯ç‚¹ä»¥åŠæœ€å¤§å€¼\n    &#125;//! å¦‚æœä¸æ˜¯ç©ºçš„  é‚£æˆ‘ä»¬å°±åŠ ä¸Šä¸€æ®µ\n    if(l != -2e9) res.push_back(&#123;l,r&#125;);//æœ€åä¸€ä¸ªåŒºé—´åˆ¤æ–­ä¸€ä¸‹ï¼Œé˜²æ­¢ç©ºåŒºé—´\n    segs = res;//åŒºé—´æ›´æ–°å˜æˆres\n&#125;\nint main()\n&#123;\n    int n;\n    cin &gt;&gt; n;\n\n    while(n--)\n    &#123;\n        int l,r;\n        scanf(&quot;%d%d&quot;,&amp;l,&amp;r);\n        segs.push_back(&#123;l,r&#125;);\n    &#125;\n    merge(segs);\n    cout &lt;&lt; segs.size() &lt;&lt; endl;\n    return 0;\n&#125;\n\næ•°æ®ç»“æ„é“¾è¡¨ æœ‰é™æ€§ï¼šæ•°æ®å…ƒç´ ä¸ªæ•°æœ‰ç©·\nç›¸åŒæ€§ï¼šæ•°æ®å…ƒç´ çš„ç±»å‹æ˜¯åŒä¸€çš„\né¡ºåºæ€§ï¼šç›¸é‚»çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨åºå¶å…³ç³»\nå‰è¨€ï¼š\né“¾è¡¨å½“ä¸­åˆ©ç”¨ç»“æ„ä½“åˆ¶é€ é“¾è¡¨çš„é€Ÿåº¦éƒ½æ˜¯éå¸¸æ…¢çš„ï¼Œä¼šæ¶ˆè€—å¾ˆå¤šçš„æ—¶é—´ï¼Œè€Œæ­£å¸¸é¢è¯•ä¸­éœ€è¦ä½¿ç”¨åˆ°é“¾è¡¨æ—¶å€™å¤§å°éƒ½æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸€èˆ¬æ˜¯åä¸‡æˆ–è€…ç™¾ä¸‡çš„çº§åˆ«ï¼Œè€Œå•å•æ˜¯newè¿™äº›èŠ‚ç‚¹å°±ä¼šå¯¼è‡´è¶…æ—¶ï¼Œåœ¨ç¬”è¯•é¢˜ä¸­æœ€å¥½ä¸è¦ç”¨ç»“æ„ä½“æŒ‡é’ˆï¼Œå¯ä»¥ä¼˜åŒ–æ¯”å¦‚æå‰æ„å»ºå¥½å¤šä¸ªèŠ‚ç‚¹ï¼Œä½†å·²ç»ç±»ä¼¼äºæ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨äº†.ç®—æ³•é¢˜ä¸­ç»å¯¹ç»å¯¹ä¸è¦è€ƒè™‘å†…å­˜æ³„æ¼çš„é—®é¢˜\n\nä½¿ç”¨ç»“æ„ä½“å»æ„å»ºé“¾è¡¨çš„å¦ä¸€ä¸ªé—®é¢˜åœ¨äºé”®å…¥æŒ‡ä»¤ä¼šå¾ˆéº»çƒ¦\n//æ•°ç»„ç‰ˆæœ¬\nint next[N],prev[N],valu[N]\nvoid delete(int k)\n&#123;\n    next[prev[k]]=next[k];//å‘å³è·³è¿‡ä¸­é—´\n    prev[next[k]]=prev[k];//å‘å·¦è·³è¿‡ä¸­é—´\n&#125;\n//ç»“æ„ä½“ç‰ˆæœ¬\nstruct Node\n&#123;\n    int valu,next,prev;\n&#125;nodes[N];\nvoid delete(int k)\n&#123;\n    nodes[nodes[k].prev].next=nodes[k].next;\n    nodes[nodes[k].next].prev=nodes[k].prev;\n&#125;\n//ä¸¤ç§ç±»å‹ç›¸æ¯”ç¬¬äºŒç§æ•´ä½“ç»“æ„æ˜“äºç†è§£ä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­è¯­å¥ç‰¹åˆ«é•¿è€Œä¸”ä¸å¤ªå®¹æ˜“ç†è§£\n\n\n\nps:ç®—æ³•é¢˜ä¸­å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯å¤´æ’æ³•\né“¾è¡¨åˆ¶é€ æ–¹å¼\nç»“æ„ä½“+æŒ‡é’ˆï¼ˆc++éœ€è¦ä½¿ç”¨newï¼Œè´¹æ—¶é—´ï¼‰\næ•°ç»„æ¨¡æ‹Ÿï¼ˆè¿™é‡Œæ˜¯é™æ€æ•°ç»„ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼‰\n\nå°tipsï¼šé‚»æ¥è¡¨æœ¬è´¨å°±æ˜¯nä¸ªå•é“¾è¡¨æ‹¼èµ·æ¥ï¼Œæ­£å¸¸ä¸€ä¸ªheadå¯¹åº”ä¸€æ¡é“¾è¡¨ï¼Œè¿™ä¸ªå°±æ˜¯å¼€äº†ä¸€ä¸ªç»„ï¼Œhead[i]å¯¹åº”ç¬¬iæ¡é“¾è¡¨\næ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨\n\nå•é“¾è¡¨ï¼šé‚»æ¥è¡¨ï¼ˆå®é™…ä¸Šnä¸ªé“¾è¡¨ï¼‰ï¼Œä¸»è¦åº”ç”¨åœ¨äºå­˜å‚¨å›¾å’Œæ ‘\nåŒé“¾è¡¨ï¼šä¼˜åŒ–æŸäº›é—®é¢˜\n\nå•é“¾è¡¨åˆ¶ä½œ826. å•é“¾è¡¨ - AcWingé¢˜åº“\n//é€šç”¨ç‰ˆæœ¬çš„é™æ€é“¾è¡¨  \n//e[n]:æŸä¸ªç‚¹çš„å€¼ï¼Œne[n]:æŸä¸ªç‚¹çš„æŒ‡é’ˆï¼Œä½¿ç”¨ä¸‹æ ‡å…³è”èµ·æ¥\nconst int n =1000010;\n\n//e[i]èŠ‚ç‚¹i\n//ne[i]èŠ‚ç‚¹içš„nextæŒ‡é’ˆæŒ‡å‘çš„å€¼\n//idxå­˜å‚¨å·²ç»ç”¨è¿‡å“ªä¸€ä¸ªç‚¹\nint head,e[n],ne[n],idx;\n/*\nè¿™ä¸ªçš„çµé­‚åœ¨äºidx,æœ‰äº†idxå¯ä»¥ä¿è¯æ— è®ºæ–°æ’çš„èŠ‚ç‚¹æ˜¯å¤´æ’è¿˜æ˜¯å°¾æ’éƒ½æ²¡åŒºåˆ«ï¼Œéƒ½ä¼šç”¨æ¥è®¡æ•°ï¼Œç„¶ååœ¨å¯¹ç¬¬kä¸ªè¿›è¡Œæ“ä½œçš„æ—¶å€™ç›´æ¥å°±å®šä½åˆ°äº†idx\n*/\nvoid initial()\n&#123;\n    head=-1;//è®©headæŒ‡å‘ä¸€ä¸ªç©ºçš„ä½ç½®\n    idx=0//idxæ•°é‡å®é™…ä¸Šå°±æ˜¯é“¾è¡¨å½“ä¸­æ€»å…±èŠ‚ç‚¹çš„æ•°é‡\n&#125;\nvoid add_to_tail(int x)//å°¾æ’\n&#123;\n    e[idx]=x;\n    if(head==-1//å½“æ˜¯ç¬¬ä¸€æ¬¡æ’å…¥æ—¶ç‰¹æ®Šå¤„ç†\n    &#123;\n        ne[idx]=head;\n        head=idx;\n        idx++;\n        return;\n    &#125;\n    int i=head;\n    if(head!=-1)while(ne[i]!=-1)i=ne[i];//æœ€åne[i]=-1\n    ne[idx]=-1;\n    ne[i]=idx;\n    idx++;\n&#125;\nvoid add_to_head(int x)//å¤´æ’\n&#123;\n    e[idx]=x;//ä¿å­˜xçš„å€¼åˆ°ä¸€ä¸ªæ–°çš„ä½ç½®\n    ne[idx]=head;//æ›´æ–°æŒ‡å‘ï¼Œæ–°å…ƒç´ æŒ‡å‘åŸå…ˆheadçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯-1ï¼ˆç¬¬ä¸€æ¬¡è·‘ï¼‰\n    head=idx;//headå¤´èŠ‚ç‚¹æ›´æ–°ä½ç½®ï¼Œæ›´æ–°åˆ°æ–°å…ƒç´ çš„ä¸‹æ ‡\n    idx++;//ä¸‹ä¸€ä¸ªæ–°çš„å…ƒç´ \n&#125;\nvoid add(int k,int x)//æ³¨æ„å’Œå¤´æ’çš„åŒºåˆ«åœ¨äºä½ç½®å˜æ¢çš„æ˜¯ne[k]\n&#123;\n    k=k-1ï¼›//åƒä¸‡æ³¨æ„æ³¨æ„è¿™é‡Œè¦æ”¹ä¸€ä¸‹\n        //å¦åˆ™ä¼šå‡ºèŒƒå›´çš„\n        \n        \n    e[idx]=x;//å…ˆä¿å­˜\n    ne[idx]=ne[k];//æŒ‡å‘åŸå…ˆkçš„ä½ç½®\n    ne[k]=idx;\n    idx++;//è¯´æ˜åŠ \n&#125;\nvoid delete(int k)//tmæƒŠä¸ºå¤©äººçš„ç®€æ´ç‰ˆæœ¬\n&#123;//è¿™é‡Œæ˜¯åˆ é™¤ç¬¬kä¸ªæ·»åŠ çš„ï¼Œå¹¶ä¸æ˜¯æŒ‰ç…§å€¼æ¥åˆ é™¤\n    k=k-1ï¼›//åƒä¸‡æ³¨æ„æ³¨æ„è¿™é‡Œè¦æ”¹ä¸€ä¸‹\n        //åŒæ ·ä¼šå‡ºèŒƒå›´\n        \n        \n    ne[k]=ne[ne[k]];//æˆ‘tmç›´æ¥æ›´æ–°ne[k]æŒ‡å‘çš„ä½ç½®ï¼Œä¸­é—´æ•°ç›´æ¥æŸå¤±æŒ‡å¼•\n&#125;\nvoid dele(int a)//è¿™ä¸ªæ˜¯åˆ é™¤æŸä¸€ä¸ªç‰¹å®šå€¼\n       &#123;//ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚æœåªæœ‰ä¸€ä¸ªå…ƒç´ éœ€è¦ç‰¹åˆ¤\n           if(e[head]==a)head=ne[head];//ç›´æ¥æ¸…ç©ºå°±è¡Œ\n           else for(int i=head;ne[i]!=-1;i=ne[i])//å¤šä¸ªå…ƒç´ æ—¶å€™çš„åˆ é™¤æ“ä½œ\n           &#123;\n               if(e[ne[i]]==a)//è¿™é‡Œå…³ç³»æ˜¯è·³è¿‡ä¸­é—´\n               &#123;\n                   ne[i]=ne[ne[i]];\n               &#125;\n          &#125;\n       &#125;\nvoid print()\n&#123;\n    for(int i=head;i!=-1;i=ne[i])//çµé­‚åœ¨äºè¿™é‡Œæ¯ä¸€æ¬¡ç´¢å¼•æ›´æ–°ï¼ši=ne[i]ï¼ˆå› ä¸ºé™æ€æ•°ç»„é‡Œé¢ä¸‹æ ‡æ‰€åœ¨ä½ç½®ä¸å›ºå®šäº†ï¼‰\n    &#123;\n        cout&lt;&lt;e[i]&lt;&lt;&#39; &#39;;\n        cout&lt;&lt;endl;\n    &#125;\n&#125;\n\nåŒé“¾è¡¨åˆ¶ä½œ#include&lt;iostream&lt;\nusing namespace std;\nconst int M=20010;\nint r[M],prev[M],e[M],index;\nvoid initial()\n&#123;\n   //åŒé“¾è¡¨ç›¸å¯¹å•é“¾è¡¨çš„åˆå§‹åŒ–ä¸åŒ\n   r[0]=1;//æœ€å·¦ç«¯æŒ‡å‘æœ€å³ç«¯\n   l[1]=0;//æœ€å³ç«¯æŒ‡å‘æœ€å·¦ç«¯\n   index=2;//å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯éå¸¸ç›´ç™½ï¼ŒåŒæ•°è‚¯å®šæ˜¯å‘å³çš„ï¼Œå•æ•°å‘å·¦çš„\n&#125;\nvoid add_to_right(int x,int k)//ç¬¬kä¸ªçš„å³è¾¹æ’å…¥\n&#123;\n    e[idx]=x;\n    r[idx]=r[k];\n    l[idx]=k;\n    //æ–°èŠ‚ç‚¹çš„å»¶ç”³éƒ¨ä½éƒ½æå®šäº†ï¼Œå¼€å§‹åŒå‘è¿æ¥\n    l[r[k]]=idx;\n    r[k]=idx//\n    idx++;\n&#125;\n//å‘å³æ’å°±æ˜¯\n  add_to_right( x, k+1)//k+1å› ä¸ºindexä»2å¼€å§‹è®¡æ•°\n//èªæ˜çš„æ–¹æ³•ï¼Œåœ¨å·¦è¾¹æ’å…¥ç›´æ¥è°ƒç”¨add_to_right(x,l[k]),ä¹Ÿå°±æ˜¯åœ¨kçš„å·¦è¾¹èŠ‚ç‚¹è°ƒç”¨å‘å³æ’ï¼Œç»“æœå°±æ˜¯ç¬¬kä¸ªèŠ‚ç‚¹å·¦è¾¹æ’å…¥\nadd_to_right( x, l[k+1])//åŒç†\n//å¦‚æœæ˜¯æœ€å·¦ç«¯æˆ–è€…æœ€å³ç«¯æ›´ç®€å•\n//æœ€å·¦ç«¯\n add_to_right( x, 0)\n //å³ç«¯\nadd_to_right( x, l[1])      \nvoid dele(int k)\n&#123;\n    r[l[k]]=r[k];\n    l[r[k]]=l[k];\n&#125;\nvoid print()\n&#123;\n    for(int i=r[0];i!=1;i=r[i])//çµé­‚åœ¨äºè¿™é‡Œæ¯ä¸€æ¬¡ç´¢å¼•æ›´æ–°ï¼ši=ne[i]ï¼ˆå› ä¸ºé™æ€æ•°ç»„é‡Œé¢ä¸‹æ ‡æ‰€åœ¨ä½ç½®ä¸å›ºå®šäº†ï¼‰\n    &#123;\n        cout&lt;&lt;e[i]&lt;&lt;&#39; &#39;;\n        cout&lt;&lt;endl;\n    &#125;\n&#125;\n\n\n//ä½¿ç”¨çš„æ—¶å€™çš„apiï¼š\n    add_to_right( x, k+1)\n    add_to_left(x,k+1)\n    dele(k+1)\n     ç¬¬kä¸ªæ’å…¥çš„æ•°å·¦è¾¹æ’å…¥ï¼šadd_to_right(x,l[k+1])\n     ç¬¬kä¸ªæ’å…¥çš„æ•°å³è¾¹æ’å…¥ï¼šadd_to_right(x,k+1)\n\n//åŒå‘é“¾è¡¨åˆ¶ä½œ\n#include&lt;stdlib.h&gt;\n#include&lt;stdio.h&gt;\nstruct Node&#123;\n    char data;\n    struct Node* next;\n    struct Node* pre; \n&#125;;\nstruct Node*p;\nstruct Node*head;\nstruct Node*tail;\nvoid Home()\n&#123;\n    p=head;\n&#125;\n\nvoid End()\n&#123;\n    p=tail-&gt;pre;\n&#125;\n\nvoid Left()\n&#123;\n    if(p==head) return;\n    p=p-&gt;pre;\n&#125;\n\nvoid Right()\n&#123;\n    if(p-&gt;next==tail) return;\n    p=tail-&gt;pre;\n&#125;\n\nvoid Back()\n&#123;   \n    if(p==head) return;\n    struct Node*tmp=(struct Node*)malloc(sizeof(struct Node));\n    tmp=p;\n    tmp-&gt;pre-&gt;next=tmp-&gt;next;\n    tmp-&gt;next-&gt;pre=tmp-&gt;pre;\n    free(tmp);\n&#125;\n    \n\nint main()&#123;\n    char s[50010];\n    int i;\n    struct Node*head=(struct Node*)malloc(sizeof(struct Node));\n    struct Node*tail=(struct Node*)malloc(sizeof(struct Node));\n    struct Node*p=head;\n    head-&gt;next=tail;\n    tail-&gt;pre=head;\n    tail-&gt;next=NULL;\n    head-&gt;pre=NULL; \n    \n    \n    scanf(&quot;%s&quot;,s);\n    \n    \n    for(i=0;s[i]!=&#39;\\0&#39;;i++)\n    &#123;\n            \n        if(s[i]==&#39;&#123;&#39;) Home();\n        else if(s[i]==&#39;&#125;&#39;) End();\n        else if(s[i]==&#39;&lt;&#39;) Left();\n        else if(s[i]==&#39;&gt;&#39;) Right();\n        else if(s[i]==&#39;#&#39;) Back();\n        else\n            &#123;\n            struct Node*q=(struct Node*)malloc(sizeof(struct Node));\n            q-&gt;data=s[i];\n            q-&gt;pre=p;\n            q-&gt;next=p-&gt;next;\n            p-&gt;next-&gt;pre=q;\n            p-&gt;next=q;\n            p=p-&gt;next;\n            &#125;\t\n            \n    &#125;\n    \n    \n    for(p=head-&gt;next;p!=tail;p=p-&gt;next)\n    &#123;\n        printf(&quot;%c&quot;,p-&gt;data);\n    &#125;\t\n\n&#125;\n\n#include&lt;iostream&gt;\n#include&lt;string&gt;\nusing namespace std;\nconst int M=100090;\nint nex[M];\nint pre[M];\nint valu[M];\nint idx;\nvoid initial(void)\n&#123;\n   //åŒé“¾è¡¨ç›¸å¯¹å•é“¾è¡¨çš„åˆå§‹åŒ–ä¸åŒ\n   nex[0]=1;//æœ€å·¦ç«¯æŒ‡å‘æœ€å³ç«¯\n   pre[1]=0;//æœ€å³ç«¯æŒ‡å‘æœ€å·¦ç«¯\n   idx=2;//å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯éå¸¸ç›´ç™½ï¼ŒåŒæ•°è‚¯å®šæ˜¯å‘å³çš„ï¼Œå•æ•°å‘å·¦çš„\n&#125;\nvoid add_to_right(int x,int k)\n&#123;\n    valu[idx]=x;\n    nex[idx]=nex[k];\n    pre[idx]=k;\n    //æ–°èŠ‚ç‚¹çš„å»¶ç”³éƒ¨ä½éƒ½æå®šäº†ï¼Œå¼€å§‹åŒå‘è¿æ¥\n    pre[nex[k]]=idx;\n    nex[k]=idx;//\n    idx++;\n&#125;\n//æ›´èªæ˜çš„æ–¹æ³•ï¼Œåœ¨å·¦è¾¹æ’å…¥ç›´æ¥è°ƒç”¨add_to_right(x,prev[k]),ä¹Ÿå°±æ˜¯åœ¨kçš„å·¦è¾¹èŠ‚ç‚¹è°ƒç”¨å‘å³æ’\n\nvoid dele(int k)\n&#123;\n    nex[pre[k]]=nex[k];\n    pre[nex[k]]=pre[k];\n&#125;\nint main()\n&#123;\n    int tem;\n    int index;\n    int n;\n    cin&gt;&gt;n;\n    initial();\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        string a;\n        cin&gt;&gt;a;\n        if(a==&quot;D&quot;)\n        &#123;\n            cin&gt;&gt;index;\n            dele(index+1);\n        &#125;\n        if(a==&quot;L&quot;)\n        &#123;\n            cin&gt;&gt;tem;\n            add_to_right(tem,0);\n        &#125;\n        if(a==&quot;R&quot;)\n        &#123;\n            cin&gt;&gt;tem;\n            add_to_right(tem,pre[1]);\n        &#125;\n        if(a==&quot;IL&quot; )\n        &#123;\n            cin&gt;&gt;index&gt;&gt;tem;\n            add_to_right(tem,pre[index+1]);\n        &#125;\n        if(a==&quot;IR&quot; )\n        &#123;\n            cin&gt;&gt;index&gt;&gt;tem;\n            add_to_right(tem,index+1);\n        &#125;\n    &#125;\n    for(int i=nex[0];i!=1;i=nex[i])\n    &#123;\n        cout&lt;&lt;valu[i] &lt;&lt;&quot; &quot;;\n    &#125;\n    return 0;\n&#125;\n\n\né“¾è¡¨é€’å½’ä¸åŒæŒ‡é’ˆåº”ç”¨ï¼šåŠ›æ‰£19é¢˜\næ–¹æ³•ï¼šæœªçŸ¥é“¾è¡¨é•¿åº¦æƒ…å†µä¸‹é€šè¿‡é€’å½’è·å–é•¿åº¦\næ³¨æ„è¿™ç§é€’å½’æœ¬è´¨ä¸Šæ˜¯é€†åºè¿›è¡Œæ‰«æï¼Œä»nullæ‰«æåˆ°headï¼ˆä¸æ˜¯ç©ºèŠ‚ç‚¹å¤´ï¼Œè€Œæ˜¯å­˜æ”¾ç¬¬ä¸€ä¸ªå€¼çš„å¤´ï¼‰\nè¯»å–é¡ºåºè®²è§£ï¼š\nä»¥1234ï¼Œ2ç¤ºä¾‹å¦‚æœ‰a,b,c,då››ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«å­˜æ”¾1ï¼Œ2ï¼Œ3ï¼Œ4ï¼ˆaæ˜¯å¤´4æ˜¯å°¾ï¼Œ4-&gt;next&#x3D;NULLï¼‰\né‚£ä¹ˆè°ƒç”¨å‡½æ•°lengthæ—¶å€™ä¼šå…ˆä¸€ç›´å‘ä¸‹æ‰«æï¼ˆå› ä¸ºæœªæ»¡è¶³æ¡ä»¶ä¹‹å‰ä¸ä¼šè¿›è¡Œreturnï¼‰ï¼Œæ‰«æåˆ°dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nullè¿™æ—¶è¿”å›1-&gt;åˆ°è¾¾èŠ‚ç‚¹dï¼Œï¼ˆå› ä¸ºæœ‰pos&#x3D;length(node-&gt;next,n)+1,+1å¯¼è‡´ä»èŠ‚ç‚¹nullè¿”å›dæ—¶å€™poså˜æˆ1ï¼‰è¿”å›2ï¼ˆåˆ°è¾¾èŠ‚ç‚¹cï¼‰ï¼Œè¿”å›3ï¼ˆåˆ°è¾¾èŠ‚ç‚¹bï¼‰ï¼Œæ³¨æ„è¿™æ—¶å€™æ»¡è¶³å€’åºæ‰«æåˆ°ç¬¬ä¸‰ä¸ªäº†ï¼Œä¹Ÿå°±æ˜¯è¦åˆ é™¤çš„èŠ‚ç‚¹å†å‘ä¸Šå›æº¯äº†1ä½,å› æ­¤åˆ é™¤èŠ‚ç‚¹c,å³node-&gt;next&#x3D;node-&gt;next-&gt;next**(bæŒ‡å‘cå˜æˆbæŒ‡å‘d)**\nå¥½å¤„ï¼šæ—¶é—´å°‘ï¼ˆåªç”¨æ‰«æä¸€æ¬¡ï¼‰ï¼Œç©ºé—´å°‘ï¼ˆæ²¡æœ‰é¢å¤–å¼€è¾ŸæŒ‡é’ˆï¼‰\n/**\n * Definition for singly-linked list.\n * struct ListNode &#123;\n *     int val;\n *     ListNode *next;\n *     ListNode() : val(0), next(nullptr) &#123;&#125;\n *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;\n *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;\n * &#125;;\n */\nclass Solution &#123;\npublic://å°è¯•é€’å½’è§£å†³\n\n    int length(ListNode *node,int n)//è¿™ä¸€æ®µåƒä¸‡åƒä¸‡æ³¨æ„æ˜¯å€’åºï¼Œå€’å™è¿›è¡Œè¯»å–ï¼ï¼ï¼\n    &#123;\n        if(node==NULL)return 0;//é€’å½’åœæ­¢\n        int pos=length(node-&gt;next,n)+1;\n        if(pos==n+1)//è¿›è¡Œåˆ¤æ–­äº†ï¼Œè¯´æ˜åœ¨ç¬¬å‡ å±‚é€’å½’\n            node-&gt;next=node-&gt;next-&gt;next;\n        return pos;//é€’å½’å±‚å±‚å›æº¯\n    &#125;\n    \n    \n    \n    \n    ListNode* removeNthFromEnd(ListNode* head, int n) &#123;\n        int pos =length(head,n);\n        if(pos==n)return head-&gt;next;//é“¾è¡¨æ€»é•¿åº¦åˆšå¥½ç­‰äºå€’é€€é•¿åº¦ï¼Œå³å¤„ç†å¤´èŠ‚ç‚¹æƒ…å†µ\n        return head;//\n    &#125;\n&#125;;\n\nå‚è€ƒç½‘å€ï¼šã€åè½¬é“¾è¡¨ã€‘ï¼šåŒæŒ‡é’ˆï¼Œé€’å½’ï¼Œå¦–é­”åŒ–çš„åŒæŒ‡é’ˆ - åè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåŒæ ·åˆ©ç”¨é€’å½’å®ç°é“¾è¡¨é€†åºï¼šï¼ˆæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹è´¹è„‘å­ï¼‰åŸç†ï¼šé“¾è¡¨è‡ªèº«å¸¦æœ‰é€’å½’å±æ€§ï¼ˆä¸€ä¸ªå¤§é—®é¢˜å¯ä»¥æ‹†è§£æˆå°é—®é¢˜ï¼‰\nå°†é“¾è¡¨æ‹†åˆ†æˆå¤´èŠ‚ç‚¹å’Œå‰©ä½™èŠ‚ç‚¹ï¼ŒåŒç†ç»§ç»­æ‹†è§£ï¼Œä¸€ç›´æ‹†è§£åˆ°æœ€åçš„å°¾èŠ‚ç‚¹å’Œå‰é¢çš„ä¸€å †â€œå¤´â€èŠ‚ç‚¹,æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸éœ€è¦è¿›è¡Œç¿»è½¬\n\n\nè¿™é‡Œå°±æ˜¯å¯¹äºå­é—®é¢˜ï¼Œå°†å­é“¾è¡¨è¿›è¡Œç¿»è½¬ï¼Œå°±å¯ä»¥å¾—åˆ°æ•´ä¸ªé“¾è¡¨çš„åè½¬ï¼Œä¹Ÿå°±æ˜¯é€’å½’çš„ç¬¬ä¸€æ­¥\npublic ListNode reverseList(ListNode head) &#123;\n    // è°ƒç”¨é€’æ¨å…¬å¼åè½¬å½“å‰ç»“ç‚¹ä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹\n    // è¿”å›çš„ç»“æœæ˜¯åè½¬åçš„é“¾è¡¨çš„å¤´ç»“ç‚¹\n    ListNode newHead = reverseList(head.next);\n&#125;\n\nè¿™é‡Œå‡è®¾åç»­å­é“¾è¡¨å·²ç»å…¨éƒ¨å®Œæˆç¿»è½¬ï¼Œé‚£ä¹ˆåªéœ€è¦å¯¹â€œå¤´èŠ‚ç‚¹â€å®Œæˆç¿»è½¬\n\n\nä¹Ÿå°±æ˜¯\nhead-&gt;next-&gt;neat=head;\nhead-&gt;next=NULL;\n\nå®Œå–„ä¹‹åå°±æ˜¯æœ‰\npublic ListNode reverseList(ListNode head) &#123;\n    // è°ƒç”¨é€’æ¨å…¬å¼åè½¬å½“å‰ç»“ç‚¹ä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹\n    // è¿”å›çš„ç»“æœæ˜¯åè½¬åçš„é“¾è¡¨çš„å¤´ç»“ç‚¹\n    ListNode newHead = reverseList(head.next);\n    //åˆ°è¿™é‡Œå·²ç»æ˜¯å‡è®¾åé¢çš„é“¾è¡¨éƒ¨åˆ†å·²ç»å…¨éƒ¨åè½¬å®Œæˆï¼Œä¹Ÿå°±æ˜¯åªéœ€è¦å¤„ç†å¤´èŠ‚ç‚¹å’Œå‰©ä½™éƒ¨åˆ†çš„å…³ç³»\n    head.next.next = head;\n    head.next = null;\n    return newHead;//æ³¨æ„å“¦ï¼Œè¿™é‡Œè¿”å›çš„æ˜¯newheadï¼Œå› ä¸ºnewheadæ˜¯åè½¬ä¹‹åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œå³æœ€å°¾éƒ¨çš„èŠ‚ç‚¹\n&#125;\n\nå†åŠ ä¸Šçº¦æŸæ¡ä»¶ï¼ˆé€’å½’ç»ˆæ­¢æ¡ä»¶ï¼‰\n/*\nif (head == NULL || head-&gt;next == NULL) &#123;//è¿”å›æ¡ä»¶/ç»“æŸé€’å½’æ¡ä»¶\n            return head;\n        &#125;\n   */\n\nclass Solution &#123;\npublic:\n    ListNode* reverseList(ListNode* head) &#123;\n        if (head == NULL || head-&gt;next == NULL) &#123;//è¿”å›æ¡ä»¶/ç»“æŸé€’å½’æ¡ä»¶\n            return head;\n        &#125;\n        ListNode* ret = reverseList(head-&gt;next);//è¿™é‡Œé€’å½’ï¼Œretä¼šåœ¨èµ°åˆ°é“¾è¡¨æœ«ç«¯å¼€å§‹ç¿»è½¬\n        head-&gt;next-&gt;next = head;\n        head-&gt;next = NULL;\n        return ret;//\n    &#125;\n&#125;;\n/*æ‰§è¡Œèµ·æ¥å¤§æ¦‚æ˜¯è¿™ä¹ˆä¸€ä¸ªæ—¢è§†æ„Ÿ\n\nåŒæŒ‡é’ˆå®ç°é€†åº\nclass Solution &#123;\npublic:\n    ListNode* reverseList(ListNode* head) &#123;\n        ListNode* cur = NULL, *pre = head;\n        while (pre != NULL) &#123;//ç»ˆæ­¢æ¡ä»¶ï¼Œæœ€åçš„æŒ‡é’ˆpreèµ°åˆ°æœ«å°¾åœæ­¢\n            ListNode* temp = pre-&gt;next;\n            pre-&gt;next = cur;//å¼€å§‹åç½®æŒ‡é’ˆæŒ‡å‘\n            //curå’Œpreæ•´ä½“å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®\n            cur = pre;\n            pre = temp;\n        &#125;\n        return cur;\n    &#125;\n&#125;;\n\nåŸç†ï¼šä¸€å¼€å§‹åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆpreå’Œcurï¼ŒpreæŒ‡å‘headï¼ŒcuræŒ‡å‘nullï¼Œtemæœ‰ç‚¹ç±»ä¼¼æŒ‡é’ˆäº¤æ¢æ•°å€¼ä¸­çš„temï¼ŒæŒ‡å‘æ­£å¸¸é“¾è¡¨é¡ºåºçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¿™é‡Œå°±æ˜¯head-&gt;nextï¼‰ï¼Œ\n\næœ‰åºé“¾è¡¨çš„æ‹¼æ¥ï¼ˆåˆæ˜¯é€’å½’&#x2F;bushiï¼‰æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)\nclass Solution &#123;\npublic:\n    ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) &#123;\n        if (l1 == NULL) &#123;//ç»ˆæ­¢æ¡ä»¶ï¼šl1èµ°åˆ°æœ«å°¾äº†\n            return l2;\n        &#125;\n        if (l2 == NULL) &#123;//ç»ˆæ­¢æ¡ä»¶ï¼šl2èµ°åˆ°æœ«å°¾äº†\n            return l1;//å‰©ä¸‹çš„éƒ½å¼„ä¸Šå»å°±æ˜¯\n        &#125;\n        \n        //åˆ†å‰²çº¿\n        if (l1-&gt;val &lt;= l2-&gt;val) &#123;\n            l1-&gt;next = mergeTwoLists(l1-&gt;next, l2);//å¯¹l1çš„å‰©ä½™éƒ¨åˆ†è¿›è¡Œä¸€ä¸ªé€’å½’æ“ä½œ\n            //é‡ç‚¹éƒ¨åˆ†mergeTwoLists(l1-&gt;next, l2)ï¼Œå¯¹l1åé¢çš„å…ƒç´ å¤„ç†\n        \n            return l1;//å› ä¸ºL1çš„è¿™ä¸ªå…ƒç´ å°ï¼Œå› æ­¤æŠŠå®ƒæ‹å‡ºæ¥\n        &#125;\n        l2-&gt;next = mergeTwoLists(l1, l2-&gt;next);//å¯¹l2çš„å‰©ä½™éƒ¨åˆ†è¿›è¡Œé€’å½’æ“ä½œï¼Œl2-&gt;nextåŒç†\n      \n        return l2;//åŒç†\n    &#125;\n&#125;;\n\nè§£é‡Šçš„ä¸€ä¸ªéƒ¨åˆ†\n\nå…³äºreturn L1çš„ä¸ªäººç†è§£: é€’å½’çš„æ ¸å¿ƒåœ¨äº,æˆ‘åªå…³æ³¨æˆ‘è¿™ä¸€å±‚è¦å¹²ä»€ä¹ˆ,è¿”å›ä»€ä¹ˆ,è‡³äºæˆ‘çš„ä¸‹ä¸€å±‚(è§„æ¨¡å‡1),æˆ‘ä¸ç®¡,æˆ‘å°±æ˜¯ç”©æ‰‹æŒæŸœ.\n\nå¥½,ç°åœ¨æˆ‘è¦merge L1,L2.æˆ‘è¦æ€ä¹ˆåš?\n\n- æ˜¾ç„¶,å¦‚æœL1ç©ºæˆ–L2ç©º,æˆ‘ç›´æ¥è¿”å›L2æˆ–L1å°±è¡Œ,è¿™å¾ˆå¥½ç†è§£.//ä¸Šæ–¹çš„ä¸¤ä¸ªNULLæƒ…å†µ\n- //å¦‚æœL1ç¬¬ä¸€ä¸ªå…ƒç´ å°äºL2çš„? é‚£æˆ‘å¾—æŠŠL1çš„è¿™ä¸ªå…ƒç´ æ”¾åˆ°æœ€å‰é¢,è‡³äºåé¢çš„é‚£ä¸²é•¿å•¥æ · ,æˆ‘ä¸ç®¡. æˆ‘åªè¦æ¥è¿‡ä¸‹çº§å‘˜å·¥å¹²å®Œæ´»åç»™æˆ‘çš„åŒ…è£¹, ç„¶åæŠŠæˆ‘å¹²çš„æ´»é™„ä¸Šå»(ä»¤L1-&gt;next = è¿™ä¸ªåŒ…è£¹)å°±è¡Œ\n- è¿™ä¸ªåŒ…è£¹æ˜¯ä¸‹çº§å‘˜å·¥å¹²çš„æ´»,å³merge(L1-&gt;next, L2)\n\næˆ‘è¯¥è¿”å›å•¥?\n\n- ç°åœ¨ä¸ç®¡æˆ‘çš„ä¸‹ä¸€å±‚å¹²äº†ä»€ä¹ˆ,åˆè¿”å›äº†ä»€ä¹ˆç»™æˆ‘, æˆ‘åªè¦çŸ¥é“,å‡è®¾æˆ‘çš„å·¥å…·äººä»¬éƒ½å®Œæˆäº†ä»»åŠ¡, é‚£æˆ‘çš„ä»»åŠ¡ä¹Ÿå°±å®Œæˆäº†,å¯ä»¥è¿”å›æœ€ç»ˆç»“æœäº†\n- æœ€ç»ˆç»“æœå°±æ˜¯æˆ‘ä¸€å¼€å§‹æ¥æ‰‹çš„L1å¤´ç»“ç‚¹+ä¸‹çº§å‘˜å·¥ç»™æˆ‘çš„å¤§åŒ…è£¹,è¦ä¸€å¹¶äº¤ä¸Šå», è¿™æ ·æˆ‘çš„bossæ‰èƒ½æ ¹æ®æˆ‘ç»™å®ƒçš„L1å¤´èŠ‚ç‚¹å¾€ä¸‹æ‰¾,æ£€æŸ¥æˆ‘å®Œæˆçš„å·¥ä½œ\n\nå›æ–‡é“¾è¡¨åˆ¤æ–­ï¼šï¼ˆæ˜ å°„ï¼Œé€’å½’ï¼Œç¿»è½¬ï¼‰æ˜ å°„åˆ°æ•°ç»„ä¸Šå†å¯¹æ•°ç»„è¿›è¡Œæ“ä½œ\nclass Solution &#123;\npublic:\n    bool isPalindrome(ListNode* head) &#123;\n        vector&lt;int&gt; vals;\n        while (head != nullptr) &#123;\n            vals.emplace_back(head-&gt;val);//ä½¿ç”¨è¿­ä»£å™¨æ›´åŠ èŠ‚çœæ—¶é—´ä¸€äº›ï¼Œå¦‚æœæ˜¯æ•°ç»„ä¼šæŠ¥é”™\n            head = head-&gt;next;\n        &#125;\n        for (int i = 0, j = (int)vals.size() - 1; i &lt; j; ++i, --j) &#123;\n            if (vals[i] != vals[j]) &#123;\n                return false;\n            &#125;\n        &#125;\n        return true;\n    &#125;\n&#125;;\n\nä¼˜é›…é€’å½’\néå†èŠ‚ç‚¹çš„æ–¹å¼å¯æ˜¯æˆ‘çœ‹ä¸æ‡‚\nclass Solution &#123;\n    ListNode* frontPointer;//è¿™ä¸ªæ˜¯å‰æŒ‡é’ˆ\npublic:\n    bool recursivelyCheck(ListNode* currentNode) &#123;\n        if (currentNode != nullptr) &#123;\n            if (!recursivelyCheck(currentNode-&gt;next)) &#123;\n                return false;\n            &#125;\n            if (currentNode-&gt;val != frontPointer-&gt;val) &#123;\n                return false;\n            &#125;\n            frontPointer = frontPointer-&gt;next;\n        &#125;\n        return true;\n    &#125;\n\n    bool isPalindrome(ListNode* head) &#123;\n        frontPointer = head;\n        return recursivelyCheck(head);\n    &#125;\n&#125;;\n\nè§£é‡Šï¼šcurrentNode æŒ‡é’ˆæ˜¯å…ˆåˆ°å°¾èŠ‚ç‚¹ï¼Œç”±äºé€’å½’çš„ç‰¹æ€§å†ä»åå¾€å‰è¿›è¡Œæ¯”è¾ƒã€‚frontPointer æ˜¯é€’å½’å‡½æ•°å¤–çš„æŒ‡é’ˆã€‚è‹¥ currentNode.val !&#x3D; frontPointer.val åˆ™è¿”å› falseã€‚åä¹‹ï¼ŒfrontPointer å‘å‰ç§»åŠ¨å¹¶è¿”å› trueã€‚\nå¤æ‚åº¦åˆ†æ\næ—¶é—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æŒ‡çš„æ˜¯é“¾è¡¨çš„å¤§å°ã€‚ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æŒ‡çš„æ˜¯é“¾è¡¨çš„å¤§å°ã€‚æˆ‘ä»¬è¦ç†è§£è®¡ç®—æœºå¦‚ä½•è¿è¡Œé€’å½’å‡½æ•°ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè®¡ç®—æœºéœ€è¦åœ¨è¿›å…¥è¢«è°ƒç”¨å‡½æ•°ä¹‹å‰è·Ÿè¸ªå®ƒåœ¨å½“å‰å‡½æ•°ä¸­çš„ä½ç½®ï¼ˆä»¥åŠä»»ä½•å±€éƒ¨å˜é‡çš„å€¼ï¼‰ï¼Œé€šè¿‡è¿è¡Œæ—¶å­˜æ”¾åœ¨å †æ ˆä¸­æ¥å®ç°ï¼ˆå †æ ˆå¸§ï¼‰ã€‚åœ¨å †æ ˆä¸­å­˜æ”¾å¥½äº†æ•°æ®åå°±å¯ä»¥è¿›å…¥è¢«è°ƒç”¨çš„å‡½æ•°ã€‚åœ¨å®Œæˆè¢«è°ƒç”¨å‡½æ•°ä¹‹åï¼Œä»–ä¼šå¼¹å‡ºå †æ ˆé¡¶éƒ¨å…ƒç´ ï¼Œä»¥æ¢å¤åœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨ä¹‹å‰æ‰€åœ¨çš„å‡½æ•°ã€‚åœ¨è¿›è¡Œå›æ–‡æ£€æŸ¥ä¹‹å‰ï¼Œé€’å½’å‡½æ•°å°†åœ¨å †æ ˆä¸­åˆ›å»º nn ä¸ªå †æ ˆå¸§ï¼Œè®¡ç®—æœºä¼šé€ä¸ªå¼¹å‡ºè¿›è¡Œå¤„ç†ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨é€’å½’æ—¶ç©ºé—´å¤æ‚åº¦è¦è€ƒè™‘å †æ ˆçš„ä½¿ç”¨æƒ…å†µã€‚è¿™ç§æ–¹æ³•ä¸ä»…ä½¿ç”¨äº† O(n)O(n) çš„ç©ºé—´ï¼Œä¸”æ¯”ç¬¬ä¸€ç§æ–¹æ³•æ›´å·®ï¼Œå› ä¸ºåœ¨è®¸å¤šè¯­è¨€ä¸­ï¼Œå †æ ˆå¸§çš„å¼€é”€å¾ˆå¤§ï¼ˆå¦‚ Pythonï¼‰ï¼Œå¹¶ä¸”æœ€å¤§çš„è¿è¡Œæ—¶å †æ ˆæ·±åº¦ä¸º 1000ï¼ˆå¯ä»¥å¢åŠ ï¼Œä½†æ˜¯æœ‰å¯èƒ½å¯¼è‡´åº•å±‚è§£é‡Šç¨‹åºå†…å­˜å‡ºé”™ï¼‰ã€‚ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºå †æ ˆå¸§æå¤§çš„é™åˆ¶äº†ç®—æ³•èƒ½å¤Ÿå¤„ç†çš„æœ€å¤§é“¾è¡¨å¤§å°ã€‚\nå¿«æ…¢æŒ‡é’ˆ\nå¾ˆä¼˜é›…**ä½†æ˜¯æˆ‘ç…§æ ·çœ‹ä¸æ‡‚***æ²¡æƒ³åˆ°å§è€å­çœ‹æ‡‚äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ\nclass Solution &#123;\npublic:\n    bool isPalindrome(ListNode* head) &#123;\n        if (head == nullptr) &#123;\n            return true;\n        &#125;\n\n        // æ‰¾åˆ°å‰åŠéƒ¨åˆ†é“¾è¡¨çš„å°¾èŠ‚ç‚¹å¹¶åè½¬ååŠéƒ¨åˆ†é“¾è¡¨\n        ListNode* firstHalfEnd = endOfFirstHalf(head);//è¿”å›æ…¢çš„é‚£ä¸€åŠ\n        ListNode* secondHalfStart = reverseList(firstHalfEnd-&gt;next);//å¯¹ä¸­é—´å¼€å§‹å¾€å³çš„ç¬¬ä¸€ä¸ªå¼€å§‹ç¿»è½¬\n\n        // åˆ¤æ–­æ˜¯å¦å›æ–‡\n        ListNode* p1 = head;\n        ListNode* p2 = secondHalfStart;\n        bool result = true;\n        while (result &amp;&amp; p2 != nullptr) &#123;\n            if (p1-&gt;val != p2-&gt;val) &#123;\n                result = false;\n            &#125;\n            p1 = p1-&gt;next;\n            p2 = p2-&gt;next;\n        &#125;        \n\n        // è¿˜åŸé“¾è¡¨å¹¶è¿”å›ç»“æœ\n        firstHalfEnd-&gt;next = reverseList(secondHalfStart);//ä¸ºäº†ä¿è¯é“¾è¡¨æœ¬èº«ä¸å˜ï¼Œå®é™…ä¸Šå¯ä»¥çœç•¥ï¼ˆå¤§æ¦‚ï¼‰\n        return result;\n    &#125;\n\n    ListNode* reverseList(ListNode* head) &#123;//æ˜¯ä½ æœ€çˆ±çš„åŒæŒ‡é’ˆç¿»è½¬æ³•\n        ListNode* prev = nullptr;\n        ListNode* curr = head;\n        while (curr != nullptr) &#123;\n            ListNode* nextTemp = curr-&gt;next;\n            curr-&gt;next = prev;\n            prev = curr;\n            curr = nextTemp;\n        &#125;\n        return prev;\n    &#125;\n\n    ListNode* endOfFirstHalf(ListNode* head) &#123;//å¿«æ…¢æŒ‡é’ˆï¼Œå¿«çš„èµ°ä¿©ï¼Œæ…¢çš„èµ°1ï¼Œåœ¨ä¸­ç‚¹åœæ­¢\n        ListNode* fast = head;\n        ListNode* slow = head;\n        while (fast-&gt;next != nullptr &amp;&amp; fast-&gt;next-&gt;next != nullptr) &#123;\n            fast = fast-&gt;next-&gt;next;\n            slow = slow-&gt;next;\n        &#125;\n        return slow;\n    &#125;\n&#125;;\n\nzhanï¼ˆæ ˆï¼‰ä¸æ˜¯Bç«™é‚£ä¸ªå‰è¨€ï¼šæ ˆå±äºä¸€ç§FILOæ•°æ®ç»“æ„ï¼Œç±»ä¼¼é˜‰å‰²ç‰ˆæœ¬çš„é¡ºåºè¡¨ï¼Œåœ¨è®¡ç®—æœºä¸­æœ‰éå¸¸å¹¿æ³›çš„åº”ç”¨\nä¾‹ï¼šä½¿ç”¨é€’å½’æ—¶ï¼Œç¼–è¯‘å™¨è‡ªèº«å¯¹äºé€’å½’æŒ‡ä»¤çš„ä½¿ç”¨å°±æ˜¯ä¸€ç§æ ˆï¼Œæˆ–è€…è®¡ç®—ä¸­ç¼€è¡¨è¾¾å¼ï¼ˆé€šè¿‡å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œå†å¯¹åç¼€è¡¨è¾¾å¼è¿›è¡Œæ ˆè¿ç®—å°±å¯ä»¥å¾—å‡ºç»“æœï¼‰-&gt;å…¨éƒ¨åˆ©ç”¨æ ˆçš„FILOç»“æ„\næ ˆåˆ¶é€ æ–¹å¼\næ•°ç»„æ ˆ-&gt;éå¸¸éå¸¸easy\né“¾è¡¨æ ˆ-&gt;å‚è€ƒé“¾è¡¨ï¼Œä½†æ˜¯é˜‰å‰²\n\næ ˆåšéé™è·¯å¾„é—®é¢˜ç¦»æ•£æ•°å­¦ç»„åˆæ•°å­¦é‡Œé¢çš„ä¸œè¥¿ï¼Œå¦‚æœå¯¹ä¸€ä¸ªæ ˆä»…å…è®¸å‡ºæ ˆå…¥æ ˆæ“ä½œï¼Œå¯¹è¾“å…¥å›ºå®šé•¿åº¦å­—æ¯æ±‚æ‰€æœ‰çš„è¾“å‡ºæ¨¡å¼ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ä¸€ä¸ªéé™è·¯å¾„ï¼Œåªéœ€è¦è®¡ç®—ä»(0,0)åˆ°(n,n)çš„ä¸ç»è¿‡y&#x3D;x+1çš„æ‰€æœ‰è·¯å¾„\nä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢åç¼€è¡¨è¾¾å¼(104æ¡æ¶ˆæ¯) ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ–¹æ³•_èªªè©¤æ¦¢çš„åšå®¢-CSDNåšå®¢_ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼\næ­£åˆ™è¡¨è¾¾å¼åˆ†æåˆ†æï¼š\n\nä½¿ç”¨æ ˆæ¥æ±‚ï¼šä¸­ç¼€è¡¨è¾¾å¼å¯ä»¥æ‹†åˆ†æˆä¸€æ£µä¸­ç¼€æ ‘ï¼Œåç¼€ç±»ä¼¼æ‹†åˆ†æˆåç¼€æ ‘ï¼Œå¦‚ï¼ˆ1+1ï¼‰ï¼ˆ2+2ï¼‰ï¼Œä¸­ç¼€ä¸­æ ¹èŠ‚ç‚¹æ˜¯ï¼Œå¶èŠ‚ç‚¹æ˜¯+ï¼Œå¶å­æ˜¯1 1 2 2ï¼Œå¦‚æœç”¨æ ‘çš„æ€æƒ³å»åšåº”è¯¥ä½¿ç”¨æ ‘çš„ä¸­åºéå†ï¼Œä½†æ˜¯é—®é¢˜åœ¨äºä¸å¥½å¤„ç†è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é—®é¢˜ï¼Œè€Œæ”¹é€ æˆåç¼€è¡¨è¾¾å¼å°±ä¼šæ–¹ä¾¿å¾ˆå¤šï¼Œå¦‚åŒä¸Šä¾‹å­æ¢æˆåç¼€è¡¨è¾¾å¼å˜æˆäº†1 1 + 2 2 + *ï¼Œç„¶åä½¿ç”¨æ ˆæ¥è¿›è¡Œè¿ç®—ï¼Œæ•°å­—å‹æ ˆï¼Œè¿ç®—ç¬¦å‡ºæ ˆä¸¤ä¸ªè¿›è¡Œè¿ç®—åå†æ¬¡å‹æ ˆï¼Œè¿™æ ·å°±å¯ä»¥é¿å¼€è¿ç®—ç¬¦ä¼˜å…ˆçº§çš„å¤„ç†é—®é¢˜ï¼ˆç›¸å¯¹æ›´å¥½ç†è§£ä¸€äº›è€Œä¸”ä¸éœ€è¦æ­å»ºæ ‘ï¼Œå¯ä»¥ä½¿ç”¨æ ˆæ¥æï¼‰\nä½¿ç”¨é€’å½’æ¥æ±‚ï¼šå·²çŸ¥å°†è¯¥è¡¨è¾¾å¼æŠ½è±¡æˆä¸ºä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆå¯¹æ¯ä¸ªå­æ ‘ä½¿ç”¨é€’å½’æ±‚å€¼å¯ä»¥ä¸æ–­å‰Šå‡æ ‘çš„å±‚æ•°ï¼Œæœ€åè·å¾—æ ¹æ ‘çš„å€¼ï¼ˆ**å¾ˆç‰›é€¼ä½†æ˜¯å¾ˆéº»çƒ¦ï¼Œè¦æå‰æ¥è§¦åˆ°æ ‘**ï¼‰\n\nè¿™é‡Œä½¿ç”¨æ ˆæ¥è¿›è¡Œä¸€ä¸ªä¸­ç¼€è¡¨è¾¾å¼çš„è®¡ç®—\nå…ˆçœ‹ä¸‹åªæœ‰ + å’Œ * çš„ã€‚\nè¾“å…¥é•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š1+2+345\nè¾“å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œå³ï¼š63\nåº”è¯¥ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Ÿ\næ ˆã€‚\nåº”è¯¥å…ˆè®¡ç®—å“ªä¸€æ­¥ï¼Ÿ\nå®é™…åº”è¯¥å…ˆè®¡ç®—1+2ã€‚\nâ€œè¡¨è¾¾å¼æ±‚å€¼â€é—®é¢˜ï¼Œä¸¤ä¸ªæ ¸å¿ƒå…³é”®ç‚¹ï¼š\nï¼ˆ1ï¼‰åŒæ ˆï¼Œä¸€ä¸ªæ“ä½œæ•°æ ˆï¼Œä¸€ä¸ªè¿ç®—ç¬¦æ ˆï¼›\nï¼ˆ2ï¼‰è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œæ ˆé¡¶è¿ç®—ç¬¦ï¼Œå’Œï¼Œå³å°†å…¥æ ˆçš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”è¾ƒï¼š\nå¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œæ–°è¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ\nå¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜ï¼Œå…ˆå‡ºæ ˆè®¡ç®—ï¼Œæ–°è¿ç®—ç¬¦å†å…¥æ ˆ\nä»ä»¥1+2+345ä¸¾ä¾‹ï¼Œçœ‹æ˜¯å¦‚ä½•åˆ©ç”¨ä¸Šè¿°ä¸¤ä¸ªå…³é”®ç‚¹å®æ–½è®¡ç®—çš„ã€‚\né¦–å…ˆï¼Œè¿™ä¸ªä¾‹å­åªæœ‰+å’Œ*ä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œæ‰€ä»¥å®ƒçš„è¿ç®—ç¬¦è¡¨æ˜¯ï¼š\n\nè¿™é‡Œçš„å«ä¹‰æ˜¯ï¼š\nï¼ˆ1ï¼‰å¦‚æœæ ˆé¡¶æ˜¯+ï¼Œå³å°†å…¥æ ˆçš„æ˜¯+ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›\nï¼ˆ2ï¼‰å¦‚æœæ ˆé¡¶æ˜¯+ï¼Œå³å°†å…¥æ ˆçš„æ˜¯*ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§ä½ï¼Œç›´æ¥å…¥æ ˆï¼›\nï¼ˆ3ï¼‰å¦‚æœæ ˆé¡¶æ˜¯*ï¼Œå³å°†å…¥æ ˆçš„æ˜¯+ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›\nï¼ˆ4ï¼‰å¦‚æœæ ˆé¡¶æ˜¯ï¼Œ å³å°†å…¥æ ˆçš„æ˜¯ï¼Œæ ˆé¡¶ä¼˜å…ˆçº§é«˜ï¼Œéœ€è¦å…ˆè®¡ç®—ï¼Œå†å…¥æ ˆï¼›\næœ‰äº†è¿ç®—ç¬¦è¡¨ï¼Œä¸€åˆ‡å°±å¥½åŠäº†ã€‚\n\nä¸€å¼€å§‹ï¼Œåˆå§‹åŒ–å¥½è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œä»¥åŠæ“ä½œæ•°æ ˆï¼Œè¿ç®—ç¬¦æ ˆã€‚\n\nä¸€æ­¥æ­¥ï¼Œæ‰«æå­—ç¬¦ä¸²ï¼Œæ“ä½œæ•°ä¸€ä¸ªä¸ªå…¥æ ˆï¼Œè¿ç®—ç¬¦ä¹Ÿå…¥æ ˆã€‚\n\nä¸‹ä¸€ä¸ªæ“ä½œç¬¦è¦å…¥æ ˆæ—¶ï¼Œéœ€è¦å…ˆæ¯”è¾ƒä¼˜å…ˆçº§ã€‚\næ ˆå†…çš„ä¼˜å…ˆçº§é«˜ï¼Œå¿…é¡»å…ˆè®¡ç®—ï¼Œæ‰èƒ½å…¥æ ˆã€‚\n\nè®¡ç®—çš„è¿‡ç¨‹ä¸ºï¼š\nï¼ˆ1ï¼‰æ“ä½œæ•°å‡ºæ ˆï¼Œä½œä¸ºnum2ï¼›\nï¼ˆ2ï¼‰æ“ä½œæ•°å‡ºæ ˆï¼Œä½œä¸ºnum1ï¼›\nï¼ˆ3ï¼‰è¿ç®—ç¬¦å‡ºæ ˆï¼Œä½œä¸ºopï¼›\nï¼ˆ4ï¼‰è®¡ç®—å‡ºç»“æœï¼›\n\nï¼ˆ5ï¼‰ç»“æœå…¥æ“ä½œæ•°æ ˆï¼›\n\næ¥ä¸‹æ¥ï¼Œè¿ç®—ç¬¦å’Œæ“ä½œæ•°æ‰èƒ½ç»§ç»­å…¥æ ˆã€‚ä¸‹ä¸€ä¸ªæ“ä½œç¬¦è¦å…¥æ ˆæ—¶ï¼Œç»§ç»­æ¯”è¾ƒä¸æ ˆé¡¶çš„ä¼˜å…ˆçº§ã€‚\næ ˆå†…çš„ä¼˜å…ˆçº§ä½ï¼Œå¯ä»¥ç›´æ¥å…¥æ ˆã€‚\n\nå­—ç¬¦ä¸²ç»§ç»­ç§»åŠ¨ã€‚\n\nåˆè¦æ¯”è¾ƒä¼˜å…ˆçº§äº†ã€‚\n\næ ˆå†…çš„ä¼˜å…ˆçº§é«˜ï¼Œè¿˜æ˜¯å…ˆè®¡ç®—ï¼ˆ3*4&#x3D;12ï¼‰ï¼Œå†å…¥æ ˆã€‚\n\nä¸æ–­å…¥æ ˆï¼Œç›´åˆ°å­—ç¬¦ä¸²æ‰«æå®Œæ¯•ã€‚\n\nä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°å¾—åˆ°æœ€ç»ˆç»“æœ3+60&#x3D;63ï¼Œç®—æ³•å®Œæˆã€‚\næ€»ç»“\nâ€œè¡¨è¾¾å¼æ±‚å€¼â€é—®é¢˜ï¼Œä¸¤ä¸ªæ ¸å¿ƒå…³é”®ç‚¹ï¼š\nï¼ˆ1ï¼‰åŒæ ˆï¼Œä¸€ä¸ªæ“ä½œæ•°æ ˆï¼Œä¸€ä¸ªè¿ç®—ç¬¦æ ˆï¼›\nï¼ˆ2ï¼‰è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œæ ˆé¡¶è¿ç®—ç¬¦ï¼Œå’Œï¼Œå³å°†å…¥æ ˆçš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”è¾ƒï¼šå¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œæ–°è¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ\nå¦‚æœæ ˆé¡¶çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜ï¼Œå…ˆå‡ºæ ˆè®¡ç®—ï¼Œæ–°è¿ç®—ç¬¦å†å…¥æ ˆ\nè¿™ä¸ªæ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²åªéœ€è¦æ‰«æä¸€éã€‚\nè¿ç®—ç¬¦æœ‰+-&#x2F;()~^&amp;éƒ½æ²¡é—®é¢˜ï¼Œå¦‚æœå…±æœ‰nä¸ªè¿ç®—ç¬¦ï¼Œä¼šæœ‰ä¸€ä¸ªnnçš„ä¼˜å…ˆçº§è¡¨ã€‚\næ­£åˆ™è¡¨è¾¾å¼ä»£ç ä»£ç ï¼š\nä¸Š       ä»£        ç \nè™½ç„¶ä½†æ˜¯æ¥ä¸‹æ¥è¿™ä¸ªä»£ç æ˜¯ä¸­ç¼€è®¡ç®—çš„\n#include &lt;iostream&gt;\n#include &lt;stack&gt;//stlåº“ä¸­ä½¿ç”¨æ ˆ\n#include &lt;string&gt;//\n#include &lt;unordered_map&gt;//ä¸€ä¸ªç›®å‰ä¸å¤ªæ‡‚çš„å¤´æ–‡ä»¶ï¼Œå›å¤´çœ‹primerè‡ªå·±ç†è§£å§\nusing namespace std;\n\nstack&lt;int&gt; num;//å­˜å‚¨æ•°å­—çš„æ ˆ\nstack&lt;char&gt; op;//å­˜å‚¨è¿ç®—ç¬¦çš„æ ˆ\n\n//ä¼˜å…ˆçº§è¡¨\nunordered_map&lt;char, int&gt; h&#123; &#123;&#39;+&#39;, 1&#125;, &#123;&#39;-&#39;, 1&#125;, &#123;&#39;*&#39;,2&#125;, &#123;&#39;/&#39;, 2&#125; &#125;;\n\n\nvoid eval()//æ±‚å€¼\n&#123;\n    int a = num.top();//ç¬¬äºŒä¸ªæ“ä½œæ•°\n    num.pop();\n\n    int b = num.top();//ç¬¬ä¸€ä¸ªæ“ä½œæ•°\n    num.pop();\n\n    char p = op.top();//è¿ç®—ç¬¦\n    op.pop();\n\n    int r = 0;//ç»“æœ \n\n    //è®¡ç®—ç»“æœ\n    if (p == &#39;+&#39;) r = b + a;\n    if (p == &#39;-&#39;) r = b - a;\n    if (p == &#39;*&#39;) r = b * a;\n    if (p == &#39;/&#39;) r = b / a;\n\n    num.push(r);//ç»“æœå…¥æ ˆåˆ°numä¸­\n&#125;\n\nint main()\n&#123;\n    string s;//è¯»å…¥è¡¨è¾¾å¼\n    cin &gt;&gt; s;\n\n    for (int i = 0; i &lt; s.size(); i++)//è°ƒç”¨äº†stringçš„å‡½æ•°s.size()\n    &#123;\n        if (isdigit(s[i]))//åˆ¤æ–­æ•°å­—å…¥æ ˆ\n        &#123;\n            int x = 0, j = i;//è®¡ç®—æ•°å­—\n            while (j &lt; s.size() &amp;&amp; isdigit(s[j]))\n            &#123;\n                x = x * 10 + s[j] - &#39;0&#39;;//å°†stringå‹çš„æ•°å­—è½¬æ¢ä¸ºintï¼Ÿ\n                j++;\n            &#125;\n            num.push(x);//æ•°å­—å…¥æ ˆ\n            i = j - 1;\n        &#125;\n        //å·¦æ‹¬å·æ— ä¼˜å…ˆçº§ï¼Œç›´æ¥å…¥æ ˆ\n        else if (s[i] == &#39;(&#39;)//å·¦æ‹¬å·å…¥æ ˆ\n        &#123;\n            op.push(s[i]);\n        &#125;\n        //æ‹¬å·ç‰¹æ®Šï¼Œé‡åˆ°å·¦æ‹¬å·ç›´æ¥å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·è®¡ç®—æ‹¬å·é‡Œé¢çš„\n        else if (s[i] == &#39;)&#39;)//å³æ‹¬å·\n        &#123;\n            while(op.top() != &#39;(&#39;)//ä¸€ç›´è®¡ç®—åˆ°å·¦æ‹¬å·\n                eval();\n            op.pop();//å·¦æ‹¬å·å‡ºæ ˆ\n        &#125;\n        else\n        &#123;\n            while (op.size() &amp;&amp; h[op.top()] &gt;= h[s[i]])//å¾…å…¥æ ˆè¿ç®—ç¬¦ä¼˜å…ˆçº§ä½ï¼Œåˆ™å…ˆè®¡ç®—\n                eval();\n            op.push(s[i]);//æ“ä½œç¬¦å…¥æ ˆ\n        &#125;\n    &#125;\n    while (op.size()) eval();//å‰©ä½™çš„è¿›è¡Œè®¡ç®—\n    cout &lt;&lt; num.top() &lt;&lt; endl;//è¾“å‡ºç»“æœ\n    return 0;\n&#125;\n\nå•è°ƒæ ˆï¼ˆç³å­”åœ°éœ‡å‹é¢˜è§£ï¼‰ğŸ˜¢ä½¿ç”¨å•è°ƒé€’å¢æ ˆ\néº»çƒ¦åœ°æ–¹ï¼šè¶…æ—¶\nè€ƒè™‘æ–¹å¼æœ‰äº›ç±»ä¼¼åŒæŒ‡é’ˆ\næ€è·¯ï¼šæš´åŠ›-&gt;ä¼˜åŒ–æš´åŠ›\né˜Ÿåˆ—é‡Œé¢æ˜¯å¦æœ‰å…ƒç´ æ²¡ç”¨\n\n#include&lt;iostream&gt;\nusing namespace std;\nconst int N=10010;\nint n;\nint stk[N],tt;\nint main()\n&#123;\n    cin&gt;&gt;n;//æ€»å…±è¦è¾“å…¥å‡ æ¬¡æ•°\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        int x;\n        cin&gt;&gt;x;\n        while(tt&amp;&amp;stk[tt]&gt;=x)tt--;//å¦‚æœæ ˆå†…å…ƒç´ åªè¦æ¯”å¾…è¿›å…¥å…ƒç´ å°å°±å¼¹å‡º\n        if(tt)cout&lt;&lt;stk[tt]&lt;&lt;&quot; &quot;;//å¼¹å‡ºåè¾“å‡ºç¬¬ä¸€ä¸ªæ ˆé¡¶å…ƒç´ \n        else cout&lt;&lt;-1&lt;&lt;&quot; &quot;;//æ ˆç©ºåè¾“å‡º-1\n        stk[++tt]=x;//ä¸€è½®èµ°ä¸‹æ¥ä»¥åæ–°çš„å…ƒç´ å…¥æ ˆ\n    &#125;\n    return 0;\n&#125;\n\né˜Ÿåˆ—FIFOæ„é€ \né˜Ÿåˆ—æ„é€ æ–¹å¼ï¼šæ•°ç»„æ„é€ ï¼ˆä¹Ÿæ˜¯hinç®€å•å°±æ˜¯äº†ï¼‰ğŸ˜’\n//æ¨¡æ¿ç”¨æ ˆç›´æ¥æ”¹éƒ½å¯ä»¥\nconst int M=200600;\n\nint bottom=0;//é˜Ÿåˆ—åº•éƒ¨ï¼Œå¼¹å‡ºæ—¶å€™bottom+1\nint line[M]=&#123;0&#125;;\nint top=0;//é˜Ÿåˆ—å¤´éƒ¨ï¼Œå¢åŠ æ—¶å€™top+1\nvoid insert(int x)//å…¥é˜Ÿ\n&#123;\n    \n    line[top]=x;\n    ++top;\n&#125;\nvoid pop(void)\n&#123;\n    bottom++;//åº•éƒ¨ä¸Šç§»\n&#125;\nvoid query(void)\n&#123;\n   cout&lt;&lt;line[bottom]&lt;&lt;endl;\n   return;\n&#125;\nvoid empty(void)\n&#123;\n    if(top==bottom)cout&lt;&lt;&quot;YES\\n&quot;;\n    else cout&lt;&lt;&quot;NO\\n&quot;;\n    return;\n&#125;\n\nå¾ªç¯é˜Ÿåˆ—ï¼šæ¨¡æ¿ï¼š\n// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½®\nint q[N], hh = 0, tt = 0;\n\n// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°\nq[tt ++ ] = x;\nif (tt == N) tt = 0;//å¦‚æœåˆ°è¾¾æŸä¸€ç‰¹å®šå€¼é‚£ä¹ˆå°±é‡ç½®å˜æˆé˜Ÿå¤´\n\n// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°\nhh ++ ;\nif (hh == N) hh = 0;\n\n// é˜Ÿå¤´çš„å€¼\nq[hh];\n\n// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º\nif (hh != tt)//ä¸ä¸ºç©º\n&#123;\n\n&#125;\n\nå•è°ƒé˜Ÿåˆ—~~~~~~~(ï½ï¿£â–½ï¿£)ï½æ»‘åŠ¨çª—å£ç»å…¸ï¼ˆé…åˆå•è°ƒæ ˆé£Ÿç”¨ï¼‰ğŸ˜¶â€ğŸŒ«ï¸å‡†å¤‡å¥½å¼€å§‹å¤´ç–¼\næ€è·¯åŒå•è°ƒæ ˆï¼šä»æš´åŠ›è§£å†³å…¥æ‰‹æ¥ç€å¼€å§‹ä¼˜åŒ–\nå¯ä»¥ä½¿ç”¨é˜Ÿåˆ—å¯¹çª—å£è¿›è¡Œç»´æŠ¤ï¼ˆæ ‡å‡†çš„å…¥åˆ—å’Œå‡ºåˆ—ï¼‰\nä¼˜åŒ–ï¼šé˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ²¡ç”¨çš„å…ƒç´ ï¼Œå¯¹æ²¡ç”¨çš„å…ƒç´ è¿›è¡Œåˆ é™¤çœ‹èƒ½å¦å¾—åˆ°å•è°ƒæ€§ï¼Œå¦‚3ï¼Œ-1ï¼Œ-3ï¼Œåœ¨-3å…¥åˆ—çš„æ—¶å€™å°±æœ‰3&gt;-3ï¼Œåˆ™æœ€å°å€¼ä¸€å®šä¸ä¼šæ˜¯3è€Œä¸”-3å­˜åœ¨æ—¶é—´æ›´ä¹…ï¼Œå› æ­¤ä½¿ç”¨å•è°ƒæ ˆçš„åŒæ ·åŸç†å¯ä»¥æ±‚å‡ºå•è°ƒæœ€å°ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æœ€å°\nå¯ä»¥ä½¿ç”¨STLæ ‡å‡†åº“æ¥å†™æˆ–è€…è¯´ä½¿ç”¨æ ˆå’Œé˜Ÿåˆ—æ•°ç»„æ¨¡æ‹Ÿå»å†™ï¼Œè€Œç›¸å¯¹è€Œè¨€ä½¿ç”¨æ•°ç»„æœ‰å¾ˆå¤§çš„å¥½å¤„åœ¨äºæ•°ç»„é€Ÿåº¦å¿«ï¼Œåœ¨æ¯”èµ›æˆ–è€…ç¬”è¯•æ—¶å€™ä¼šæ…¢ä¸€äº›ï¼Œåœ¨IDEä¸­å¯èƒ½ä¼šæœ‰O2æˆ–è€…O3ä¼˜åŒ–\nå†çœ‹ä¸€éå•è°ƒæ ˆ\n#include&lt;iostream&gt;\nusing namespace std;\nconst int N=10010;\nint n;\nint stk[N],tt;\nint main()\n&#123;\n    cin&gt;&gt;n;//æ€»å…±è¦è¾“å…¥å‡ æ¬¡æ•°\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        int x;\n        cin&gt;&gt;x;\n        while(tt&amp;&amp;stk[tt]&gt;=x)tt--;//å¦‚æœæ ˆå†…å…ƒç´ åªè¦æ¯”å¾…è¿›å…¥å…ƒç´ å¤§å°±å¼¹å‡º\n        if(tt)cout&lt;&lt;stk[tt]&lt;&lt;&quot; &quot;;//å¼¹å‡ºåè¾“å‡ºç¬¬ä¸€ä¸ªæ ˆé¡¶å…ƒç´ \n        else cout&lt;&lt;-1&lt;&lt;&quot; &quot;;//æ ˆç©ºåè¾“å‡º-1\n        stk[++tt]=x;//ä¸€è½®èµ°ä¸‹æ¥ä»¥åæ–°çš„å…ƒç´ å…¥æ ˆ\n    &#125;\n    return 0;\n&#125;\n\n\nè§£é¢˜æ€è·¯ï¼ˆä»¥æœ€å¤§å€¼ä¸ºä¾‹ï¼‰ï¼š\nç”±äºæˆ‘ä»¬éœ€è¦æ±‚å‡ºçš„æ˜¯æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ã€‚\nå¦‚æœå½“å‰çš„æ»‘åŠ¨çª—å£ä¸­æœ‰ä¸¤ä¸ªä¸‹æ ‡ i å’Œ j ï¼Œå…¶ä¸­iåœ¨jçš„å·¦ä¾§ï¼ˆi&lt;jï¼‰ï¼Œå¹¶ä¸”iå¯¹åº”çš„å…ƒç´ ä¸å¤§äºjå¯¹åº”çš„å…ƒç´ ï¼ˆnums[i]â‰¤nums[j]ï¼‰ï¼Œåˆ™ï¼š\nå½“æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨æ—¶ï¼Œåªè¦ i è¿˜åœ¨çª—å£ä¸­ï¼Œé‚£ä¹ˆ j ä¸€å®šä¹Ÿè¿˜åœ¨çª—å£ä¸­ã€‚è¿™æ˜¯ç”±äº i åœ¨ j çš„å·¦ä¾§æ‰€ä¿è¯çš„ã€‚\nå› æ­¤ï¼Œç”±äº nums[j] çš„å­˜åœ¨ï¼Œnums[i] ä¸€å®šä¸ä¼šæ˜¯æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼äº†ï¼Œæˆ‘ä»¬å¯ä»¥å°†nums[i]æ°¸ä¹…åœ°ç§»é™¤ã€‚\nå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰è¿˜æ²¡æœ‰è¢«ç§»é™¤çš„ä¸‹æ ‡ï¼Œè¿™é‡Œæ˜¯qã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œè¿™äº›ä¸‹æ ‡æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¢«å­˜å‚¨ï¼Œå¹¶ä¸”å®ƒä»¬åœ¨æ•°ç»„numsä¸­å¯¹åº”çš„å€¼æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ã€‚\nå½“æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ªæ–°çš„å…ƒç´ æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚\nä¸ºäº†ä¿æŒé˜Ÿåˆ—çš„æ€§è´¨ï¼Œæˆ‘ä»¬ä¼šä¸æ–­åœ°å°†æ–°çš„å…ƒç´ ä¸é˜Ÿå°¾çš„å…ƒç´ ç›¸æ¯”è¾ƒï¼Œå¦‚æœæ–°å…ƒç´ å¤§äºç­‰äºé˜Ÿå°¾å…ƒç´ ï¼Œé‚£ä¹ˆé˜Ÿå°¾çš„å…ƒç´ å°±å¯ä»¥è¢«æ°¸ä¹…åœ°ç§»é™¤ï¼Œæˆ‘ä»¬å°†å…¶å¼¹å‡ºé˜Ÿåˆ—ã€‚æˆ‘ä»¬éœ€è¦ä¸æ–­åœ°è¿›è¡Œæ­¤é¡¹æ“ä½œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…æ–°çš„å…ƒç´ å°äºé˜Ÿå°¾çš„å…ƒç´ ã€‚\nç”±äºé˜Ÿåˆ—ä¸­ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ï¼Œå› æ­¤æ­¤æ—¶é˜Ÿé¦–ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ å°±æ˜¯æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚\nçª—å£å‘å³ç§»åŠ¨çš„æ—¶å€™ã€‚å› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸æ–­ä»é˜Ÿé¦–å¼¹å‡ºå…ƒç´ ä¿è¯é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯çª—å£ä¸­çš„ï¼Œå› æ­¤å½“é˜Ÿå¤´å…ƒç´ åœ¨çª—å£çš„å·¦è¾¹çš„æ—¶å€™ï¼Œå¼¹å‡ºé˜Ÿå¤´ã€‚\næ¯ä¸€ä¸ªçª—å£çš„æœ€å¤§å€¼\nhh = 0; tt = -1;          //å¤´åœ¨å·¦å°¾åœ¨å³                         // é‡ç½®ï¼\n    for (int i = 0; i &lt; n; ++ i)\n        //æ³¨æ„è¿™ä¸ªæ ˆå¯ä»¥æƒ³æˆæœç€å³è¾¹ï¼ˆttï¼Œæ­£å¸¸æ ˆæ“ä½œï¼‰ï¼Œä½†æ˜¯åº•éƒ¨å¯ä»¥æ“ä½œï¼ˆhhï¼Œå‘å³ç¼©ï¼‰\n    &#123;\n        //çª—å£ç»ˆç‚¹æ˜¯iï¼Œé‚£ä¹ˆèµ·ç‚¹å°±æ˜¯i-k+1\n        if (i - k + 1 &gt; q[hh]) ++ hh;//çª—å£å·¦è¾¹å‘å³ç§»åŠ¨ä¸€ä¸ª\n        \n        //è¿™é‡Œæ“ä½œä¸‹æ¥è¦æ˜¯ä»å¤§åˆ°å°çš„æ’åˆ—\n        \n        while (hh &lt;= tt &amp;&amp; a[i] &gt;= a[q[tt]]) -- tt;//å³è¾¹å·²ç»æœ‰æ›´å¤§çš„äº†ï¼Œä¹‹å‰çš„å°çš„a[q[tt]]å¯ä»¥ä¸ç”¨è€ƒè™‘äº†ï¼Œå°±æ“ä½œtt\n        q[++ tt] = i;//çª—å£å³è¾¹å‘å³ç§»åŠ¨ä¸€ä¸ª\n        //i+1&gt;=kè¿™é‡Œå°±æ˜¯ä¸€ä¸ªç‰¹åˆ¤ï¼Œå› ä¸ºä¸€å¼€å§‹çª—å£æ²¡æœ‰å€¼ï¼Œåªæœ‰çª—å£å…¨éƒ¨å……æ»¡ä¹‹åæ‰æœ‰åé¢çš„æ“ä½œ\n        if (i + 1 &gt;= k) printf(&quot;%d &quot;, a[q[hh]]);//è¿™é‡ŒçŸ¥é“æ ˆçš„åº•éƒ¨ï¼ˆä¹Ÿå°±æ˜¯q[hh]ï¼‰å¯¹åº”çš„ä¸‹æ ‡æ˜¯è¯¥çª—å£ä¸­æ²¡æœ‰åˆ é™¤è€Œä¸”æ˜¯æœ€å¤§çš„\n    &#125;\n\nåˆ¤æ–­æœ€å°\nint a[N]=&#123;0&#125;;\nint q[N]=&#123;0&#125;;\nint hh=0;\nint tt = -1;//å°¾éƒ¨æ˜¯1\nint n, k;//hhæ˜¯å¤´ï¼Œttæ˜¯å°¾ï¼Œ\n//\n\n//å¤´åœ¨å·¦å°¾åœ¨å³\n\n\n\n    cin &gt;&gt; n &gt;&gt; k;//kæ˜¯çª—å£å¤§å°\n    for (int i = 0; i &lt; n; ++ i)\n    &#123;\n        //è¿™é‡Œæ˜¯å…³äºçª—å£çš„ç»´æŠ¤\n        scanf(&quot;%d&quot;, &amp;a[i]);//æ•°ç»„aå­˜æ”¾äº†æ‰€æœ‰çš„æ•°å­—\n        if (i - k + 1 &gt; q[hh]) ++ hh;       \n        //æ•°ç»„qå­˜æ”¾çš„æ˜¯ä¸‹æ ‡\n        // è‹¥é˜Ÿé¦–å‡ºçª—å£ï¼ŒhhåŠ 1ï¼Œå³æ•´ä½“å‘å‰ç§»åŠ¨ä¸€æ ¼\n        \n        //è¿™é‡Œå¼€å§‹è·Ÿå•è°ƒæ ˆçš„åŸç†ç›¸åŒ\n        /*\n        hh&lt;=ttæ˜¯é˜Ÿåˆ—ä¸ä¸ºç©º\n        a[i] &lt;= a[q[tt]]è¿™é‡Œå°±æ˜¯å•è°ƒæ ˆçš„å¦‚æœæ–°æ¥çš„a[i]ä¸æ˜¯æ ˆé‡Œé¢æœ€å¤§çš„å°±å¼¹æ ˆï¼Œ--tt\n        */\n        while (hh &lt;= tt &amp;&amp; a[i] &lt;= a[q[tt]]) -- tt;    // è‹¥é˜Ÿå°¾ä¸å•è°ƒï¼Œttå‡1\n        q[++ tt] = i;                                  // ä¸‹æ ‡åŠ åˆ°é˜Ÿå°¾ï¼Œæ–°å…ƒç´ å…¥æ ˆï¼Œä¸Šé¢å…¥çš„æ˜¯å…ƒç´ æœ¬èº«è¿™é‡Œå…¥çš„æ˜¯å…ƒç´ ä¸‹æ ‡\n        \n        if (i + 1 &gt;= k) printf(&quot;%d &quot;, a[q[hh]]);       // è¿™é‡Œç¡®å®šè¿‡æ ˆä¸­çš„éƒ½æ˜¯æœ€å°çš„å…ƒç´ äº†å› æ­¤ç›´æ¥è¾“å‡º\n        //è¾“å‡ºç»“æœ\n    &#125;\n    cout &lt;&lt; endl;//æ¢è¡Œ\n\nå…¨éƒ¨ä»£ç ï¼\n# include &lt;iostream&gt;\nusing namespace std;\nconst int N = 1000010;\nint a[N], q[N], tail = -1;\nint head=0;\n//aå­˜å‚¨æ­£å¸¸åŸæ•°ç»„çš„å€¼\n//æ³¨æ„æ³¨æ„qå­˜å‚¨çš„æ˜¯açš„â€œä¸‹æ ‡â€ï¼Œâ€œä¸‹æ ‡â€è€Œä¸æ˜¯â€œå€¼â€\nint main()\n&#123;\n    int n, k;//hhæ˜¯å¤´ï¼Œttæ˜¯å°¾\n    cin &gt;&gt; n &gt;&gt; k;\n    for (int i = 0; i &lt; n; ++ i)//è¾“å‡ºæœ€å°ï¼Œæ¯ä¸€æ¬¡å¾ªç¯é‡Œé¢q[head]çš„å€¼ä¹Ÿå°±æ˜¯a[q[head]]æ€»æ˜¯çª—å£ä¸­æœ€å°çš„\n    &#123;\n        //i-k+1å°±æ˜¯çª—å£å¤´éƒ¨ä½ç½®\n        scanf(&quot;%d&quot;, &amp;a[i]);\n        if (i - k + 1 &gt; q[head]) ++ head;                  // è‹¥é˜Ÿé¦–å‡ºçª—å£ï¼ŒheadåŠ 1\n        while (head &lt;= tail &amp;&amp; a[i] &lt;= a[q[tail]]) -- tail;    // è‹¥é˜Ÿå°¾ä¸å•è°ƒï¼ŒtailæŒç»­å‡1\n        q[++ tail] = i;                                  // ä¸‹æ ‡åŠ åˆ°é˜Ÿå°¾,å°¾éƒ¨è¿›å…¥çª—å£\n        if (i-k + 1 &gt;= 0) printf(&quot;%d &quot;, a[q[head]]);       // è¾“å‡ºç»“æœ(åªæœ‰çª—å£å½¢æˆä¹‹åæ‰ä¼šè¾“å‡º)\n    &#125;\n    cout &lt;&lt; endl;\n    head = 0; tail = -1;                                   // é‡ç½®ï¼\n    for (int i = 0; i &lt; n; ++ i)\n    &#123;\n        if (i - k + 1 &gt; q[head]) ++ head;\t\t\t\t//åˆ¤æ–­å¤´éƒ¨æ˜¯å¦å‡ºçª—å£\n        while (head &lt;= tail &amp;&amp; a[i] &gt;= a[q[tail]]) -- tail;\n        q[++ tail] = i;\n        if (i + 1 &gt;= k) printf(&quot;%d &quot;, a[q[head]]);\n    &#125;\n    return 0;\n&#125;\n\nä¸²KMP(100æ¡æ¶ˆæ¯) æ•°æ®ç»“æ„KMPç®—æ³•é…å›¾è¯¦è§£ï¼ˆè¶…è¯¦ç»†ï¼‰_å“ˆé¡¿ä¹‹å…‰çš„åšå®¢-CSDNåšå®¢_kmpç®—æ³•éš¾å—æ˜¯ä»€ä¹ˆçº§åˆ«ï¼ˆå¥½å¥½çœ‹å¥½å¥½å­¦ï¼‰\næ¨¡æ¿yæ€»æ³¨æ„kmpç®—æ³•çš„ä¸‹æ ‡è¦ä»1å¼€å§‹å¼„ï¼\nfor(int i=1;i&lt;=n;i++)//ä¸€å¼€å§‹å°±æ˜¯1å¼€å§‹å¼„çš„\n&#123;\n    cin&gt;&gt;p[i];\n&#125;\n\næˆ–è€…é‚ªæ•™è¯»å–æ³•:cin&gt;&gt;n&gt;&gt;p+1&gt;&gt;m&gt;&gt;s+1\n\n// s[]æ˜¯é•¿æ–‡æœ¬ï¼Œp[]æ˜¯æ¨¡å¼ä¸²ï¼Œnæ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦\næ±‚æ¨¡å¼ä¸²çš„Nextæ•°ç»„ï¼š\nfor (int i = 2, j = 0; i &lt;= m; i ++ )//ä¸åŒ¹é…éƒ¨åˆ†åŸºæœ¬ä¸€æ ·ä¸€æ ·\n&#123;//ä¸€ç‚¹ç»†èŠ‚ï¼Œè¿™é‡Œæ˜¯å­ä¸²p\n    while (j &amp;&amp; p[i] != p[j + 1]) j = ne[j];//ä¹Ÿæ˜¯å›æº¯\n    if (p[i] == p[j + 1]) j ++ ;//åŒ¹é…æˆåŠŸå­ä¸²å‘å‰èµ°\n    ne[i] = j;//æ¬¸ï¼Œè¿™é‡Œä¸ä¸€æ ·äº†ï¼Œ\n    //neæ•°ç»„å…¶å®ä¹Ÿæ˜¯ä¸€æ ·æ ·çš„ï¼Œi=2æ˜¯å› ä¸ºå®é™…ä¸Š1æ˜¯è‚¯å®šæ˜¯0ï¼ˆå‰é¢éƒ½æ²¡å­—ç¬¦è‡ªç„¶æ˜¯0ï¼‰ï¼Œneæ•°ç»„ä¹Ÿæ˜¯ä»1å¼€å§‹\n&#125;\n\n// kmpåŒ¹é…\nfor (int i = 1, j = 0; i &lt;= n; i ++ )//\n&#123;//ä¸€ç‚¹ç»†èŠ‚ï¼Œä¸‹é¢æ˜¯é•¿ä¸²s\n    while (j &amp;&amp; s[i] != p[j + 1]) j = ne[j];//ä¸ç›¸ç­‰çš„æ—¶å€™é€’å½’å›é€€ï¼Œä¸ä»£ç éšæƒ³å½•æ˜¯ä¸€ç§æ–¹æ³•\n    if (s[i] == p[j + 1]) j ++ ;//å¦‚æœåŒ¹é…æˆåŠŸï¼Œå­ä¸²ä¹Ÿå‘å‰ä¸€ä½èµ°\n    if (j == m)\n    &#123;\n        j = ne[j];//å›æº¯åˆ°å‰ä¸€æ¬¡\n        // åŒ¹é…æˆåŠŸåçš„é€»è¾‘\n    &#125;\n&#125;\n\n\n#include&lt;iostream&gt;\nusing namespace std;\nconst int N=100010,M=1000010;\nchar p[N],s[M];\nint ne[N];\nint n,m;\nint main()\n&#123;\n    cin&gt;&gt;n&gt;&gt;p+1&gt;&gt;m&gt;&gt;s+1;\n    for(int i=2,j=0;i&lt;=n;i++)\n    &#123;\n        while(j&amp;&amp;p[i]!=p[j+1])j=ne[j];\n        if(p[i]==p[j+1])j++;\n        ne[i]=j;\n    &#125;\n    for(int i=1,j=0;i&lt;=m;i++)\n    &#123;\n        while(j&amp;&amp;s[i]!=p[j+1])j=ne[j];\n        if(s[i]==p[j+1])j++;\n        if(j==n)\n        &#123;\n            cout&lt;&lt;i-n&lt;&lt;&#39; &#39;;//å°±æ˜¯è¾“å‡ºä¸‹æ ‡\n            j=ne[j];\n        &#125;\n    &#125;\n    return 0;\n&#125;\n\nå…³é”®ï¼šç‰¹æ®Šæ•°ç»„nextçš„æ„é€ ï¼Œå‰ç¼€è¡¨\n\nä¸‹æ ‡5ä¹‹å‰è¿™éƒ¨åˆ†çš„å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²aabaaï¼‰çš„æœ€é•¿ç›¸ç­‰çš„å‰ç¼€ å’Œ åç¼€å­—ç¬¦ä¸²æ˜¯ å­å­—ç¬¦ä¸²aa ï¼Œå› ä¸ºæ‰¾åˆ°äº†æœ€é•¿ç›¸ç­‰çš„å‰ç¼€å’Œåç¼€ï¼ŒåŒ¹é…å¤±è´¥çš„ä½ç½®æ˜¯åç¼€å­ä¸²çš„åé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰¾åˆ°ä¸å…¶ç›¸åŒçš„å‰ç¼€çš„åé¢ä»æ–°åŒ¹é…å°±å¯ä»¥äº†\nå‰ç¼€è¡¨ï¼šå­—ç¬¦ä¸²çš„æœ€é•¿å‰ç¼€ï¼šä¸åŒ…å«å°¾å­—ç¬¦çš„æ‰€æœ‰å­ä¸²\nåç¼€ï¼šç›¸è¾ƒäºå‰ç¼€ï¼Œä¸åŒ…å«é¦–å­—æ¯çš„æ‰€æœ‰å­ä¸²\nå› æ­¤å¦‚æœä»…æœ‰å•ä¸ªå­—ç¬¦åˆ™å…¶å‰ç¼€ä¸º0\nç‰¹æ€§ï¼š\nç›®å‰è®²è§£çš„æ„é€ æ–¹æ³•\nä¾‹ï¼šå­ä¸²aabaabaafï¼Œå‰ç¼€è¡¨010120(aabaaf)\n\nå‰ç¼€å½¢å¼ï¼š010120\nå…¨éƒ¨åç§»æ–¹å¼ï¼š-1 0 10120\næ•´ä½“å‡ä¸€æ–¹å¼ï¼š-1 0 -1 0 1 -1\n\nå…±åŒç‚¹ï¼šæœ€åéƒ½åº”å½“ä¿æŒå°é—­ï¼Œè™½ç„¶ç†è§£æœ‰å‡ºå…¥ä½†æœ¬è´¨ç›¸åŒ\nä»£ç éšæƒ³å½•æ–¹æ³•ï¼šå‰ç¼€ä¸å‡å½¢å¼prev,latter;\nprev:å‰ç¼€æœ«å°¾ä½ç½®ï¼ŒåŒæ—¶ä»£è¡¨prevåŒ…æ‹¬prevä¹‹å‰å­ä¸²æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦ï¼Œä¹Ÿè¡¨ç¤ºå‰ç¼€æœ«å°¾\nlatter:åç¼€æœ«å°¾ä½ç½®\nåˆå§‹åŒ–\nprev=0;\nlatter=1;\nnext[0]=0;\n//åˆå§‹åŒ–latter\n\nå¼€å§‹å¤„ç†å‰åç¼€ä¸åŒæƒ…å†µ\n\n//prevå’Œlatterä¸€ç›´ä¸ç›¸ç­‰\nfor(latter=1;latter&lt;slength;latter++)//åç¼€æŒ‡é’ˆåªç®¡å¾€å‰èµ°å°±å®Œäº‹\n&#123;\n    //è¿™é‡Œifæ˜¯å‡ºé”™çš„æ ¹æº\n    while(s[prev]!=s[latter]&amp;&amp;prev&gt;0)//æ³¨æ„è¿™é‡Œå› ä¸ºæœ‰-1å­˜åœ¨æ‰€ä»¥ä¸€å®šå°å¿ƒè¶Šç•Œï¼Œ\n    &#123;\n        prev=next[prev-1];//prevå†²çªæ—¶å€™æ˜¯ä¸€ä¸ªè¿ç»­å›é€€çš„è¿‡ç¨‹ï¼Œå¦‚æœä½¿ç”¨ifå°±é”™äº†ï¼Œä½¿ç”¨whileå¾ªç¯å›é€€\n    &#125;\n    //åªè¦s[latter]!=s[prev]æ—¶å€™prevåº”è¯¥å‘å‰å›é€€\n    //åŸå› ï¼šä½¿ç”¨å‰ç¼€è¡¨åœ¨è¿›è¡Œkmpå¯¹æ¯”çš„æ—¶å€™å¦‚æœé‡åˆ°å†²çªï¼Œä¹Ÿæ˜¯çœ‹å†²çªä½ç½®å‰ä¸€ä½çš„è¡¨è¿›è¡Œè·³è½¬\n    \n    åˆ†ç•Œçº¿ï¼šå‰åç¼€ç›¸åŒçš„æƒ…å†µ\n        if(s[prev]==s[latter])\n        &#123;\n            prev++;//ä»£è¡¨prevä¹‹å‰æœ€é•¿ç›¸ç­‰å‰ç¼€å¯ä»¥æ›´æ–°\n           \n           //latterå› ä¸ºæœ‰forå¾ªç¯ï¼Œå› æ­¤è‡ªç„¶å‘å‰æœ‰++æ“ä½œ\n        &#125;\n         next[latter]=prev;//æ›´æ–°nextæ•°ç»„çš„å€¼\n    \n    \n&#125;\n\nè¿™é‡Œåˆ™æ˜¯å…¨éƒ¨æ“ä½œçš„éƒ¨åˆ†\n    void getNext(int* next, const string&amp; s) &#123;\n        int j = 0;\n        next[0] = 0;\n        for(int i = 1; i &lt; s.size(); i++) &#123;\n            while (j &gt; 0 &amp;&amp; s[i] != s[j]) &#123;\n                j = next[j - 1];\n            &#125;\n            if (s[i] == s[j]) &#123;\n                j++;\n            &#125;\n            next[i] = j;\n        &#125;\n    &#125;\n//è¿™é‡Œæ˜¯è¿”å›ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„ä¸‹æ ‡\n    int strStr(string haystack, string needle) &#123;\n        if (needle.size() == 0) &#123;\n            return 0;\n        &#125;\n        int next[needle.size()];\n        getNext(next, needle);//è·å–nextæ•°ç»„\n        int j = 0;\n        for (int i = 0; i &lt; haystack.size(); i++) &#123;\n            while(j &gt; 0 &amp;&amp; haystack[i] != needle[j]) &#123;\n                j = next[j - 1];//ä¸€æ ·è¿›è¡Œå›æº¯\n            &#125;\n            if (haystack[i] == needle[j]) &#123;\n                j++;\n            &#125;//ä½¿ç”¨å¾ªç¯ï¼Œç›´æ¥å¯¹prevè¿›è¡Œ+å°±è¡Œ\n            if (j == needle.size() ) &#123;\n                return (i - needle.size() + 1);\n            &#125;\n        &#125;\n        return -1;\n    &#125;\n\n\næ³¨æ„è¿™é‡Œæ˜¯æ–‡æœ¬ä¸²å’Œæ¨¡å¼ä¸²ä¸åŒ¹é…æ—¶å€™çš„æ“ä½œï¼ˆè¿™é‡Œnextæ•°ç»„é‡‡ç”¨æ­£å¸¸å‰ç¼€è¡¨ï¼‰\næ•°æ®ç»“æ„ä½œä¸šå‡ºé”™åŸå› è¦æ±‚æ¯ä¸€ä¸ªéƒ½æ±‚å‡ºæ¥\né—®é¢˜åœ¨äºï¼šå½“æ¯ä¸€æ¬¡æ»¡è¶³æ¡ä»¶åè¿›è¡Œæ¸…é›¶æ“ä½œï¼Œæœ¬è´¨ä¸ŠåŒä¸€æ¬¡ä¸¤è€…ä¸ç­‰æ—¶å€™çš„å›æº¯æ“ä½œï¼ˆprevåˆ°ä¸Šä¸€ä½æœ€æ¥è¿‘çš„å‰ç¼€ä½ç½®ï¼‰,å¦‚æœä½¿ç”¨prev&#x3D;0å°±ä¼šå‡ºç°å¯èƒ½é”™è¿‡\nä¾‹ï¼š\n    ababa  aba 001\n    //æ­£ç¡®è§£\n    if(prev==sublength)\n        &#123;\n            cout&lt;&lt;endl&lt;&lt;latter-sublength+1&lt;&lt;endl;\n            prev=next[prev-1];//å›æº¯\n        &#125;\n    //åœ¨ç¬¬ä¸€æ¬¡è§£çš„æ—¶å€™prev=3;latter=2(å› ä¸ºlatteråœ¨ä¸€æ¬¡å¾ªç¯ä¹‹åæ‰ä¼šæœ‰å¢æ“ä½œ)\n    /*\n    ä½¿ç”¨å›æº¯prev=1,sub[prev]=bé‚£ä¹ˆå°±æ¥ç€ä»latter=3.T[latter]=bæ— ç¼å¼€å§‹å‘å‰å¯¹æ¯”\n    */\n\n/é”™è¯¯\n    if(prev==sublength)\n        &#123;\n            cout&lt;&lt;endl&lt;&lt;latter-sublength+1&lt;&lt;endl;\n            prev=0;//è¿™æ ·å°±ä¼šæ˜¯é”™è¯¯ç»“æœ\n        &#125;\n\nautomata~æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºå‚è€ƒï¼š\n\n(100æ¡æ¶ˆæ¯) å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ä¹‹ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº_tyler_downloadçš„åšå®¢-CSDNåšå®¢_æœ‰é™è‡ªåŠ¨æœºç®—æ³•\nè‹è€å¸ˆåšæœäº‘pptçŠ¶æ€æœºä»£ç éƒ¨åˆ†\n\nä»£ç ï¼ˆæ„å»ºè‡ªåŠ¨æœºçŠ¶æ€è¡¨ï¼‰dfa[0][P[0]] = 1; //åˆå§‹åŒ–ç¬¬ä¸€è¡Œ\n// dfa[çŠ¶æ€][ä¸‹ä¸€ä¸ªå­—ç¬¦] for(int X = 0, j = 1; j &lt; plen; j++) &#123;\n\n// è®¡ç®— dfa[j][]\n\nfor(int c = 0; c &lt; R; c++) &#123; // R ä¸ºå­—ç¬¦ç§ç±»æ•°é‡\n\ndfa[j][c] = dfa[X][c];\n\n&#125; dfa[j][P[j]] = j + 1; X = dfa[X][P[j]]\n\n&#125;\n\n\n\nèªæ˜ç‰ˆæœ¬è‡ªåŠ¨æœºå·²çŸ¥asciiç æ€»å…±å°±128ä¸ªï¼Œç›´æ¥å¼€ä¸€ä¸ªå¤§è¡¨å°±è¡Œ\nint dfa[256][256]=0;//è¿™æ ·ç›´æ¥çœç•¥åç»­ä¸€ç³»åˆ—åˆå§‹åŒ–ï¼Œä½¿ç”¨intè½¬æ¢å­—ç¬¦ä¸²ä¼ å…¥å°±è¡Œï¼Œéå¸¸çœå¿ƒ\n\nTRIEæ ‘ï¼ˆæœ‰äº›ç±»ä¼¼å“ˆå¤«æ›¼æ ‘ç¼–ç ï¼‰ç±»ä¼¼ä½†å’Œå“ˆå¤«æ›¼æ ‘æ²¡æœ‰å…³ç³»\nåˆç§°å­—å…¸æ ‘ã€å•è¯æŸ¥æ‰¾æ ‘\nåº”ç”¨ï¼šå¿«é€Ÿå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆçš„æ•°æ®ç»“æ„\nå¦‚ä½•å­˜å‚¨ï¼šæ„å»ºä¸²æ ‘ä»æ ¹èŠ‚ç‚¹å¼€å§‹å­˜å‚¨æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œå¼€å§‹é€ä¸ªå‘ä¸‹è¿›è¡Œåˆ›å»ºï¼Œåœ¨å•è¯çš„æœ«å°¾æ‰“ä¸Šä¸€ä¸ªæ ‡è®°è¡¨ç¤ºè¯¥å•è¯èµ°åˆ°ç»“å°¾äº†\n\n\nTRIEæ ‘æœ¬è´¨æ˜¯ä¸€é¢—Nå‰æ ‘ï¼Œæœ‰å¤šå°‘ç§å­—ç¬¦ä¸€ä¸ªèŠ‚ç‚¹å°±æœ€å¤šæœ‰å¤šå°‘æ¡è¾¹\n\nå¦‚ä½•æŸ¥æ‰¾ä»å•è¯çš„é¦–å­—æ¯å¼€å§‹å‘ä¸‹èµ°ï¼Œèµ°åˆ°æ ‡è®°è¡¨ç¤ºåˆ°å¤´äº†\næ„å»ºTRIEæ ‘è¿™é‡Œä½¿ç”¨äº†æ•°ç»„æ¨¡æ‹Ÿæ ‘çš„çŸ¥è¯†\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint son[N][26];\n//è¿™é‡Œæ˜¯26å› ä¸ºåªæœ‰å°å†™å­—æ¯\n//äºŒç»´æ˜¯å¯ä»¥æœ‰å¤šå°‘ä¸ªåˆ†æ”¯ï¼Œä¸€ç»´çš„æ„ä¹‰æ˜¯æ¥è‡ªå“ªä¸€ä¸ªåŒäº²èŠ‚ç‚¹\nint cnt[N], idx;//idxæ˜¯ä¸‹æ ‡ä¸º0çš„ç‚¹ï¼Œæ˜¯æ ¹èŠ‚ç‚¹å’Œç©ºèŠ‚ç‚¹ï¼Œè¡¨ç¤ºå½“å‰è¦æ’å…¥çš„èŠ‚ç‚¹æ˜¯ç¬¬å‡ ä¸ª,æ¯åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å€¼+1\n   // cnt[]å­˜å‚¨ä»¥æŸèŠ‚ç‚¹ç»“å°¾çš„å­—ç¬¦ä¸²ä¸ªæ•°ï¼ˆåŒæ—¶ä¹Ÿèµ·æ ‡è®°ä½œç”¨ï¼‰\nchar str[N];//å­˜å‚¨è¦æ’å…¥/æŸ¥è¯¢çš„å•è¯\n\nvoid insert(char *str)\n&#123;\n    int p = 0; //ç±»ä¼¼æŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰èŠ‚ç‚¹\n    for (int i = 0; str[i]; i ++ )\n    &#123;\n        int u = str[i] - &#39;a&#39;;//uè¡¨ç¤ºæ˜¯å…·ä½“å“ªä¸€ä¸ªå­—æ¯\n        //pè¡¨ç¤ºçš„æ˜¯ç¬¬å‡ ä¸ªç»“ç‚¹ï¼Œuè¡¨ç¤ºçš„æ˜¯å“ªä¸ªå­—æ¯ï¼Œå¦‚æœs[p][u]ä¸ä¸ºç©ºå°±è¯æ˜æœ‰ä»¥è¿™ä¸ªå­—æ¯ä¸ºå€¼çš„å­ç»“ç‚¹\n        //å®ƒä»£è¡¨çš„å€¼å°±æ˜¯æŒ‡å‘äº†è¯¥å­ç»“ç‚¹ï¼Œå³è¯´æ˜äº†ç¬¬å‡ ä¸ªç»“ç‚¹æ˜¯å®ƒçš„å­ç»“ç‚¹\n         //å¦‚s[2][1]=3ï¼Œè¡¨ç¤ºç»“ç‚¹2æœ‰ä¸€ä¸ªå€¼ä¸ºbï¼ˆç¬¬äºŒä¸ªæ•°å­—ä»£è¡¨çš„æ˜¯aï½zï¼‰çš„å­ç»“ç‚¹ï¼Œæ˜¯ç»“ç‚¹3\n        if (!son[p][u]) son[p][u] = ++ idx;//ä¸å­˜åœ¨å°±åˆ›å»ºèŠ‚ç‚¹\n        //ä»¤pæŒ‡å‘å­ç»“ç‚¹\n        p = son[p][u];\n    &#125;\n    //ä¸ç®¡æ˜¯æœªå­˜åœ¨è¿‡çš„æ–°æ’å…¥è¿˜æ˜¯å·²æœ‰å­—å…¸å†å¢åŠ ä¸€ä¸ªï¼Œéƒ½æ˜¯ä»¥è¿™ä¸ªç»“ç‚¹ä¸ºæœ«å°¾çš„å­—ç¬¦ä¸²æ¬¡æ•°åŠ 1\n    cnt[p] ++ ;//ç»“æŸæ—¶çš„æ ‡è®°ï¼Œä¹Ÿæ˜¯è®°å½•ä»¥æ­¤èŠ‚ç‚¹ç»“æŸçš„å­—ç¬¦ä¸²ä¸ªæ•°\n    //è¿™ä¸€æ­¥é‡è¦ï¼\n    \n    \n&#125;\n\nint query(char *str)\n&#123;\n    int p = 0;\n    for (int i = 0; str[i]; i ++ )//èµ°åˆ°è¯¥å•è¯ä¸º0\n    &#123;\n        int u = str[i] - &#39;a&#39;;//è·å¾—å¯¹åº”å­èŠ‚ç‚¹çš„ç¼–å·\n        if (!son[p][u]) return 0;\n        p = son[p][u];\n    &#125;\n    return cnt[p];//è¿”å›ä»¥pä¸ºç»“å°¾çš„å•è¯æ•°é‡\n&#125;\n\nint main()//è¿™é‡Œæœ‰Iæ˜¯æ’å…¥å­—ç¬¦ä¸²ï¼Œå…¶å®ƒæ˜¯æŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²\n&#123;\n    int n;\n    scanf(&quot;%d&quot;, &amp;n);\n    while (n -- )\n    &#123;\n        char op[2];\n        scanf(&quot;%s%s&quot;, op, str);//å‰ä¸€æ¬¡è¾“å…¥è¢«è¦†ç›–\n        if (*op == &#39;I&#39;) insert(str);\n        else printf(&quot;%d\\n&quot;, query(str));\n    &#125;\n\n    return 0;\n&#125;\n\nTRIEæ ‘çš„å…¶å®ƒåº”ç”¨https://www.acwing.com/blog/content/32/%E5%A5%BD%E4%B8%9C%E8%A5%BF\nå¯ç¤ºï¼šå­—å…¸æ ‘ä¸å•å•å¯ä»¥é«˜æ•ˆå­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²é›†åˆï¼Œè¿˜å¯ä»¥å­˜å‚¨äºŒè¿›åˆ¶æ•°å­—\næ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘å¯¹æ‰€æœ‰çš„aiajå»ºç«‹ä¸€ä¸ªä¸²æ•°ç»„ï¼Œå¯¹äºæ¯ä¸€ä¸ªå›ºå®šçš„aiï¼Œæ¯ä¸€æ¬¡å°½é‡ä¸å’Œå½“å‰ä¸åŒçš„åˆ†æ”¯å‘ä¸‹èµ°ï¼Œèµ°åˆ°åº•è¿™æ ·ä¸€å®šå°±å¯ä»¥å¾—åˆ°æœ€ä¼˜è§£\nå³é¡ºåºï¼šæ‰€æœ‰å€¼çš„äºŒè¿›åˆ¶è¡¨ç¤ºå»ºç«‹æ ‘-&gt;éå†ä¸€æ¬¡ï¼Œæ¯ä¸€ä¸ªaiè¿›è¡Œå¯»æ‰¾å¯¹åº”çš„æœ€å¤§çš„å€¼ï¼Œæœ€åéå†ä¸€æ¬¡ä¹‹åè·å¾—ç­”æ¡ˆ\nç®—æ³•å¤æ‚åº¦ï¼šï¼ˆå»ºç«‹æ ‘ï¼‰+nï¼ˆæ¯ä¸€ä¸ªaiåªéœ€è¦åœ¨å·²ç»å»ºç«‹å¥½çš„æ ‘å†ä»å¤´åˆ°å°¾èµ°ä¸€æ¬¡å°±å¥½ï¼‰\nä»£ç ï¼šinsertå‡½æ•°æ”¹ï¼š\næ¯ä¸ªæ•°çœ‹ä½œä¸€ä¸ª31ä½é•¿åº¦çš„äºŒè¿›åˆ¶æ•°ï¼Œæœ€é«˜ä½æ˜¯0å¾€0èµ°ï¼Œæœ€é«˜ä½1å¾€1èµ°ï¼Œç„¶åå’Œç±»ä¼¼TRIEçš„æ“ä½œï¼Œä½†æ˜¯æ„å»ºçš„æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼ˆä¸€å®šæ¦‚ç‡å˜æˆæ–œæ ‘ï¼‰\nvoid insert(int x)\n&#123;\n    int p=0;  //æ ¹èŠ‚ç‚¹\n    for(int i=30;i&gt;=0;i--)//ä»æœ€å¤§ä½å¼€å§‹å»ºç«‹\n    &#123;\n        int u=x&gt;&gt;i&amp;1;   /////å–Xçš„ç¬¬iä½çš„äºŒè¿›åˆ¶æ•°æ˜¯ä»€ä¹ˆ  x&gt;&gt;k&amp;1(å‰é¢çš„æ¨¡æ¿)\n        if(!son[p][u]) son[p][u]=++idx; ///å¦‚æœæ’å…¥ä¸­å‘ç°æ²¡æœ‰è¯¥å­èŠ‚ç‚¹,å¼€å‡ºè¿™æ¡è·¯\n        p=son[p][u]; //æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚\n    &#125;//ä¸ä¸Šé¢ä¸ä¸€æ ·è¿™é‡Œå°±ä¸éœ€è¦æ ‡è®°\n&#125;\n\nint search(int x)\n&#123;\n    int p=0;int res=0;\n    for(int i=30;i&gt;=0;i--)\n    &#123;                               ///ä»æœ€å¤§ä½å¼€å§‹æ‰¾\n        int u=x&gt;&gt;i&amp;1;\n        if(son[p][!u]) ////å¦‚æœå½“å‰å±‚æœ‰å¯¹åº”çš„ä¸ç›¸åŒçš„æ•°\n        &#123;   ///pæŒ‡é’ˆå°±æŒ‡åˆ°ä¸åŒæ•°çš„åœ°å€\n\n          p=son[p][!u];\n          res=res*2+1;//å³ç§»ï¼Œå› ä¸ºæ ‘å³å„¿å­æ˜¯1\n             ///*2ç›¸å½“å·¦ç§»ä¸€ä½  ç„¶åå¦‚æœæ‰¾åˆ°å¯¹åº”ä½ä¸Šä¸åŒçš„æ•°res+1 ä¾‹å¦‚    001\n        &#125;                                                   ///       010 \n        else////   ---&gt;011                                                                           \n            //åˆšå¼€å§‹æ‰¾0çš„æ—¶å€™æ˜¯ä¸€æ ·çš„æ‰€ä»¥+0    åˆ°äº†0å’Œ1çš„æ—¶å€™åŸæ¥0å³ç§»ä¸€ä½,åˆ¤æ–­å½“å‰ä½æ˜¯åŒè¿˜æ˜¯å¼‚,åŒ+0,å¼‚+1\n        &#123;\n            p=son[p][u];\n            res=res*2+0;//å·¦ç§»ï¼Œå› ä¸ºæ ‘å·¦å„¿å­æ˜¯1\n        &#125;\n    &#125;\n    return res;\n&#125;\n\n#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\nusing namespace std;\nint const N=100010,M=31*N;//Mè¡¨ç¤ºæ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°æœ€å¤šæœ‰31ä¸ªé•¿åº¦ï¼Œå› æ­¤å»ºç«‹\nint n;\nint a[N];\nint son[M][2],idx;\n//Mä»£è¡¨ä¸€ä¸ªæ•°å­—ä¸²äºŒè¿›åˆ¶å¯ä»¥åˆ°å¤šé•¿\n\nvoid insert(int x)\n&#123;\n    int p=0;  //æ ¹èŠ‚ç‚¹\n    for(int i=30;i&gt;=0;i--)//è¿™é‡Œç›¸ç­‰i&gt;=0\n    &#123;\n        int u=x&gt;&gt;i&amp;1;   /////å–Xçš„ç¬¬iä½çš„äºŒè¿›åˆ¶æ•°æ˜¯ä»€ä¹ˆ  x&gt;&gt;k&amp;1(å‰é¢çš„æ¨¡æ¿)\n        if(!son[p][u]) son[p][u]=++idx; ///å¦‚æœæ’å…¥ä¸­å‘ç°æ²¡æœ‰è¯¥å­èŠ‚ç‚¹,å¼€å‡ºè¿™æ¡è·¯\n        p=son[p][u]; //æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€å±‚\n    &#125;\n&#125;\nint search(int x)\n&#123;\n    int p=0;int res=0;\n    for(int i=30;i&gt;=0;i--)\n    &#123;                               ///ä»æœ€å¤§ä½å¼€å§‹æ‰¾\n        int u=x&gt;&gt;i&amp;1;\n        if(son[p][!u]) ////å¦‚æœå½“å‰å±‚æœ‰å¯¹åº”çš„ä¸ç›¸åŒçš„æ•°\n        &#123;   ///pæŒ‡é’ˆå°±æŒ‡åˆ°ä¸åŒæ•°çš„åœ°å€\n\n          p=son[p][!u];\n          res=res*2+1;\n             ///*2ç›¸å½“å·¦ç§»ä¸€ä½  ç„¶åå¦‚æœæ‰¾åˆ°å¯¹åº”ä½ä¸Šä¸åŒçš„æ•°res+1 ä¾‹å¦‚    001\n        &#125;                                                       ///       010 \n        else                                            ////          ---&gt;011                                                                           //åˆšå¼€å§‹æ‰¾0çš„æ—¶å€™æ˜¯ä¸€æ ·çš„æ‰€ä»¥+0    åˆ°äº†0å’Œ1çš„æ—¶å€™åŸæ¥0å³ç§»ä¸€ä½,åˆ¤æ–­å½“å‰ä½æ˜¯åŒè¿˜æ˜¯å¼‚,åŒ+0,å¼‚+1\n        &#123;\n            p=son[p][u];\n            res=res*2+0;\n        &#125;\n    &#125;\n    return res;//æœ€åè¿”å›æ˜¯åè¿›åˆ¶å½¢æ€çš„ç­”æ¡ˆ\n&#125;\nint main(void)\n&#123;\n    cin&gt;&gt;n;\n    idx=0;\n    for(int i=0;i&lt;n;i++)\n    &#123;\n        cin&gt;&gt;a[i];\n        insert(a[i]);\n    &#125;\n    int res=0;\n    for(int i=0;i&lt;n;i++)\n    &#123;   \n        res=max(res,search(a[i]));  ///search(a[i])æŸ¥æ‰¾çš„æ˜¯a[i]å€¼çš„æœ€å¤§ä¸æˆ–å€¼\n    &#125;\n    cout&lt;&lt;res&lt;&lt;endl;\n&#125;\n\nè·³è¡¨â€”â€”åŒæ ·é¢è¯•â€”â€”ä½†æ˜¯ä¸ç”¨æ‰‹æ“ä¸€äº›å‚è€ƒçš„åšå®¢ï¼š(101æ¡æ¶ˆæ¯) ååˆ†é’Ÿå¼„æ‡‚ä»€ä¹ˆæ˜¯è·³è¡¨ï¼Œä¸æ‡‚å¯ä»¥æ¥æ‰“æˆ‘_æ„¤æ€’çš„å¯ä¹çš„åšå®¢-CSDNåšå®¢_è·³è¡¨\nä¼˜ç‚¹ï¼šå°†é“¾è¡¨æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ”¹é€ æˆlogï¼Œæ®è¯´å¯ä»¥å–ä»£çº¢é»‘æ ‘\nè·³è¡¨å±äºå¯¹é“¾è¡¨çš„æ”¹è¿›\næœ‰ç‚¹ç›¸ä¼¼kmpï¼Ÿé€šè¿‡ä¸€äº›æ‰‹æ®µåŠ å¿«è·³è·ƒçš„é€Ÿåº¦\næƒ³æ³•ï¼šé“¾è¡¨ä¸­å¢åŠ ä¸€äº›â€œè¶…çº§é“¾æ¥â€\nç‰¹ç‚¹ï¼š\nè·³è¡¨ç»“åˆäº†é“¾è¡¨å’ŒäºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³\nç”±åŸå§‹é“¾è¡¨å’Œä¸€äº›é€šè¿‡â€œè·³è·ƒâ€ç”Ÿæˆçš„é“¾è¡¨ç»„æˆ\nç¬¬0å±‚æ˜¯åŸå§‹é“¾è¡¨ï¼Œè¶Šä¸Šå±‚â€œè·³è·ƒâ€çš„è¶Šé«˜ï¼Œå…ƒç´ è¶Šå°‘\nä¸Šå±‚é“¾è¡¨æ˜¯ä¸‹å±‚é“¾è¡¨çš„å­åºåˆ—\næŸ¥æ‰¾æ—¶ä»é¡¶å±‚å‘ä¸‹ï¼Œä¸æ–­ç¼©å°æœç´¢èŒƒå›´\næ¯ä¸€å±‚å¢é•¿å“ªä¸€ä¸ªèŠ‚ç‚¹å®é™…ä¸Šæ˜¯éšæœºç”Ÿé•¿çš„\n\næ ¸å¿ƒæ€æƒ³ï¼š\nè·³è¡¨èŠ‚ç‚¹ä¸­ç”¨æ•°ç»„å­˜å‚¨ä¸åŒå±‚çº§çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\néšå³ç”Ÿé•¿\nç©ºé—´ä½¿ç”¨ç‡æœ€é«˜çš„è·³è¡¨\n\nå®ç°æ„å»ºè¿‡ç¨‹ï¼šåˆå§‹åŒ–å’Œå•é“¾è¡¨ä¸€æ ·ï¼Œä»…æœ‰ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œ\nprivate class Node &#123;\n    //ä¿å­˜å€¼\n    E data;\n    //ä¿å­˜äº†æ¯ä¸€å±‚ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¯èƒ½ä¸ºnull\n    List&lt;Node&gt; forwards;\n\n    Node(E data) &#123;\n        this.data = data;\n        forwards = new ArrayList&lt;&gt;();\n        //äº‹å…ˆæŠŠæ¯ä¸€å±‚éƒ½ç½®ä¸ºnullï¼Œè™½ç„¶ç©ºé—´åˆ©ç”¨ç‡æ²¡é‚£ä¹ˆé«˜ï¼Œä½†æ˜¯ç®€åŒ–äº†å®ç°\n        //ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰åˆ—è¡¨(æ¯”å¦‚Bæ ‘å®ç°ä¸­ç”¨åˆ°çš„Vector)æ¥å®ç°ï¼Œå°±å¯ä»¥ä¸ç”¨ä¸‹é¢çš„æ“ä½œ\n        for (int i = 0; i &lt;= maxLevel; i++) &#123;\n            forwards.add(null);\n        &#125;\n    &#125;\n\n    @Override\n    public String toString() &#123;\n        return data == null ? &quot; &quot; : &quot;&quot; + data;\n    &#125;\n\n    /**\n     * å¾—åˆ°å½“å‰èŠ‚ç‚¹levelå±‚ä¸Šçš„ä¸‹ä¸€ä¸ª(å³è¾¹ä¸€ä¸ª)èŠ‚ç‚¹\n     *\n     * @param level\n     * @return\n     */\n    Node next(int level) &#123;\n        return this.forwards.get(level);\n    &#125;\n\n&#125;\n\nTRIEæ ‘çš„å…¶å®ƒæ•£åˆ—è¡¨â€”â€”å“ˆå¸Œè¡¨-é¢è¯•å¾ˆé‡è¦ç‰¹ç‚¹ï¼šæŸ¥æ‰¾ä¸åˆ é™¤ï¼ŒæŸ¥æ‰¾å…¨éƒ¨åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆ\nåº”ç”¨ï¼š\n\næ“ä½œç³»ç»Ÿ\næ•°æ®åº“\nç¼–è¯‘å™¨\nè®¡ç½‘\nå›¾åƒæ£€ç´¢ï¼ˆæœ€åˆå§‹ç”¨äºäººè„¸è¯†åˆ«ç­‰ï¼‰\n\nçº¿æ€§è¡¨æ€»ç»“ï¼š\nå“ˆå¸Œå®šä¹‰ï¼Œåº”ç”¨æœ¬è´¨ï¼šç»™å®šä¸€ä¸ªè¾“å…¥ç»™å‡ºä¸€ä¸ªå”¯ä¸€çš„åºåˆ—å·è¾“å‡ºï¼Œå°†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç©ºé—´æ˜ å°„åˆ°ä¸€ä¸ªæ¯”è¾ƒå°çš„ç©ºé—´ï¼Œå°†ä¸€ä¸ªå¤æ‚çš„æ•°æ®ç»“æ„æ˜ å°„åˆ°ä¸€ä¸ªå°çš„\nåº”ç”¨ä¸¾ä¾‹ï¼š \n\nè¾“å…¥nä¸ªæ•°10^5ï¼Œæ•°çš„èŒƒå›´+-10^9,é€‰æ‹©ä¸€äº›æ•°å­—æ’å…¥ï¼Œé€‰æ‹©å¦å¤–ä¸€äº›æ•°å­—æŸ¥è¯¢\næ–‡æœ¬å‹ç¼©å’Œè§£å‹ç¼©\n\nå®šä½çš„è¿‡ç¨‹ï¼šå…ƒç´ é€šè¿‡å“ˆå¸Œå‡½æ•°è½¬æ¢æˆå”¯ä¸€çš„æ•´æ•°ï¼ˆå¿…é¡»å¿«é€Ÿè®¡ç®—ï¼‰\nç¬¬ä¸€æ­¥ï¼šå°†ä¸€ä¸ªå…ƒç´ æ˜ å°„æˆä¸€ä¸ªæ•´æ•°\nå“ˆå¸Œæ¨¡æ¿ï¼ˆæ­£å¸¸+å­—ç¬¦ä¸²ç‰ˆæœ¬ï¼‰(1) æ‹‰é“¾æ³•\n    int h[N], e[N], ne[N], idx;\n    const int  N=1e5+3;\n    // å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•°\n    void insert(int x)//è¿™ä¹ˆç†è§£ï¼šå°±æ˜¯æ­£å¸¸çš„æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨ï¼Œä½†æ˜¯åŠ å…¥å“ˆå¸Œå‡½æ•°\n    &#123;\n        int k = (x % N + N) % N;\n        e[idx] = x;\n        ne[idx] = h[k];//å°±æ˜¯æŠŠheadæ¢æˆäº†h[k],å› ä¸ºåŸå…ˆæ˜¯å•é“¾ï¼Œç°åœ¨å¤šé“¾\n        h[k] = idx ++ ;\n    &#125;\n\n    // åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨\n    bool find(int x)\n    &#123;\n        int k = (x % N + N) % N;//é¦–å…ˆå“ˆå¸Œ\n        for (int i = h[k]; i != -1; i = ne[i])\n            &#123;if (e[i] == x)\n                return true;&#125;\n\n        return false;\n    &#125;\n\n(2) å¼€æ”¾å¯»å€æ³•\n    const int N=2e5+3;//å¼€æ”¾å¯»å€çš„å¤§å°è¦æ”¾å¤§çš„\n    int h[N];\n    const int null=0x3f3f3f3f;\n    // å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½®\n    int find(int x)\n    &#123;\n        int t = (x % N + N) % N;\n        while (h[t] != null &amp;&amp; h[t] != x)//è¿™é‡Œæ˜“é”™ï¼Œæ˜¯&amp;&amp;\n        &#123;\n            t ++ ;\n            if (t == N) t = 0;\n        &#125;\n        return t;\n    &#125;\n\næ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯131æˆ–13331ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½\nå°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨2^64ï¼Œè¿™æ ·ç›´æ¥ç”¨unsigned long longå­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœ\n\ntypedef unsigned long long ULL;\nULL h[N], p[N]; // h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64\n\n// åˆå§‹åŒ–\np[0] = 1;\nfor (int i = 1; i &lt;= n; i ++ )\n&#123;\n    h[i] = h[i - 1] * P + str[i];\n    p[i] = p[i - 1] * P;\n&#125;\n\n// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼\nULL get(int l, int r)\n&#123;\n    return h[r] - h[l - 1] * p[r - l + 1];\n&#125;\n\nåˆ†é…ç´¢å¼•å€¼è¿™é‡Œå¯¹å­—ç¬¦è¿›è¡Œå¤„ç†ï¼Œæ¯ä¸€ç§å­—ç¬¦éƒ½è§†ä¸ºä¸€ç§å¯¹åº”çš„æ•°å­—ï¼Œä¸åŒçš„ä½æ•°æœ‰ä¸åŒçš„åŠ æƒå€¼\nunsigned int hash(char *key)\n&#123; unsigned int hash_val = 0;\n while(*key != &#39;\\0&#39;) \n &#123; hash_val = (hash_val &lt;&lt; 5) + *key++;\n//è¿™é‡Œä½¿ç”¨&lt;&lt;å®é™…ä¸Šå°±æ˜¯ç›´æ¥Ã—2^5\n  //æ¯ä¸€æ¬¡ç§»åŠ¨5ä½ï¼ˆè¿™æ ·å­ç¡¬ä»¶ä¾¿äºå®ç°ï¼Œå‚è€ƒè®¡ç»„ï¼‰\n&#125; return hash_val;\n\n&#125;\n\nç¼ºç‚¹ï¼šè™½ç„¶æ—¶é—´éå¸¸é«˜æ•ˆï¼Œä½†æ˜¯ç©ºé—´æµªè´¹éå¸¸å¤§ï¼ˆæ¯•ç«Ÿä¸èƒ½è½½æ»¡ï¼‰\nå‡å°‘ç´¢å¼•å€¼ï¼šæ–¹æ³•1ï¼šå¿½ç•¥ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œå°†å¦ä¸€éƒ¨åˆ†ç›´æ¥è§†ä¸ºç´¢å¼•å€¼\nå¥½å¤„ï¼šå¿«ï¼Œåå¤„ï¼šéš¾äºåˆ†é…ç´¢å¼•å€¼\næ–¹æ³•2ï¼šæŠ˜å ï¼Œä½¿ç”¨ä¸åŒæ–¹å¼å°†åŸæ•°æ®æ‹†åˆ†ï¼Œå†åˆå¹¶åœ¨ä¸€èµ·\næ–¹æ³•3ï¼šä½™æ•°è¿ç®—ï¼Œå¯ä»¥å…ƒç´ å€¼é™¤ä»¥æŸä¸€ç‰¹æ®Šæ•°å­—ï¼Œä½™æ•°ç”¨ä½œç´¢å¼•å€¼ï¼Œ\nunsigned int hash(char *key, unsigned int H_SIZE) \n&#123; unsigned int hash_val = 0; while(*key != &#39;\\0&#39;) &#123; hash_val = (hash_val &lt;&lt; 5) + *key++;\n\n&#125; return hash_val % H_SIZE;//è¿™é‡Œç¼©äº†ä¸€ä¸‹\n\n&#125;\n\nå­—ç¬¦ä¸²å“ˆå¸Œâ€”â€”&gt;å­—ç¬¦ä¸²å‰ç¼€å“ˆå¸Œæ³•ä½œç”¨æœ‰äº›ç±»ä¼¼kmpï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨å“ˆå¸Œè¡¨åš-&gt;ä¸€ä¸ªé›†åˆåˆ°å¦ä¸€ä¸ªé›†åˆçš„æ˜ å°„\nå®é™…ä¸Šæ˜¯å­—ç¬¦ä¸²çš„å‰ç¼€å“ˆå¸Œæ³•ï¼Œå¯¹å‰ç¼€è¿›è¡Œå“ˆå¸Œ\né—®é¢˜ï¼š\n\nå¦‚ä½•å®šä¹‰æŸä¸€ä¸ªå‰ç¼€çš„å“ˆå¸Œå€¼ï¼Œå¯ä»¥å°†å­—ç¬¦ä¸²è§†ä¸ºpè¿›åˆ¶çš„ä¸€ä¸ªæ•°ï¼Œæ¯ä¸€ä½ä¸Šçš„å­—æ¯ï¼ˆacsciiï¼‰è§†ä¸ºå¯¹åº”çš„æ•°å­—ï¼Œä½†æ˜¯ä¸èƒ½æ˜ å°„æˆ0-&gt;ç›¸åŒçš„å­—ç¬¦ä¸²æ˜ å°„ç»“æœä¼šç›¸åŒ-&gt;AAç­‰ç­‰\nå“ˆå¸Œå­—ç¬¦ä¸²å‡å®šäººå“è¶³å¤Ÿä¸å­˜åœ¨ç¢°æ’ï¼Œæ²¡æœ‰è€ƒè™‘å†²çªæƒ…å†µï¼Œç»éªŒå€¼ï¼špå–131æˆ–13331æ—¶å€™ï¼Œqå–2^64ï¼Œå‡ ä¹99%æƒ…å†µä¸ä¼šå‡ºç°å†²çª\n\nå¥½å¤„ï¼šå¯ä»¥åˆ©ç”¨æœ€å‰çš„å“ˆå¸Œè®¡ç®—å‡ºæ‰€æœ‰å­ä¸²çš„å“ˆå¸Œï¼Œ\nå·²çŸ¥h[r],h[l],\nh[r]ä¸­rä¸ºç¬¬0ä½ï¼Œh[l-1]ä¸­l-2ä¸ºç¬¬0ä½\næ“ä½œ\n\nh[l-1]ä¸h[r]å¯¹é½ï¼Œå³å‘åç§»åŠ¨å¤šå°‘ä½\nh[r]-h[l-1]å°±èƒ½æ±‚å‡ºæ¥äº†\n\nå°æŠ€å·§ï¼šä½¿ç”¨unsigned long long å­˜å‚¨æ‰€æœ‰hï¼Œç›¸å½“äºå¯¹æ‰€æœ‰æ•°å–æ¨¡äº†(å› ä¸ºæº¢å‡ºå°±ç›¸å½“äºå–æ¨¡)\næ€»ç»“ï¼šå·¦ç§»é«˜ä½å¯¹é½\nä¹‹åå¯¹å‰ç¼€å…¨éƒ¨å¤„ç†å®Œä¹‹åï¼Œå°±èƒ½ç”¨o1æ—¶é—´è®¡ç®—ä»»æ„å­ä¸²å“ˆå¸Œå€¼\né¢„å¤„ç†ï¼šh[i]&#x3D;h[i-1]*p+str[i] (ç¬¬iä½å­—æ¯)\nç‰›é€¼çš„åœ°æ–¹ï¼šæ¯”kmpç‰›é€¼ï¼šå¯ä»¥å¿«é€Ÿåˆ¤æ–­ï¼Œå¿«è¿‡o(n),æ˜¯å¤„ç†å­—ç¬¦ä¸²çš„åˆ©å™¨\nä»£ç æ ¸å¿ƒéƒ¨åˆ†ï¼š\ntypedef unsigned long long ULL;\nULL h[N], p[N]; // h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64\n\n// åˆå§‹åŒ–\np[0] = 1;\nfor (int i = 1; i &lt;= n; i ++ )\n&#123;\n    h[i] = h[i - 1] * P + str[i];\n    p[i] = p[i - 1] * P;\n&#125;\n\n// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼\nULL get(int l, int r)\n&#123;\n    return h[r] - h[l - 1] * p[r - l + 1];\n&#125;\n\nå®Œæ•´ä»£ç ï¼š\n841. å­—ç¬¦ä¸²å“ˆå¸Œ - AcWingé¢˜åº“\nAcWing 841. å­—ç¬¦ä¸²å“ˆå¸Œ ã€å…¬å¼åŠ©ç†è§£ã€‘ - AcWing\n\n#include&lt;iostream&gt;\n#include&lt;cstdio&gt;\n#include&lt;string&gt;\nusing namespace std;\ntypedef unsigned long long ULL;//ä¹Ÿå°±æ˜¯å–æ¨¡2^64ï¼Œ\nconst int N = 1e5+5,P = 131;//131 13331\nULL h[N],p[N];\n\n// h[i]å‰iä¸ªå­—ç¬¦çš„hashå€¼\n// å­—ç¬¦ä¸²å˜æˆä¸€ä¸ªpè¿›åˆ¶æ•°å­—ï¼Œä½“ç°äº†å­—ç¬¦+é¡ºåºï¼Œéœ€è¦ç¡®ä¿ä¸åŒçš„å­—ç¬¦ä¸²å¯¹åº”ä¸åŒçš„æ•°å­—\n// P = 131 æˆ–  13331 Q=2^64ï¼Œåœ¨99%çš„æƒ…å†µä¸‹ä¸ä¼šå‡ºç°å†²çª\n// ä½¿ç”¨åœºæ™¯ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­ä¸²æ˜¯å¦ç›¸åŒ\nULL query(int l,int r)&#123;\n    return h[r] - h[l-1]*p[r-l+1];\n    //ä¸ºæ±‚låˆ°rçš„å“ˆå¸Œå€¼\n    //å·²çŸ¥h[r],h[l-1]ï¼Œä¹Ÿå°±æ˜¯1åˆ°l-1ï¼Œ1åˆ°rçš„å“ˆå¸Œå€¼\n    //å› ä¸ºå­—ç¬¦ä¸²è§†ä¸ºä¸€ä¸ªpè¿›åˆ¶çš„æ•°ï¼Œå› æ­¤è¶Šå·¦è¾¹æƒé‡è¶Šé«˜ï¼Œä¸ºé«˜ä½ï¼Œå³è¾¹æ˜¯ä½ä½\n    //h[r]ä¸­ræ˜¯ç¬¬0ä½ï¼Œh[1]ä¸ºr-1ä½\n    //h[l-1]l-1æ˜¯ç¬¬0ä½ï¼Œh[1]ä¸ºl-2ä½\n    //ä¸¤è€…ç›¸å·®r-1-l+2=r-l+1ä½\n    //æœ¬è´¨å°±æ˜¯é«˜ä½å¯¹é½ï¼Œh[r]ä¸h[l-1]å¯¹é½ï¼Œ\n&#125;\nint main()&#123;\n    int n,m;\n    cin&gt;&gt;n&gt;&gt;m;\n    string x;\n    cin&gt;&gt;x;\n\n    //å­—ç¬¦ä¸²ä»1å¼€å§‹ç¼–å·ï¼Œh[1]ä¸ºå‰ä¸€ä¸ªå­—ç¬¦çš„å“ˆå¸Œå€¼\n    p[0] = 1;\n    h[0] = 0;\n    //ä»¥ä¸Šæ˜¯åˆå§‹åŒ–ï¼Œç¬¬0ä½å®é™…ä¸Šä¸åŠ å…¥è®¡ç®—\n    for(int i=0;i&lt;n;i++)&#123;\n        p[i+1] = p[i]*P;            \n        h[i+1] = h[i]*P +x[i];      //å‰ç¼€å’Œæ±‚æ•´ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼\n        //è¿™é‡Œxä¹Ÿæ˜¯ä»ç¬¬ä¸€ä½å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯0\n    &#125;\n\n    while(m--)&#123;\n        int l1,r1,l2,r2;\n        cin&gt;&gt;l1&gt;&gt;r1&gt;&gt;l2&gt;&gt;r2;\n        if(query(l1,r1) == query(l2,r2)) printf(&quot;Yes\\n&quot;);\n        else printf(&quot;No\\n&quot;);\n\n    &#125;\n    return 0;\n&#125;\n\nå“ˆå¸Œç¢°æ’å¤„ç†ï¼ˆé¢è¯•é«˜é¢‘ï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜å¯ä»¥æŠŠç¦»æ•£åŒ–çœ‹æˆä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œæ–¹å¼\nå“ˆå¸Œè¡¨å±äºæœŸæœ›ç®—æ³•ï¼Œå¯ä»¥å°†å“ˆå¸Œè¡¨çš„é“¾é•¿è§†ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œ\nç¢°æ’ï¼šä¸¤ä¸ªç›¸åŒçš„ç´¢å¼•æ”¾åœ¨ç›¸åŒçš„ç´¢å¼•ä½ç½®\nç¢°æ’å¯èƒ½æ€§å¾ˆå¤§-&gt;å®šä¹‰åŸŸå¾ˆå¤§å€¼åŸŸæ¯”è¾ƒå°\næ‹‰é“¾æ³•ï¼ˆOpen Hashingï¼‰åŸç†ï¼šå¦‚æœå¤šä¸ªç´¢å¼•å€¼æœ€ç»ˆå“ˆå¸Œå€¼ç›¸åŒï¼Œä½¿ç”¨é“¾è¡¨çš„å½¢å¼å¦å¤–å­˜å‚¨ç›¸åŒçš„å€¼\næ·»åŠ ï¼Œç›´æ¥æ·»åŠ é“¾\næŸ¥æ‰¾ï¼šå¯¹åº”ä½ç½®åœ¨é“¾è¡¨éå†ä¸€ä¸‹\nåˆ é™¤ï¼šç®—æ³•é¢˜ä¸­ä¸€èˆ¬ä¸ä¼šè¿›è¡Œåˆ é™¤èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¼šå¼€ ä¸€ä¸ªæ•°ç»„æ‰“ä¸€ä¸ªæ ‡è®°ï¼ˆå¦‚boolæ ‡è®°ï¼‰\næ•°å­¦ä¸Šå–è´¨æ•°ï¼Œè€Œä¸”ä¸¾ä¾‹2çš„å¹‚å°½å¯èƒ½è¿œå†²çªæ¦‚ç‡æœ€å°\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 3;  // å–å¤§äº1e5çš„ç¬¬ä¸€ä¸ªè´¨æ•°ï¼Œè€Œä¸”è¦ç¦»2çš„æ•´æ¬¡å¹‚å°½å¯èƒ½è¿œï¼Œ å–è´¨æ•°å†²çªçš„æ¦‚ç‡æœ€å°\n\n//* å¼€ä¸€ä¸ªæ§½ h\n//å›¾è®ºä¸­å­˜ç‚¹çš„æ–¹å¼å’Œæ•°ç»„çš„é“¾æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ä¸€ä¸ªé“¾\nint h[N], //å“ˆå¸Œè¡¨\n//ç»å…¸æ•°ç»„å®ç°é“¾è¡¨\ne[N], \nne[N], \nidx;  //é‚»æ¥è¡¨\n\nvoid insert(int x) &#123;\n    // c++ä¸­å¦‚æœæ˜¯è´Ÿæ•° é‚£ä»–å–æ¨¡ä¹Ÿæ˜¯è´Ÿçš„ æ‰€ä»¥ åŠ N å† %N å°±ä¸€å®šæ˜¯ä¸€ä¸ªæ­£æ•°\n    int k = (x % N + N) % N;//kå°±æ˜¯å¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œè¿™ä¸€æ­¥å®ç°äº†æ˜ å°„ã€‚æ¥ä¸‹æ¥æ˜¯å†™å…¥\n    //(x%N+N)è¿™ä¸€æ­¥ä¸ºäº†æœ€åä¸€å®šæ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå¦‚æœæ˜¯è´Ÿæ•°æ•°ç»„æ— æ³•å†™å…¥\n    e[idx] = x;\n    ne[idx] = h[k];\n    h[k] = idx++;\n&#125;\n\nbool find(int x) &#123;\n    //ç”¨ä¸Šé¢åŒæ ·çš„ Hashå‡½æ•° è®²xæ˜ å°„åˆ° ä» 0-1e5 ä¹‹é—´çš„æ•°\n    int k = (x % N + N) % N;\n    for (int i = h[k]; i != -1; i = ne[i]) &#123;//è¿™é‡Œæ˜¯éå†å¯¹åº”åˆ°çš„é“¾è¡¨\n        //åŒæ—¶ç”±äºåˆå§‹åŒ–æ˜¯-1ï¼Œå¼€å§‹å“ˆå¸Œæ•°ç»„ä¹Ÿè¦åˆå§‹åŒ–ä¸º-1\n        if (e[i] == x) &#123;\n            return true;\n        &#125;\n    &#125;\n    return false;\n&#125;\n\nint n;\n\nint main() &#123;\n    cin &gt;&gt; n;\n\n    memset(h, -1, sizeof h);  //å°†æ§½å…ˆæ¸…ç©º ç©ºæŒ‡é’ˆä¸€èˆ¬ç”¨ -1 æ¥è¡¨ç¤º\n    //\n\n    while (n--) &#123;\n        string op;//å­—ç¬¦ä¸²çš„è¯ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¿½ç•¥ç©ºæ ¼ï¼Œæ¢è¡Œç¬¦ç­‰ï¼Œä¸å®¹æ˜“å‡ºé”™\n        //æœ‰äº›è„æ•°æ®ä¼šå¢åŠ é¢å¤–ç©ºæ ¼\n        int x;\n        cin &gt;&gt; op &gt;&gt; x;\n        if (op == &quot;I&quot;) &#123;\n            insert(x);\n        &#125; else &#123;\n            if (find(x)) &#123;\n                puts(&quot;Yes&quot;);\n            &#125; else &#123;\n                puts(&quot;No&quot;);\n            &#125;\n        &#125;\n    &#125;\n    return 0;\n&#125;\n\nç¼ºç‚¹ï¼šæ¶ˆè€—ç©ºé—´\nå¼€æ”¾åœ°å€æ³• Open Addressingæ€è·¯ï¼šåªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥æ¨¡æ‹Ÿå“ˆå¸Œè¡¨ï¼Œå› æ­¤å½¢å¼ä¼šç›¸å¯¹ç®€æ´ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ä¸€ç»´æ•°ç»„çš„é•¿åº¦åº”è¯¥æ˜¯éœ€è¦çš„æ•°ç»„å¤§å°çš„2~3å€ï¼Œ\nç±»ä¼¼æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨çš„æ–¹å¼ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨ç©ºä½™ç©ºé—´ä¸­ï¼Œæƒ³è±¡ä¸Šå•æ‰€ï¼Œä¸€ä¸ªå‘ä½å®Œäº†å°±ä¸‹ä¸€ä¸ª\næ¢æµ‹æ–¹æ³•ï¼š\n\nçº¿æ€§æ¢æµ‹\n\nç¼ºç‚¹ï¼šè´¹æ—¶é—´ï¼Œå…ƒç´ å®¹æ˜“èšé›†ï¼Œåˆ†å¸ƒä¸å‡åŒ€ï¼Œèšé›†è¶Šå¤šæ€§èƒ½è¶Šå·®\n\nå¹³æ–¹æ¢æµ‹\n\né¿å…äº†å…ƒç´ çš„èšé›†ï¼Œå¦‚æœé¡ºåºè¡¨é•¿åº¦ä¸ºæŒ‡æ•°ï¼Œé¡ºåºè¡¨ç©ºä½å¤šäºä¸€åŠï¼Œå¹³æ–¹æ¢æµ‹æ€»èƒ½æ’å…¥æ–°å…ƒç´ \n\nä¼ªéšæœºæ¢æµ‹\n\nä»£ç \n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n//å¼€æ”¾å¯»å€æ³•ä¸€èˆ¬å¼€ æ•°æ®èŒƒå›´çš„ 2~3å€, è¿™æ ·å¤§æ¦‚ç‡å°±æ²¡æœ‰å†²çªäº†\nconst int N = 2e5 + 3;        //å¤§äºæ•°æ®èŒƒå›´çš„ç¬¬ä¸€ä¸ªè´¨æ•°\nconst int null = 0x3f3f3f3f;  //è§„å®šç©ºæŒ‡é’ˆä¸º null 0x3f3f3f3f\n//è¿™ä¸ªæ•°åªè¦ä¸åœ¨åŸæœ¬æ•°æ®èŒƒå›´å†…å°±è¡Œ\n\nint h[N];\n\nint find(int x) &#123;//è¿™ä¸€ä¸ªå‡½æ•°åŒæ—¶å®ç°æŸ¥æ‰¾å’Œæ’å…¥åŠŸèƒ½\n    int t = (x % N + N) % N;\n    while (h[t] != null &amp;&amp; h[t] != x) &#123;\n        t++;//è¿™ä¸€æ­¥æ˜¯çº¿æ€§æ¢æµ‹ï¼Œå¯ä»¥ä½¿ç”¨å¹³æ–¹æˆ–è€…ä¼ªéšæœºä¼˜åŒ–\n        if (t == N) &#123;//å¦‚æœåˆ°å¤´äº†ï¼Œå°±è¿”å›ä»å¤´æ‰¾\n            t = 0;\n        &#125;\n    &#125;\n    return t;  //å¦‚æœè¿™ä¸ªä½ç½®æ˜¯ç©ºçš„, åˆ™è¿”å›çš„æ˜¯ä»–åº”è¯¥å­˜å‚¨çš„ä½ç½®\n&#125;\n\nint n;\n\nint main() &#123;\n    cin &gt;&gt; n;\n\n    memset(h, 0x3f, sizeof h);  //è§„å®šç©ºæŒ‡é’ˆä¸º 0x3f3f3f3f\n\n    while (n--) &#123;\n        string op;\n        int x;\n        cin &gt;&gt; op &gt;&gt; x;\n        if (op == &quot;I&quot;) &#123;\n            h[find(x)] = x;//å¦™å•Š\n        &#125; else &#123;\n            if (h[find(x)] == null) &#123;\n                puts(&quot;No&quot;);\n            &#125; else &#123;\n                puts(&quot;Yes&quot;);\n            &#125;\n        &#125;\n    &#125;\n    return 0;\n&#125;\n\næœé¹ƒå“ˆå¸ŒğŸ˜æ„Ÿè§‰ï¼šæ‹†ä¸œå¢™è¡¥è¥¿å¢™ï¼Œä½†æ˜¯å¾ˆç‰›é€¼\nä¼˜ç‚¹ï¼šåªè¦ä¸¤ä¸ªè¡¨ä¸­é—´æœ‰å…ƒç´ ï¼Œä¸€å®šå¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°åœ¨é¡ºåºè¡¨ä¸­ç›´æ¥æ‰¾åˆ°ä¸ç”¨æ¢æµ‹ï¼Œéå¸¸é«˜æ•ˆ\nåŸå› ï¼šæ‰€æœ‰ç´¢å¼•ä½ç½®éƒ½æ˜¯å“ˆå¸Œå‡½æ•°å¾—åˆ°\nå¤±è´¥æ—¶ï¼š\næ²¡æœ‰è¶³å¤Ÿç©ºé—´ï¼Œè·¯å¾„æ— é™å¾ªç¯\nè½¬ç§»é“¾è¡¨è¿‡é•¿\n\nç¼ºç‚¹ï¼šå…ƒç´ è¿‡å¤šæ—¶å€™æ’å…¥å…ƒç´ å›°éš¾\n(101æ¡æ¶ˆæ¯) æœé¹ƒæ•£åˆ—_EmberWnçš„åšå®¢-CSDNåšå®¢_æœé¹ƒæ•£åˆ—\nã€æ•£åˆ—ã€‘æœé¹ƒæ•£åˆ—è¯¦æƒ…ä¸C++å®ç°ä»£ç  - awst_lee - åšå®¢å›­ (cnblogs.com)\nCuckoo hashç®—æ³•åˆ†æ - å¯é…·å¯ä¹ - åšå®¢å›­ (cnblogs.com)\nCuckoo hashing - Wikipediaï¼ˆç§‘å­¦ä¸Šç½‘çœ‹ï¼‰\næœé¹ƒå“ˆå¸Œä¸¾ä¾‹ï¼š\nåæ¶ˆæ¯ï¼šæ ¹æœ¬çœ‹ä¸æ‡‚\nå¥½æ¶ˆæ¯ï¼šä¸ç”¨çœ‹äº†\n//ä¸ºæœé¹ƒæ•£åˆ—ç”Ÿæˆæ³›å‹HashFamilyæ¥å£,ç”¨æ¥å‘å‡ºå¤šç°‡æ•£åˆ—å‡½æ•°åˆ°æœé¹ƒæ•£åˆ—è¡¨\ntemplate&lt;typename AnyType&gt;\nclass CuckooHashFamily &#123;\npublic:\n    size_t hash(const AnyType&amp; x, int which)const;\n    int getNumberOfFunctions();\n    void generateNewFunctions();\n&#125;;\n \n/**\n* æœé¹ƒæ•£åˆ—æ³•çš„éæ­£å¼å­—ç¬¦ä¸²æ•£åˆ—\n*/\ntemplate&lt;int count&gt;\nclass StringHashFamily &#123;\nprivate:\n    std::vector&lt;int&gt; MULTIPLIERS;\n    UniformRandom r;\n \npublic:\n    StringHashFamily() :MULTIPLIERS(count) &#123;\n        generateNewFuntions();\n    &#125;\n    int getNumberOfFunctions()const &#123;\n        return count;\n    &#125;\n    void generateNewFuntions() &#123;\n        for (auto&amp; mult : MULTIPLIERS)\n            mult = r.nextInt();\n    &#125;\n \n    size_t hash(const string&amp; x, int which)const &#123;\n        const int multiplier = MULTIPLIERS[which];\n        size_t hashVal = 0;\n        for (auto ch : x)\n            hashVal = multiplier * hashVal + ch;\n        return hashVal;\n    &#125;\n&#125;;\n \n//æœé¹ƒæ•£åˆ—ç±»æ¥å£ï¼Œå…è®¸(ç”±HashFamilyæ¨¡æ¿å‚æ•°ç±»å‹æŒ‡å®š)ä»»æ„ä¸ªæ•°çš„æ•£åˆ—å‡½æ•°\ntemplate&lt;typename AnyType, typename HashFamily&gt;\nclass HashTable &#123;\nprivate:\n    struct HashEntry &#123;\n        AnyType element;\n        bool isActive;\n \n        HashEntry(const AnyType&amp;e=AnyType(),bool a=false)\n            :element&#123;e&#125;,isActive&#123;a&#125;&#123;&#125;\n        HashEntry(AnyType&amp;&amp;e,bool a=false)\n            :element&#123;std::move(e)&#125;,isActive&#123;a&#125;&#123;&#125;\n    &#125;;\n \n    /**\n    * æœé¹ƒæ•£åˆ—çš„æ’å…¥ä¾‹ç¨‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼Œ\n    * è¯¥ç®—æ³•éšæœºé€‰æ‹©è¦é€å‡ºçš„é¡¹ï¼Œ\n    * ä½†ä¸å†è¯•å›¾é‡æ–°é€å‡ºæœ€åçš„é¡¹ã€‚\n    * å¦‚æœå­˜åœ¨å¤ªå¤šçš„é€å‡ºé¡¹åˆ™æ•£åˆ—è¡¨å°†å°è¯•é€‰å–æ–°çš„æ•£åˆ—å‡½æ•°(å†æ•£åˆ—)ï¼Œ\n    * è€Œè‹¥æœ‰å¤ªå¤šçš„å†æ•£åˆ—åˆ™æ•£åˆ—è¡¨å°†æ‰©å¼ \n    */\n    bool insertHelper1(const AnyType&amp; xx) &#123;\n        const int COUNT_LIMIT = 100;\n        AnyType x = xx;\n \n        while (true) &#123;\n            int lastPos = -1;\n            int pos;\n \n            for (int count = 0; count &lt; COUNT_LIMIT; ++count) &#123;\n                for (int i = 0; i &lt; numHashFunctions; ++i)\n                    pos = myhash(x, i);\n                    \n                if (!isActive(pos)) &#123;\n                    array[pos] = std::move(HashEntry&#123; std::move(x),true &#125;);\n                    ++currentSize;\n                    return true;\n                &#125;\n            &#125;\n \n            //æ— å¯ç”¨ä½ç½®ï¼Œé€å‡ºä¸€ä¸ªéšæœºé¡¹\n            int i = 0;\n            do &#123;\n                pos = myhash(x, r.nextInt(numHashFunctions));\n            &#125; while (pos == lastPos &amp;&amp; i++ &lt; 5);\n \n            lastPos = pos;\n            std::swap(x, array[pos].element);\n        &#125;\n \n        if (++rehashes &gt; ALLOWED_REHASHES) &#123;\n            expand();\t\t//ä½¿æ•£åˆ—è¡¨æ‰©å¤§\n            rehashes = 0;\t//é‡ç½®rehashesçš„è®¡æ•°\n        &#125;\n        else\n            rehash();\t\t//è¡¨å¤§å°ç›¸åŒï¼Œæ•£åˆ—å‡½æ•°éƒ½æ˜¯æ–°çš„\n    &#125;\n    bool insertHelper1(AnyType&amp;&amp; x) &#123;\n        const int COUNT_LIMIT = 100;\n \n        while (true) &#123;\n            int lastPos = -1;\n            int pos;\n \n            for (int count = 0; count &lt; COUNT_LIMIT; ++count) &#123;\n                for (int i = 0; i &lt; numHashFunctions; ++i)\n                    pos = myhash(x, i);\n \n                if (!isActive(pos)) &#123;\n                    array[pos] = std::move(HashEntry&#123; std::move(x),true &#125;);\n                    ++currentSize;\n                    return true;\n                &#125;\n            &#125;\n \n            //æ— å¯ç”¨ä½ç½®ï¼Œé€å‡ºä¸€ä¸ªéšæœºé¡¹\n            int i = 0;\n            do &#123;\n                pos = myhash(x, r.nextInt(numHashFunctions));\n            &#125; while (pos == lastPos &amp;&amp; i++ &lt; 5);\n \n            lastPos = pos;\n            std::swap(x, array[pos].element);\n        &#125;\n \n        if (++rehashes &gt; ALLOWED_REHASHES) &#123;\n            expand();\t\t//ä½¿æ•£åˆ—è¡¨æ‰©å¤§\n            rehashes = 0;\t//é‡ç½®rehashesçš„è®¡æ•°\n        &#125;\n        else\n            rehash();\t\t//è¡¨å¤§å°ç›¸åŒï¼Œæ•£åˆ—å‡½æ•°éƒ½æ˜¯æ–°çš„\n    &#125;\n    bool isActive(int currentPos)const &#123;\n        return currentPos != -1 &amp;&amp; array[currentPos].isActive;\n    &#125;\n \n    /**\n    * ä½¿ç”¨ç‰¹å®šå‡½æ•°è®¡ç®—xçš„æ•£åˆ—ä»£ç \n    * é€‰å–é€‚å½“çš„æ•£åˆ—å‡½æ•°ï¼Œç„¶åæŠŠå®ƒæ¢ç®—æˆåˆæ³•çš„æ•°ç»„ä¸‹æ ‡\n    */\n    size_t myhash(const AnyType&amp; x, int which)const &#123;\n        return hashFunctions.hash(x, which) % array.size();\n    &#125;\n \n    /**\n    * æŸ¥æ‰¾æ‰€æœ‰æ•£åˆ—å‡½æ•°çš„ä½ç½®\n    * è¿”å›æŸ¥é˜…æ‰€æœ‰çš„æ•£åˆ—å‡½æ•°ä»¥è¿”å›åŒ…å«é¡¹xçš„ä¸‹æ ‡ï¼Œè‹¥æ‰¾ä¸åˆ°åˆ™è¿”å›-1\n    */\n    int findPos(const AnyType&amp; x)const &#123;\n        for (int i = 0; i &lt; numHashFunctions; ++i) &#123;\n            int pos = myhash(x, i);\n \n            if (isActive(pos) &amp;&amp; array[pos].element == x)\n                return pos;\n        &#125;\n        return -1;\n    &#125;\n \n    /**\n    * åˆ›å»ºä¸€ä¸ªå¤§æ•°ç»„ä½†ä½¿ç”¨é‚£äº›ç›¸åŒçš„æ•£åˆ—å‡½æ•°\n    */\n    void expand() &#123;\n        rehash(static_cast&lt;int&gt;(array.size() / MAX_LOAD));\n    &#125;\n \n    /**\n    * ä¿ç•™æ•°ç»„çš„å¤§å°ä¸å˜ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„\n    * è¯¥æ•°ç»„ä½¿ç”¨é‚£äº›æ–°é€‰å‡ºçš„æ•£åˆ—å‡½æ•°å¡«å……\n    */\n    void rehash() &#123;\n        hashFunctions.generateNewFuntions();\n        rehash(array.size());\n    &#125;\n \n    void rehash(int newSize) &#123;\n        std::vector&lt;HashEntry&gt; oldArray = array;\n \n        //åˆ›å»ºæ–°çš„åŒå€å¤§å°çš„ç©ºæ•£åˆ—è¡¨\n        array.resize(nextPrime(newSize));\n        for (auto&amp; entry : array)\n            entry.isActive = false;\n \n        //å¤åˆ¶æ•´ä¸ªè¡¨\n        currentSize = 0;\n        for (auto&amp; entry : oldArray)\n            if (entry.isActive)\n                insert(std::move(entry.element));\n    &#125;\n \n    constexpr static const double MAX_LOAD=0.4; //æœ€å¤§è£…å¡«å› å­\n    static const int ALLOWED_REHASHES = 5; //æœ€å¤§æ•£åˆ—æ¬¡æ•°\n \n    vector&lt;HashEntry&gt;array;\n    int currentSize;\n    int numHashFunctions;\n    int rehashes;\n    UniformRandom r;\n    HashFamily hashFunctions;\n \npublic:\n    explicit HashTable(int size = 101) :array(nextPrime(size)) &#123;\n        numHashFunctions = hashFunctions.getNumberOfFunctions();\n        rehashes = 0;\n        makeEmpty();\n    &#125;\n \n    //æ¸…ç©ºæœé¹ƒæ•£åˆ—è¡¨\n    void makeEmpty() &#123;\n        currentSize = 0;\n        for (auto&amp; entry : array)\n            entry.isActive = false;\n    &#125;\n \n    /**\n    * æœç´¢æœé¹ƒæ•£åˆ—è¡¨çš„ä¾‹ç¨‹\n    * å¦‚æœæ‰¾åˆ°xåˆ™è¿”å›true\n    */\n    bool contains(const AnyType&amp; x)const &#123;\n        return findPos(x) != -1;\n    &#125;\n \n    /**\n    * ä»æ•£åˆ—è¡¨ä¸­åˆ é™¤x\n    * è‹¥é¡¹xè¢«æ‰¾åˆ°ä¸”è¢«åˆ é™¤åˆ™è¿”å›true\n    */\n    bool remove(const AnyType&amp; x) &#123;\n        int currentPos = findPos(x);\n        if (!isActive(currentPos))\n            return false;\n \n        array[currentPos].isActive = false;\n        --currentSize;\n        return true;\n    &#125;\n \n    //æœé¹ƒæ•£åˆ—è¡¨ä¸­å…¬æœ‰æ’å…¥æ–¹æ³•\n    bool insert(const AnyType&amp; x) &#123;\n        if (contains(x))\n            return false;\n \n        if (currentSize &gt;= array.size() * MAX_LOAD)\n            expand(); \n \n        return insertHelper1(x);\n    &#125;\n    bool insert(AnyType&amp;&amp; x) &#123;\n        if (contains(x))\n            return false;\n \n        if (currentSize &gt;= array.size() * MAX_LOAD)\n            expand(); \n \n        return insertHelper1(std::move(x));\n    &#125;\n \n    int size() const\n    &#123;\n        return currentSize;\n    &#125;\n \n    int capacity() const\n    &#123;\n        return array.size();\n    &#125;\n&#125;;\n\næ ‘æœ€åé€šè¿‡çœ‹å¤§ç¥çš„ä»£ç æ‰æç„¶å¤§æ‚Ÿï¼ŒäºŒå‰æ ‘çš„å»ºç«‹ï¼Œéœ€è¦æŒ‰ç…§ä¸€æ£µæ»¡äºŒå‰æ ‘æ¥å»ºç«‹\né—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬çš„èŠ‚ç‚¹ä¸å¤Ÿæ»¡äºŒå‰æ ‘çš„ï¼Œè¿™å°±æ˜¯å…³é”®ï¼Œç©ºèŠ‚ç‚¹ä¹Ÿéœ€è¦è¡¥ä¸Šï¼\nä½¿ç”¨æ•°ç»„æ„é€ ä¸€æ£µäºŒå‰æ ‘ä¹Ÿæ˜¯åŒç†ï¼\nå®Œå…¨äºŒå‰æ ‘çš„æ„å»ºï¼ˆ0ä½œä¸ºç©ºèŠ‚ç‚¹ï¼Œä¼šæœ‰ç©ºé—´æµªè´¹ï¼‰#include&lt;iostream&gt;\nusing namespace std;\nconst int M=1010;//å®Œå…¨äºŒå‰æ ‘\nint tree[M]=&#123;0&#125;;//å…¨éƒ¨åˆå§‹åŒ–æˆ0æ–¹ä¾¿åˆ¤æ–­\nint judge=1;//åˆ¤æ–­æ˜¯å¦ç»§ç»­è¯»å…¥\nint real_depth(int n)\n&#123;\n    int ans=0;\n    while(n!=0)\n    &#123;\n        ans++;\n        n=n/2;\n    &#125;\n    return ans;\n&#125;\nvoid DLR(int i)//\n&#123;\n    if(tree[i]!=0)\n    &#123;\n        cout&lt;&lt;tree[i]&lt;&lt;&quot; &quot;;\n        DLR(i*2);\n        DLR(i*2+1);\n    &#125;\n&#125;\nvoid LDR(int i)//ä¸­åºéå†\n&#123;\n    if(tree[i]!=0)\n    &#123;\n        \n        DLR(i*2);\n        cout&lt;&lt;tree[i]&lt;&lt;&quot; &quot;;\n        DLR(i*2+1);\n    &#125;\n&#125;\nvoid LRD(int i)//ååºéå†\n&#123;\n    if(tree[i]!=0)\n    &#123;\n\n        DLR(i*2);\n        DLR(i*2+1);\n        cout&lt;&lt;tree[i]&lt;&lt;&quot; &quot;;\n    &#125;\n&#125;\nint main()\n&#123;\n    int n;\n    cin&gt;&gt;n;\n    int node_num=1;\n    for(int j=0;j&lt;n;j++ )//è®¡æ•°æ˜¯ç¬¬å‡ ç»„\n    &#123;\n\n        int node;\n        cin&gt;&gt;node;\n        tree[1]=node;\n        int i=1;\n        if(node==0||node==-1)continue;\n        while(judge==1)\n        &#123;\n            cin&gt;&gt; node;\n            //cout&lt;&lt;&quot;node:  &quot;&lt;&lt;node&lt;&lt;endl;\n            ++i;\n            //cout&lt;&lt;&quot;i: &quot;&lt;&lt;i&lt;&lt;endl;\n            if(node==-1)//å®ç°äº†æ·±åº¦æå®šï¼Œæ¥ä¸‹æ¥æ˜¯å‰åºéå†\n            &#123;\n                cout&lt;&lt;real_depth(i-1) &lt;&lt;&quot; &quot;;\n                break;\n            &#125;\n            else\n            &#123;\n                if(tree[i/2]!=0)\n                &#123;\n                    tree[i]=node;\n                &#125;\n                if(tree[i/2]==0)\n                &#123;\n                    while(tree[i/2]==0)i=i/2;//å›é€€åˆ°ä¸Šå±‚èŠ‚ç‚¹æ˜¯æœ‰æ•°å­—\n                    i=i/2;\n                    //cout&lt;&lt;&quot;back: &quot;&lt;&lt;i&lt;&lt;endl;\n                    while(tree[i*2])i=i*2;\n                    i=i*2;\n                    //cout&lt;&lt;&quot;go: &quot;&lt;&lt;i&lt;&lt;endl;\n                    tree[i]=node;\n                &#125;\n            &#125;\n            node_num=i;\n        &#125;\n        DLR(1);//å®Œå…¨äºŒå‰æ ‘è®°å¾—è¦ä»èŠ‚ç‚¹1å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯åˆå§‹çš„èŠ‚ç‚¹\n       cout&lt;&lt;endl;\n       for(int i=1;i&lt;=node_num;i++)\n       &#123;\n           tree[i]=0;//æ¸…é›¶\n       &#125;\n    &#125;\n&#125;\n\næ ‘çš„æ¢å¤(105æ¡æ¶ˆæ¯) å…ˆåºéå†ä¸­åºéå†è¿˜åŸäºŒå‰æ ‘_May Hackerçš„åšå®¢-CSDNåšå®¢_å…ˆåºéå†ä¸­åºéå†è¿˜åŸæ ‘\nç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘ç†è®ºåŸºç¡€ï¼š\n105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰\nèƒŒä¹Ÿè¦èƒŒä¼šçš„æ¨¡æ¿:[(105æ¡æ¶ˆæ¯) æ ¹æ®å…ˆåºä¸­åºè¿˜åŸäºŒå‰æ ‘_BugMaker-shençš„åšå®¢-CSDNåšå®¢_ç”±å…ˆåºå’Œä¸­åºæ¢å¤äºŒå‰æ ‘](https://blog.csdn.net/qq_42500831/article/details/105984986?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=å…ˆåº + ä¸­åº æ¢å¤äºŒå‰æ ‘&amp;utm_medium&#x3D;distribute.pc_search_result.none-task-blog-2allsobaiduweb~default-0-105984986.142^v63^control,201^v3^control_1,213^v2^t3_control1&amp;spm&#x3D;1018.2226.3001.4187)\nåŸç†ï¼šä½¿ç”¨é€’å½’\n\n\nğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™ğŸ™æ„Ÿè°¢è¿™ä½è¥¿ç”µçš„æœ‹å‹åŠ©æˆ‘è„±ç¦»è‹¦æµ·ï¼Œæ„Ÿè°¢æ„Ÿè°¢\nå¯ä»¥ç›´æ¥ç”¨é‚£ç§ï¼šğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ï¼ˆæ•°æ®ç»“æ„æ”¾å‡æ˜¯æœºè€ƒï¼æœºè€ƒï¼æœºè€ƒï¼æˆ‘giaoï¼ï¼ï¼ï¼‰\n#include&lt;iostream&gt;\n#include&lt;vector&gt;\n#include&lt;algorithm&gt;\n\nusing namespace std;\n\nstruct Node&#123;\n    char data;\n    Node* left;\n    Node* right;\n    Node(char data)&#123;\n        this-&gt;data = data;\n        this-&gt;left = nullptr;\n        this-&gt;right = nullptr;\n    &#125;\n&#125;;\n\nvector&lt;char&gt; getCharArray(string str)&#123;\n    //è¿™ä¸€æ­¥å°±æ˜¯ä¸ºäº†åˆ©ç”¨vectoræœ‰ç°æˆçš„æ„é€ å‡½æ•°ï¼Œèƒ½çœå¾ˆå¤šæ­¥éª¤\n    vector&lt;char&gt; res;\n    for(char c : str)&#123;\n        //\n        /*\n        è¿™é‡Œçš„for(char c:str)å°±æ˜¯å®šä¹‰ä¸€ä¸ªéå†å­—ç¬¦cï¼Œè®©å®ƒåˆ†åˆ«ç­‰äºå­—ç¬¦ä¸²æ•°ç»„stré‡Œé¢çš„å„ä¸ªå­—ç¬¦ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œå½“cè¢«èµ‹å€¼ä¸ºstré‡Œé¢æ‰€æœ‰å­—ç¬¦å„ä¸€æ¬¡åï¼Œå°±ä¼šé€€å‡ºè¿™ä¸ªå¾ªç¯ã€‚\n\nè¿™ç›¸å½“äºJAVAçš„å¼ºforå¾ªç¯çš„è¯­æ³•ç»“æ„ã€‚ç›¸å½“äºC++çš„ï¼š\nfor( int i = 0; i &lt; s.length(); i++)\n&#123; s[i]â€¦\n&#125;\n        */\n        res.push_back(c);\n    &#125;\n    return res;\n&#125;\n\nNode* getTree(vector&lt;char&gt;&amp; preOrder, vector&lt;char&gt;&amp; inOrder)&#123;\n    if(preOrder.empty())&#123;\n        return nullptr;\n    &#125;\n    Node* root = new Node(preOrder[0]);\n    //æ„é€ æ ¹ç»“ç‚¹ï¼Œå¹¶ä¸”å°†rootæŒ‡é’ˆæŒ‡å‘å‰åºçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³æ€»æ ¹èŠ‚ç‚¹\n    vector&lt;char&gt;::iterator mid = find(inOrder.begin(), inOrder.end(), preOrder[0]);//éå†ä¸€æ¬¡æ‰¾åˆ°å‰åºåœ¨\n    int left_nodes = mid - inOrder.begin();//æ¥ä¸‹æ¥è¿›è¡Œåˆ†åŒºå¤„ç†\n    vector&lt;char&gt; left_inOrder(inOrder.begin(), mid);//ä¸­åºçš„å·¦å­æ ‘\n    //è¿™é‡Œç›´æ¥ç”¨äº†vectorçš„æ„é€ ï¼Œå°†inOrderèµ‹å€¼è¿‡å»ï¼Œæœ€åä¸€ä¸ªmidä¸ä¼šå¤åˆ¶\n    vector&lt;char&gt; right_inOrder(mid+1, inOrder.end());//ä¸­åºçš„å³å­æ ‘\n    vector&lt;char&gt; left_preOrder(preOrder.begin()+1, preOrder.begin()+1+left_nodes);//å‰åºçš„å·¦å­æ ‘ï¼Œå°±çœå»æ ¹èŠ‚ç‚¹äº†\n    vector&lt;char&gt; right_preOrder(preOrder.begin()+1+left_nodes, preOrder.end());//å‰åºå³å­æ ‘\n    root-&gt;left = getTree(left_preOrder, left_inOrder);//æ–°æ ‘çš„å·¦å­æ ‘\n    root-&gt;right = getTree(right_preOrder, right_inOrder);//æ–°æ ‘å³å­æ ‘\n    return root;//è¿”å›ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ\n&#125;\n\nvoid postOrder(Node* root)&#123;//åç»­éå†\n    if(root == nullptr)&#123;\n        return ;\n    &#125;\n    postOrder(root-&gt;left);\n    postOrder(root-&gt;right);\n    cout&lt;&lt;root-&gt;data;\n&#125;\n\nint main()&#123;\n    string pre_str;\n    string in_str;\n    while(cin &gt;&gt; pre_str &gt;&gt; in_str)&#123;\n        vector&lt;char&gt; preOrder = getCharArray(pre_str);//stringè½¬æ¢æˆvectorå‘é‡å½¢å¼\n        vector&lt;char&gt; inOrder = getCharArray(in_str);//\n        Node* root = getTree(preOrder, inOrder);\n        postOrder(root);\n        cout&lt;&lt;endl;\n    &#125;\n    return 0;\n&#125;\n\n\nLeetCodeè§£æ³•ï¼š\nclass Solution &#123;\nprivate:\n        TreeNode* traversal (vector&lt;int&gt;&amp; inorder, int inorderBegin, int inorderEnd, vector&lt;int&gt;&amp; preorder, int preorderBegin, int preorderEnd) &#123;\n        if (preorderBegin == preorderEnd) return NULL;\n\n        int rootValue = preorder[preorderBegin]; // æ³¨æ„ç”¨preorderBegin ä¸è¦ç”¨0\n        TreeNode* root = new TreeNode(rootValue);\n\n        if (preorderEnd - preorderBegin == 1) return root;\n\n        int delimiterIndex;\n        for (delimiterIndex = inorderBegin; delimiterIndex &lt; inorderEnd; delimiterIndex++) &#123;\n            if (inorder[delimiterIndex] == rootValue) break;\n        &#125;\n        // åˆ‡å‰²ä¸­åºæ•°ç»„\n        // ä¸­åºå·¦åŒºé—´ï¼Œå·¦é—­å³å¼€[leftInorderBegin, leftInorderEnd)\n        int leftInorderBegin = inorderBegin;\n        int leftInorderEnd = delimiterIndex;\n        // ä¸­åºå³åŒºé—´ï¼Œå·¦é—­å³å¼€[rightInorderBegin, rightInorderEnd)\n        int rightInorderBegin = delimiterIndex + 1;\n        int rightInorderEnd = inorderEnd;\n\n        // åˆ‡å‰²å‰åºæ•°ç»„\n        // å‰åºå·¦åŒºé—´ï¼Œå·¦é—­å³å¼€[leftPreorderBegin, leftPreorderEnd)\n        int leftPreorderBegin =  preorderBegin + 1;\n        int leftPreorderEnd = preorderBegin + 1 + delimiterIndex - inorderBegin; // ç»ˆæ­¢ä½ç½®æ˜¯èµ·å§‹ä½ç½®åŠ ä¸Šä¸­åºå·¦åŒºé—´çš„å¤§å°size\n        // å‰åºå³åŒºé—´, å·¦é—­å³å¼€[rightPreorderBegin, rightPreorderEnd)\n        int rightPreorderBegin = preorderBegin + 1 + (delimiterIndex - inorderBegin);\n        int rightPreorderEnd = preorderEnd;\n\n        cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;\n        cout &lt;&lt; &quot;leftInorder :&quot;;\n        for (int i = leftInorderBegin; i &lt; leftInorderEnd; i++) &#123;\n            cout &lt;&lt; inorder[i] &lt;&lt; &quot; &quot;;\n        &#125;\n        cout &lt;&lt; endl;\n\n        cout &lt;&lt; &quot;rightInorder :&quot;;\n        for (int i = rightInorderBegin; i &lt; rightInorderEnd; i++) &#123;\n            cout &lt;&lt; inorder[i] &lt;&lt; &quot; &quot;;\n        &#125;\n        cout &lt;&lt; endl;\n\n        cout &lt;&lt; &quot;leftPreorder :&quot;;\n        for (int i = leftPreorderBegin; i &lt; leftPreorderEnd; i++) &#123;\n            cout &lt;&lt; preorder[i] &lt;&lt; &quot; &quot;;\n        &#125;\n        cout &lt;&lt; endl;\n\n        cout &lt;&lt; &quot;rightPreorder :&quot;;\n        for (int i = rightPreorderBegin; i &lt; rightPreorderEnd; i++) &#123;\n            cout &lt;&lt; preorder[i] &lt;&lt; &quot; &quot;;\n        &#125;\n        cout &lt;&lt; endl;\n\n\n        root-&gt;left = traversal(inorder, leftInorderBegin, leftInorderEnd,  preorder, leftPreorderBegin, leftPreorderEnd);\n        root-&gt;right = traversal(inorder, rightInorderBegin, rightInorderEnd, preorder, rightPreorderBegin, rightPreorderEnd);\n\n        return root;\n    &#125;\n\npublic:\n    TreeNode* buildTree(vector&lt;int&gt;&amp; preorder, vector&lt;int&gt;&amp; inorder) &#123;\n        if (inorder.size() == 0 || preorder.size() == 0) return NULL;\n        return traversal(inorder, 0, inorder.size(), preorder, 0, preorder.size());\n\n    &#125;\n&#125;;\n\nå¹¶æŸ¥é›†â€”â€”é¢è¯•æ¶‰åŠâ€”â€”ç«èµ›é¢‘ç‡ä¹Ÿé«˜ğŸ˜é¢è¯•å®˜ä¸€èˆ¬éƒ½ä¹ æƒ¯å»é—®ä¸€äº›ä»£ç çŸ­ä½†æ˜¯æ€è·¯ç²¾å·§çš„ï¼ˆä¾¿äºæ‰‹å†™ä»£ç ï¼‰\næå‰å­¦ä¹ çŸ¥è¯†ï¼šé“¾è¡¨ï¼Œçº¿æ€§è¡¨\nå…¨åï¼šå½’å¹¶æŸ¥æ‰¾é›†åˆï¼Œå³åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆ\n836. åˆå¹¶é›†åˆ - AcWingé¢˜åº“\nå¯é€‰æ–¹æ³•ï¼š\n\nå»ºä¸¤ä¸ªå“ˆå¸Œè¡¨åˆ†åˆ«æ‰¾\nå»ºä¸¤ä¸ªè·³è¡¨åˆ†åˆ«æ‰¾\n\nåœ¨é›†åˆç»å¸¸åŠ¨æ€å˜åŒ–æ—¶å€™ï¼ŒæŸ¥æ‰¾æ–¹æ³•æ•ˆç‡å¹¶ä¸é«˜\nå¹¶æŸ¥é›†åº”ç”¨ï¼šå¿«é€Ÿå¤„ç†ä¸‹åˆ—é—®é¢˜ï¼š\n\nå°†ä¸¤ä¸ªé›†åˆåˆå¹¶\nè¯¢é—®ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆä¸­\n\nå¹¶æŸ¥é›†èƒ½åœ¨è¿‘ä¹Oï¼ˆ1ï¼‰çš„æ—¶é—´å¤æ‚åº¦ä¹‹å†…å¿«é€Ÿæ”¯æŒä»¥ä¸Šä¸¤ç§æ“ä½œ\næ­£å¸¸ï¼šåˆå¹¶å…ƒç´ æ–¹å¼ï¼Œè‡³å°‘éœ€è¦å¯¹çº¿æ€§è¡¨&#x2F;é“¾è¡¨æ•´ä¸ªè¿›è¡Œä¸€æ¬¡éå†ï¼Œè€—æ—¶é«˜\nåŸºæœ¬åŸç†ï¼šæ¯ä¸€ä¸ªé›†åˆä½¿ç”¨ä¸€æ£µæ ‘æ¥ç»´æŠ¤ï¼ˆä¸ä¸€å®šæ˜¯äºŒå‰æ ‘ï¼Œå¯èƒ½æ˜¯ä¸‰å‰æ ‘ï¼ŒB+æ ‘ç­‰ï¼‰ï¼Œæ¯ä¸€ä¸ªé›†åˆçš„ç¼–å·å°±æ˜¯æ ¹èŠ‚ç‚¹çš„ç¼–å·ï¼Œæ ‘ä¸­å¯¹äºæ¯ä¸€ä¸ªç‚¹éƒ½å­˜å‚¨å…¶çˆ¶èŠ‚ç‚¹ï¼ˆç”¨p[x]è¡¨ç¤ºxçš„çˆ¶èŠ‚ç‚¹ï¼‰ï¼Œåœ¨æ±‚æŸä¸ªå…ƒç´ æ˜¯å¦å±äºæŸä¸€ä¸ªé›†åˆçš„æ—¶å€™ï¼Œå°±åœ¨è¯¥å…ƒç´ å‘ä¸Šéå†ï¼ŒçŸ¥é“åˆ°è¾¾æ ¹èŠ‚ç‚¹ï¼Œæœ€ååˆ¤æ–­æ ¹èŠ‚ç‚¹çš„ç¼–å·æ˜¯å¦æ˜¯æ‰€éœ€ç¼–å·\nè§£å†³é—®é¢˜ä¸æµç¨‹ï¼š\n\nå¦‚ä½•åˆ¤æ–­æ ‘æ ¹ï¼Œ\nif(p[x]==x)//å¯¹äºæ ‘æ ¹ç¼–å·ç­‰äºè‡ªèº«\n\n\nå¦‚ä½•æ±‚xçš„é›†åˆç¼–å·:\nwhile(p[x]!=x)x=p[x]//å¤šä¹ˆç†Ÿæ‚‰çš„é“¾è¡¨çš„éå†æ“ä½œï¼Œå› æ­¤æ˜¯é“¾è¡¨å®ç°\n    //è¿™ä¸€æ­¥å®é™…ä¸Šçš„æ—¶é—´å¤æ‚åº¦ä¼šé«˜ï¼Œå› ä¸ºè¿˜æ˜¯ä¼šå‘ä¸Šè¿›è¡Œä¸€ä¸ªéå†ï¼Œæ—¶é—´å’Œæ ‘çš„é«˜åº¦æœ‰å…³ï¼Œå› æ­¤æ ‘æœ€å¥½é«˜åº¦è¶Šä½è¶Šå¥½\n\n\nå¦‚ä½•åˆå¹¶ä¸¤ä¸ªé›†åˆï¼šåŠ ä¸€æ¡è¾¹ï¼Œå°†ä¸€ä¸ªæ ‘æ’å…¥åˆ°å¦ä¸€æ£µæ ‘èº«ä¸Šå°±å¯ä»¥\n\n\n//å‡è®¾p[x]æ˜¯xé›†åˆç¼–å·ï¼Œp[y]æ˜¯yçš„é›†åˆç¼–å·ï¼Œé‚£ä¹ˆåªéœ€è¦\np[x]=y\n\n\n\nå†™æ³•ï¼šint find(int x)//æ ¸å¿ƒçš„å‡½æ•°\n    //åŠ ä¸Šè·¯å¾„å‹ç¼©ï¼Œä¼šè‡ªåŠ¨æ‰¾åˆ°æ ¹èŠ‚ç‚¹\n&#123;\n    //if(p[x]!=x)x=p[x];\n    if(p[x]!=x)p[x]=find(p[x]);\n    //æ˜“é”™ï¼šp[x]=find(p[x])è¿™é‡Œè¦æ›´æ–°çš„\n    //æ˜“é”™ï¼šè¿™é‡Œæ˜¯ifä¸èƒ½æ˜¯å¾ªç¯while\n    \n    \n    /*\n    ä¸Šé¢ä¸¤å¥åˆ†åˆ«æ˜¯æ™®é€šç‰ˆæœ¬å’ŒåŠ è¿‡è·¯å¾„ä¼˜åŒ–çš„ç‰ˆæœ¬\n    ç¬¬ä¸€ä¸ªå°±æ˜¯æ™®é€šå¾ªç¯è¿›è¡ŒæŸ¥æ‰¾\n    ç¬¬äºŒå±€æ˜¯è°ƒç”¨é€’å½’ï¼Œæ¯ä¸€æ¬¡åœ¨å¯»æ‰¾çš„æ—¶å€™éƒ½ä¼šå¯¹å½“å‰çš„èŠ‚ç‚¹è¿›è¡Œæ›´æ–°ï¼Œåˆæ¬¡æ‰§è¡Œä¼šæ…¢ï¼Œä¹‹åé€Ÿåº¦ä¼šé£å‡\n    */\n    return p[x];//æœ€åè¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹\n&#125;\nvoid merge(int x,int y)\n&#123;\n        p[x]=y;//æ ¸å¿ƒå‡½æ•°äºŒï¼šåˆå¹¶     \n&#125;\n\nå…¨ä»£ç ï¼š\n#include&lt;iostream&gt;\n\nusing namespace std;\n\nconst int N=100010;\nint p[N];//å®šä¹‰å¤šä¸ªé›†åˆ\n\nint find(int x)\n&#123;\n    if(p[x]!=x) p[x]=find(p[x]);\n    /*\n    ç»ä¸Šè¿°å¯ä»¥å‘ç°,æ¯ä¸ªé›†åˆä¸­åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„p[x]å€¼ç­‰äºä»–è‡ªå·±,å³:\n    p[x]=x;\n    */\n    return p[x];\n    //æ‰¾åˆ°äº†ä¾¿è¿”å›ç¥–å®—èŠ‚ç‚¹çš„å€¼\n&#125;\nvoid merge(int x ,int y)//è¿™é‡Œæ˜¯æŠŠxçš„å¤´å¹¶åˆ°yäº†\n&#123;\n    p[find(x)]=find(y);//è¿™é‡Œè¿›è¡Œæ“ä½œä½¿ç”¨ä¸Šä¸€æ­¥çš„findå‡½æ•°\n&#125;\n\nint main()\n&#123;\n    int n,m;\n    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);\n    for(int i=1;i&lt;=n;i++) p[i]=i;\n    while(m--)\n    &#123;\n        char op[2];\n        int a,b;\n        scanf(&quot;%s%d%d&quot;,op,&amp;a,&amp;b);\n        if(*op==&#39;M&#39;) merge(a,b);//é›†åˆåˆå¹¶æ“ä½œ\n        else\n        if(find(a)==find(b))\n        //å¦‚æœç¥–å®—èŠ‚ç‚¹ä¸€æ ·,å°±è¾“å‡ºyes\n        printf(&quot;Yes\\n&quot;);\n        else\n        printf(&quot;No\\n&quot;);\n    &#125;\n    return 0;\n&#125;\n\nå¹¶æŸ¥é›†ä¼˜åŒ–ï¼šè·¯å¾„å‹ç¼©å¹¶æŸ¥é›†æœ€ç‰›é€¼çš„ä¼˜åŒ–æ–¹å¼ï¼Œå¦ä¸€ç§ä¼˜åŒ–åŸºæœ¬å†™ä»£ç æ—¶å€™ä¸ä¼šä½¿ç”¨\nåŸç†ï¼šä¸€æ—¦åœ¨å‘ä¸Šèµ°çš„æ—¶å€™æ‰¾åˆ°äº†æ ¹èŠ‚ç‚¹ï¼Œå°†è¯¥è·¯å¾„æ‰€æœ‰èŠ‚ç‚¹éƒ½æŒ‡å‘æ ¹èŠ‚ç‚¹ï¼Œå³åªéœ€è¦æœç´¢ä¸€æ¬¡ï¼Œä¹‹åçš„é‡å¤æ“ä½œé€Ÿåº¦å°±ä¼šæé«˜ï¼Œå¯ä»¥è§†ä¸ºOï¼ˆ1ï¼‰ä¼˜åŒ–\nä¼˜åŒ–ï¼šåŠ æƒåˆå¹¶é˜²æ­¢æ ‘è¶Šæ¥è¶Šé«˜\nè®°å½•æ¯æ£µæ ‘å…ƒç´ çš„ä¸ªæ•°ä½œä¸ºæ ‘çš„æƒé‡\nå †ï¼šå®Œå…¨äºŒå‰æ ‘çš„æ“ä½œåº”ç”¨ï¼š\n\næ„é€ ä¼˜å…ˆé˜Ÿåˆ—\n\nï¼ˆä¸ç”¨stlï¼‰æ‰‹æ“ä¸€ä¸ªå †ï¼Œå †çš„åŸºæœ¬\n\næ’å…¥ä¸€ä¸ªæ•°\næ±‚è¿™ä¸ªé›†åˆå½“ä¸­çš„æœ€å°å€¼\nåˆ é™¤æœ€å°å€¼\nåˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼ˆstlæ— æ³•ç›´æ¥å®ç°ï¼‰\nä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼ˆstlæ— æ³•ç›´æ¥å®ç°ï¼‰\n\nå †çš„åŸºæœ¬ç»“æ„ï¼šå †å±äºä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼ˆæŒ‡é™¤äº†æœ€åä¸€æ’å…¶ä»–éƒ½æ˜¯å‡åŒ€åˆ†å¸ƒï¼Œå³æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸æ˜¯éç©ºï¼‰ï¼Œæœ€åä¸€å±‚èŠ‚ç‚¹ä»å·¦åˆ°å³ä¾æ¬¡æ’åˆ—\nå°æ ¹å †çš„æ€§è´¨ï¼šæ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯å°äºç­‰äºå·¦å³å„¿å­ï¼ˆå³é€’å½’å®šä¹‰ï¼‰ï¼Œåˆ™æ ¹èŠ‚ç‚¹å°±æ˜¯æœ€å°å€¼\nå¤§æ ¹å †ï¼šç›¸å\nå‡¡æ˜¯å®Œå…¨äºŒå‰æ ‘éƒ½æ˜¯ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨çš„\n1å·ç‚¹æ˜¯æ ¹èŠ‚ç‚¹\nxçš„å·¦å„¿å­ä¸‹æ ‡ï¼š2x,\nxçš„å³å„¿å­ä¸‹æ ‡ï¼š2x+1\nstlé‡Œé¢çš„å †å°±æ˜¯ä¼˜å…ˆé˜Ÿåˆ—\nç‰¹ç‚¹ï¼š\n\næ—¶é—´å¤æ‚åº¦éå¸¸ç¨³å®šï¼Œä¸ä¾èµ–åŸå§‹è®°å½•çŠ¶æ€\t \næ˜¯ä¸€ç§ä¸ç¨³å®šçš„æ’åºæ–¹æ³•ï¼ˆè®°å½•æ¯”è¾ƒä¸äº¤æ¢è·³è·ƒè¿›è¡Œï¼‰\n\nåŸºæœ¬å‡½æ•°ï¼šdown(x)ï¼šå¦‚æœæŸä¸€ä¸ªç‚¹çš„å€¼å˜å¤§ï¼Œå°±å°†è¯¥å€¼å‘ä¸‹å‹\nup(x)ï¼šå¦‚æœä¸€ä¸ªç‚¹çš„å€¼å˜å°ï¼Œå‘ä¸Šå‡\nä¸¤ä¸ªå‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°éƒ½å’ŒäºŒå‰æ ‘çš„æ·±åº¦æˆæ­£æ¯”ï¼Œä¹Ÿå°±æ˜¯logn\nè¿™é‡Œçš„xå®é™…ä¸Šæ˜¯æ‰€å¤„çš„ä½ç½®\nç”±åŸºæœ¬å‡½æ•°æ„æˆå †çš„å‡ ç§æ“ä½œï¼š\n\næ’å…¥ä¸€ä¸ªæ•°\n\nheap[++size]=x;//è¿™ä¸€æ­¥å°†å †æ•°ç»„çš„æœ€åå†ä¸€ä¸ªæ¢æˆéœ€è¦çš„æ•°\nup(size);\n\n\næ±‚æœ€å°å€¼\n\nheap[1];//æ˜¯å°æ ¹å †ï¼Œåˆ™å°±æœ€ä¸Šé¢çš„å°±æ˜¯æœ€å°çš„\n\n\nåˆ é™¤æœ€å°å€¼(ä¹Ÿå°±æ˜¯æœ€é¡¶éƒ¨çš„æ ¹èŠ‚ç‚¹çš„åˆ é™¤)\n\næ€è·¯ï¼šç”¨å †åº•éƒ¨çš„æœ€åä¸€ä¸ªå…ƒç´ è¦†ç›–æ‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¿›è¡Œdownï¼ˆ1)\nåŸç†ï¼šå­˜å‚¨ç»“æ„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œåˆ é™¤å°¾éƒ¨èŠ‚ç‚¹å¾ˆå®¹æ˜“ï¼ˆç›´æ¥sizeâ€“å°±è¡Œï¼‰ï¼Œä½†åˆ é™¤å¤´éƒ¨å´å¾ˆéº»çƒ¦\nè¦†ç›–æ‰ä¹‹åå†ä½¿ç”¨å‘ä¸‹å‡½æ•°downä¼šè®©é¡¶éƒ¨å…ƒç´ ä¸‹æ²‰åˆ°æ­£ç¡®ä½ç½®\nheap[1]=heap[size];\nsize--;\ndown(1);\n\n\nåˆ é™¤ä»»æ„ä¸€ä¸ªå…ƒç´ ,å’Œåˆ é™¤å¤´éƒ¨ä¸å¤ªä¸€æ ·åœ¨äºä¸ç¡®å®šæ”¹å˜å€¼ä¹‹åæ˜¯å¤§è¿˜æ˜¯å°\n\nç®€å•ç²—æš´å¥½ä½¿çš„åŠæ³•ï¼šç®¡ä»–å‘¢ï¼Œdownä¸€æ¬¡ï¼Œupä¸€æ¬¡ï¼Œå› ä¸ºupå’Œdownå®é™…ä¸Šåªä¼šæ‰§è¡Œä¸€æ¬¡\nheap[k]=heap[size];\nsize--;//\ndown(k);\nup(k);\n\n\nä¿®æ”¹ä»»æ„ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼šåŒåˆ é™¤ä¸€ä¸ªå…ƒç´ çš„æ“ä½œ\n\nheap[k]=x;\ndown(k);\nup(k);\n\næ„å»ºå°ç»†èŠ‚ï¼šä¸åŒäºå…¶å®ƒçš„ä¸€èˆ¬é‡‡ç”¨ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯¹äºæ ‘å½¢ç»“æ„ï¼Œå› ä¸ºæ ‘çš„æ€§è´¨æœ‰å·¦å„¿å­&#x3D;æ ¹&#x2F;2ï¼Œå¦‚æœä»0å¼€å§‹å·¦å„¿å­ä¹Ÿæ˜¯0ï¼Œä¸æ–¹ä¾¿ï¼Œå› æ­¤å †æ’åºå®é™…ä¸Šæ˜¯ä»1å¼€å§‹\nå¼€å§‹æ„å»ºï¼šæ„å»ºå †å¯ä»¥ç”¨æ’å…¥çš„æ–¹å¼æ“ä½œï¼Œä½†æ¯ä¸€æ¬¡æ’å…¥éƒ½æ˜¯lognï¼Œå®é™…ä¸Šä¸å¥½\næœ‰æ—¶é—´å¤æ‚åº¦ä¸ºonçš„æ–¹å¼\nfor(int i=size/2,i&gt;0;i--)down(i);\n\næ„å»ºupå¦™å•Šï¼ˆå‘å‡ºæŠ±å¤§ä½¬å¤§è…¿çš„å£°éŸ³ï¼‰ğŸ˜\nvoid up(int u)\n&#123;\n    while (u / 2 &amp;&amp; h[u] &lt; h[u / 2])//ä¸ç®¡uæ˜¯å·¦å³å„¿å­ï¼Œéƒ½ä¸é‡è¦ï¼Œç›´æ¥/2æŒ‡å‘çš„åŒäº²éƒ½æ˜¯åŒä¸€ä¸ª\n    &#123;\n        swap(u, u / 2);\n        u &gt;&gt;= 1;//uå˜æˆåŸå…ˆçš„äºŒåˆ†ä¹‹ä¸€\n    &#125;\n&#125;\n\næ„å»ºdownvoid down(int u)\n&#123;\n    int t=u;\n    if(u*2&lt;=size&amp;&amp;h[u*2]&lt;h[t])t=u*2;//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°\n    if(u*2+1&lt;=size&amp;&amp;h[u*2+1]&lt;=h[t])t=u*2+1;//åˆ¤æ–­å³å„¿å­å’Œå¤§å°\n    //æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡\n    if(u!=t)//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”\n    &#123;\n        swap(h[u],h[t]);\n        down(t);//é€’å½’å‘ä¸‹ç»§ç»­å¼„\n    &#125;\n    \n&#125;\n\næ¨¡æ‹Ÿå †éš¾ç‚¹ï¼šæ”¯æŒéšæœºçš„ä¿®æ”¹å’Œåˆ é™¤,é¢˜ä¸­è¦æ±‚æ˜¯ç¬¬iä¸ªï¼Œä½†æ˜¯iå¯¹åº”çš„ä¸‹æ ‡ä¼šéšç€æ“ä½œå˜åŒ–ä¸‹æ ‡è·Ÿç€å˜åŒ–ï¼Œéœ€è¦å®æ—¶æ›´æ–°ã€‚å› æ­¤æ˜ å°„ä¹Ÿè¦äº¤æ¢å¥½\nè§£æ³•ï¼šä½¿ç”¨æ˜ å°„,è€ç‰›é€¼äº†\n\n\n// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1\n// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®\n// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„\nint h[N], ph[N], hp[N], size;\n//phä»å·¦åˆ°å³ï¼Œhpä»å³åˆ°å·¦ã€\n//äº¤æ¢æ•°çš„æ—¶å€™ï¼ŒæŒ‡é’ˆä¹Ÿè¦äº¤æ¢\n// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»\nvoid heap_swap(int a, int b)//é’ˆå¯¹è¿™ä¸€é“é¢˜å¼€å‘çš„æ˜ å°„å…³ç³»è½¬æ¢\n&#123;\n    swap(ph[hp[a]],ph[hp[b]]);//æŒ‡é’ˆäº¤æ¢\n    swap(hp[a], hp[b]);//é€†æŒ‡é’ˆäº¤æ¢\n    swap(h[a], h[b]);//æ•°å€¼äº¤æ¢\n&#125;\n\nvoid down(int u)\n&#123;\n    int t = u;\n    if (u * 2 &lt;= size &amp;&amp; h[u * 2] &lt; h[t]) t = u * 2;\n    if (u * 2 + 1 &lt;= size &amp;&amp; h[u * 2 + 1] &lt; h[t]) t = u * 2 + 1;\n    if (u != t)\n    &#123;\n        heap_swap(u, t);\n        down(t);\n    &#125;\n&#125;\n\nvoid up(int u)\n&#123;\n    while (u / 2 &amp;&amp; h[u] &lt; h[u / 2])\n    &#123;\n        heap_swap(u, u / 2);\n        u &gt;&gt;= 1;\n    &#125;\n&#125;\n\n// O(n)å»ºå †\nfor (int i = n / 2; i; i -- ) down(i);\n\nè§£é¢˜æŠ€å·§ï¼šå½“é¢˜ä¸­æœ‰æ˜ç¡®ç»™å‡ºç¬¬iä¸ªæ“ä½œæ•°ï¼Œè¦è€ƒè™‘å¦‚ä½•é€šè¿‡æ›´æ–°æ“ä½œæ•°çš„ä¸‹æ ‡\n\n\nå †æ’åºï¼šonlognä¸€èˆ¬å‡åºä½¿ç”¨å¤§é¡¶å †ï¼Œé™åºé‡‡ç”¨å°é¡¶å †\nä¸¾ä¾‹ï¼šå¯¹æ•°ç»„è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œè¾“å‡ºå‰må°çš„æ•°\næ€è·¯ï¼šæœ¬é¢˜å¯ä»¥ä½¿ç”¨å †æ’åºï¼Œæ„é€ å°é¡¶å †ï¼Œç„¶åè¾“å‡ºå †é¡¶ï¼Œè¾“å‡ºåæŠŠå †é¡¶å’Œå †å°¾äº¤æ¢ã€‚å°¾éƒ¨è¾¹ç•Œç¼©å°ï¼Œé‡å¤æ‰§è¡Œmæ¬¡å³å¯ã€‚\næ³¨æ„ç‚¹ï¼š\n\nå’Œå®Œå…¨äºŒå‰æ ‘ä¸€æ ·ä¸‹æ ‡ä»1å¼€å§‹\n\nä»£ç ï¼šæ˜“é”™ç‚¹ï¼š\næ¨¡æ‹Ÿå †ï¼ˆç›´æ¥é€ å°æ ¹å †ï¼‰#include &lt;iostream&gt;\nusing namespace  std;\nconst int M=100100;\nint h[M];\nint size;\nvoid big_down(int u)//æœ€åå¤§çš„ä¼šå‘ä¸‹èµ°\n&#123;\n    int t=u;\n    if(u*2&lt;=size&amp;&amp;h[u*2]&lt;h[t])t=u*2;//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°\n    if(u*2+1&lt;=size&amp;&amp;h[u*2+1]&lt;=h[t])t=u*2+1;//åˆ¤æ–­å³å„¿å­å’Œå¤§å°\n    //æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡\n    if(u!=t)//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”\n    &#123;\n        swap(h[u],h[t]);\n        big_down(t);//é€’å½’å‘ä¸‹ç»§ç»­å¼„\n    &#125;\n&#125;\nvoid small_down(int u)//æœ€åå°çš„ä¼šå‘ä¸‹èµ°\n&#123;\n    int t=u;\n    if(u*2&lt;=size&amp;&amp;h[u*2]&gt;h[t])t=u*2;//å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å·¦å„¿å­ï¼Œç„¶ååˆ¤æ–­å·¦å„¿å­å°\n    if(u*2+1&lt;=size&amp;&amp;h[u*2+1]&gt;=h[t])t=u*2+1;//åˆ¤æ–­å³å„¿å­å’Œå¤§å°\n    //æœ€åtå­˜çš„å°±æ˜¯æ ¹ï¼Œå·¦å³å„¿å­ä¸‰è€…ä¹‹ä¸­æœ€å°çš„å€¼ä¸‹æ ‡\n    if(u!=t)//ä¸ç­‰ï¼Œè¯´æ˜æœ‰å¯èƒ½è¿˜è¦ç»§ç»­é€’å½’è¿›è¡Œå¯¹æ¯”\n    &#123;\n        swap(h[u],h[t]);\n        small_down(t);//é€’å½’å‘ä¸‹ç»§ç»­å¼„\n        æ³¨æ„è¿™é‡Œå‘ä¸‹çš„è¿˜æ˜¯t\n    &#125;\n&#125;\nint main()\n&#123;\n\n    cin&gt;&gt;size;\n    for(int i=1;i&lt;=size;i++)//äºŒå‰æ ‘çš„è¯»å…¥èŒƒå›´\n    &#123;\n        cin&gt;&gt;h[i];\n    &#125;\n    for (int i = size / 2; i; i -- ) small_down(i);\n    for(int i=1;i&lt;=size;i++)cout&lt;&lt;h[i]&lt;&lt;&#39; &#39;;\n    cout&lt;&lt;endl;\n    for (int i = size / 2; i; i -- ) big_down(i);\n    for(int i=1;i&lt;=size;i++)cout&lt;&lt;h[i]&lt;&lt;&#39; &#39;;\n    cout&lt;&lt;endl;\n\n    return 0;\n&#125;\n\nå †æ’åºï¼ˆæ•´ä½“ï¼‰#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nconst int N = 100010;\n\nint a[N];//ä¿å­˜æ•°ç»„\nint n, m;//nä¸ªç‚¹ï¼Œæ±‚å‰må°\nint r ;//å †çš„å³è¾¹ç•Œ\nvoid down(int u)//è°ƒæ•´å‡½æ•°\n&#123;\n    //tè®°å½•æœ€å°ç‚¹çš„ç¼–å·\n    int t = u;\n\næ˜“é”™éƒ¨åˆ†ï¼šè¿™é‡Œå‰é¢éƒ½æ˜¯uæœ€åå¯¹æ¯”æ˜¯tï¼Œä¿®æ”¹å¤§å°ä¹Ÿæ˜¯ä¿®æ”¹u\n    if(2 * u &lt;= r &amp;&amp; a[2 * u] &lt; a[t]) t = 2 * u;\n\n    if(2 * u + 1 &lt;= r &amp;&amp; a[2 * u + 1] &lt; a[t]) t = 2 * u + 1;\n\n    //å¦‚æœå¾…è°ƒæ•´ç‚¹ä¸æ˜¯æœ€å°çš„\n    if(u != t)\n    &#123;\n        //å’Œæœ€å°çš„äº¤æ¢\n        swap(a[u], a[t]);\n\n        //é€’å½’å¤„ç†\n        down(t);\n    &#125;\n&#125;\n\n\nå› ä¸ºå †æ˜¯ä¸€æ£µäºŒå‰æ ‘æ„å»ºèµ·æ¥çš„ï¼Œå› æ­¤æ˜¯ä»1\nint main()\n&#123;\n    cin &gt;&gt; n &gt;&gt; m;\n    r = n;//å¼€å§‹æ—¶ï¼Œå³è¾¹ç•Œæ˜¯æ•°ç»„è¾¹ç•Œ\n\n    //è¯»å…¥æ•°æ®\n    for (int i = 1; i &lt;= n; i ++ )\n    &#123;\n        int x;\n        cin &gt;&gt; a[i];\n    &#125;\n\n    //ä»ç¬¬ä¸€ä¸ªéå¶èŠ‚ç‚¹å¼€å§‹ï¼Œä»å³åˆ°å·¦ï¼Œä»ä¸‹åˆ°ä¸Šå¤„ç†æ¯ä¸ªèŠ‚ç‚¹\n   for(int i = n /2 ; i ; i--)//åˆ›å»ºå°æ ¹å †\n   &#123;\n       //æ³¨æ„é—®é¢˜åœ¨äºå®ƒå°å¾—æ²¡æœ‰è§„å¾‹\n       down(i);//å› ä¸ºå¶å­èŠ‚ç‚¹æ²¡åŠæ³•ç»§ç»­å‘ä¸‹äº†ï¼Œå› æ­¤ä»å¶å­å‘ä¸Šä¸€å±‚å¼€å§‹æ“ä½œ\n   &#125;\n\n    //è¾“å‡ºmä¸ªæœ€å°å€¼\n    while (m -- )\n    &#123;\n        //å †é¡¶ä¿å­˜çš„æœ€å°å€¼ï¼Œè¾“å‡ºå †é¡¶\n        cout &lt;&lt; a[1] &lt;&lt; &quot; &quot;;\n\n        //å°†å †é¡¶å’Œå³è¾¹ç•Œäº¤æ¢\n        swap(a[1], a[r]);\n\n        //å³è¾¹ç•Œå·¦ç§»\n        r--;\n\n        //ä»æ–°å¤„ç†å †é¡¶\n        down(1);\n    &#125;\n&#125;\n\nå“ˆå¤«æ›¼æ ‘ä¸‹é¢è¿™ä¸ªå…³äºç¼–ç çš„ï¼Œå¾ˆé‡è¦\n(108æ¡æ¶ˆæ¯) ã€æ•°æ®ç»“æ„â€”â€”å“ˆå¤«æ›¼æ ‘åŠå…¶åº”ç”¨ã€‘_FEI..çš„åšå®¢-CSDNåšå®¢_å“ˆå¤«æ›¼æ ‘çš„parentæ€ä¹ˆæ±‚\nå“ˆå¤«æ›¼ç¼–ç :å­—æ¯æ ¸å¿ƒï¼šæ— å‰ç¼€ç¼–ç ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä»£è¡¨ç¼–ç ï¼Œåªè¦å­—æ¯åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¯¹åº”ç¼–ç å°±æ˜¯æ— å‰ç¼€\nè´ªå¿ƒç®—æ³•\nä»åº•å‘ä¸Šå»ºç«‹ä¸€æ£µæ— å‰ç¼€ç¼–ç æ ‘\né¢‘æ¬¡ä½çš„æ ‘åœ¨æœ€ä¸‹é¢\n\nè‡ªå·±å†™çš„ä»£ç (è¾“å…¥å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å¹¶è¾“å‡º)ï¼š#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstring&gt;\nusing namespace std;\ntypedef struct\n&#123;\n    int weight;//ç»“ç‚¹çš„æƒå€¼\n    int parent, lchild, rchild;//åŒäº²ã€å·¦å­©å­ã€å³å­©å­çš„ä¸‹æ ‡\n&#125;HTnode,*HuffmanTree;\nvoid Select(HuffmanTree&amp; HT,int &amp;s1,int &amp;s2,int n)\n&#123;\n    s2=1,s1=2;//ä¸¤ä¸ªè¿‡å¤§çš„æ•°è¿›è¡Œæ¯”å¯¹\n    for (int i = 1;i &lt;= n;++s1)//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾\n    &#123;\n        if(HT[s1].parent==0&amp;&amp;HT[s2].parent==0)//å½“\n        &#123;\n            break;\n        &#125;\n        if(HT[s1].parent==0)//å½“\n        &#123;\n            s2=s1;\n        &#125;\n        if(s2==s1)++s1;\n    &#125;\n    for (int i = 1;i &lt;= n;++i)//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾\n    &#123;\n        if(HT[i].weight&lt;=HT[s1].weight&amp;&amp;HT[i].parent==0)//å½“\n        &#123;\n            s1=i;//è¿ç€æ›´æ–°ä¸¤æ¬¡ï¼Œs1æ˜¯æœ€å°çš„ï¼Œs2æ˜¯æ¬¡å°çš„\n        &#125;\n    &#125;\n    for (int i = 1;i &lt;= n;++i)//åœ¨1åˆ°nä¹‹é—´çš„ç‚¹è¿›è¡Œå¯»æ‰¾\n    &#123;\n        if(HT[i].weight&lt;=HT[s2].weight&amp;&amp;HT[i].parent==0&amp;&amp;i!=s1)//å½“\n        &#123;\n            s2=i;\n        &#125;\n    &#125;\n&#125;\nvoid CreateHuffmanTree(HuffmanTree&amp; HT, int n,int word[])//æ„é€ å“ˆå¤«æ›¼æ ‘ï¼Œnä¸ºå¸¦æƒå€¼çš„å¶å­ç»“ç‚¹ä¸ªæ•°\n&#123;\n    //ä½¿ç”¨äº†ä»¥è·å–çš„wordæ•°ç»„å­˜å–å·²æœ‰çš„æ•°é‡\n    /*åˆå§‹åŒ–*/\n    int s1,s2;\n    if (n &lt;= 1)\n        return;\n    int m = 2 * n - 1;//mä¸ºå“ˆå¤«æ›¼æ ‘ä¸­æ€»ç»“ç‚¹çš„ä¸ªæ•°\n    HT = new HTnode[m + 1];//0å·å•å…ƒæœªç”¨ï¼Œæ‰€ä»¥éœ€è¦å¼€è¾Ÿm+1ä¸ªå•å…ƒï¼ŒHT[m]è¡¨ç¤ºæ ¹ç»“ç‚¹\n    for (int i = 1;i &lt;= m;++i)//å°†1-må·å•å…ƒçš„åŒäº²ï¼Œå·¦å³å­©å­çš„ä¸‹æ ‡éƒ½åˆå§‹åŒ–ä¸º0\n    &#123;\n        HT[i].parent = 0;\n        HT[i].lchild = 0;\n        HT[i].rchild = 0;\n    &#125;\n    int word_select=0;\n    for (int i = 1;i &lt;= n;++i)\n    &#123;\n        for(;word[word_select]==0;word_select++);\n//        cout&lt;&lt;(char)word_select &lt;&lt;&quot; word=&quot;&lt;&lt;word[word_select]&lt;&lt;endl;\n        HT[i].weight=word[word_select];//è¾“å…¥å‰nä¸ªå•å…ƒä¸­å¶å­ç»“ç‚¹çš„æƒå€¼\n//        cout&lt;&lt;i&lt;&lt;&quot;ä¸ªå•å…ƒå¶å­èŠ‚ç‚¹çš„æƒå€¼ï¼š &quot;&lt;&lt;HT[i].weight&lt;&lt;endl;\n//è¿™ä¸€å¥æ˜¯è¾“å…¥æµ‹è¯•ï¼Œokäº†\n        word_select++;//åˆ°ä¸‹ä¸€ä¸ªé˜²æ­¢è¿ç»­æ\n    &#125;//åˆ°è¿™ä¸€æ­¥éƒ½æ²¡é—®é¢˜ï¼Œå¶å­èŠ‚ç‚¹æƒå€¼éƒ½å½•å…¥äº†\n    /*åˆå§‹åŒ–å·¥ä½œç»“æŸï¼Œä¸‹é¢å¼€å§‹åˆ›å»ºå“ˆå¤«æ›¼æ ‘*/\n//    cout&lt;&lt;&quot;n=:&quot;&lt;&lt;n&lt;&lt;endl;\n    for (int i = n + 1;i &lt;= m;++i)\n    &#123;//é€šè¿‡n-1æ¬¡çš„é€‰æ‹©ã€åˆ é™¤ã€åˆå¹¶æ¥åˆ›å»ºå“ˆå¤«æ›¼æ ‘\n        Select(HT,  s1, s2,n);//é€‰æ‹©ä¸¤ä¸ªå…¶åŒäº²åŸŸä¸º0ä¸”æƒå€¼æœ€å°çš„ç»“ç‚¹\n//        cout&lt;&lt;i-15&lt;&lt;&quot;æ¬¡æ“ä½œä¹‹å &quot; &lt;&lt;&quot;s1 now=&quot;&lt;&lt;s1&lt;&lt;&quot; HT[s1].weight=&quot;&lt;&lt;HT[s1].weight;\n//        cout&lt;&lt;&quot;  s2 now =&quot;&lt;&lt;s2&lt;&lt;&quot; HT[s2].weight=&quot;&lt;&lt;HT[s2].weight&lt;&lt;endl;\n        HT[s1].parent = i;HT[s2].parent = i;//å¾—åˆ°æ–°ç»“ç‚¹i,å°†s1\\s2çš„åŒäº²åŸŸç”±0æ”¹ä¸ºi\n        HT[i].lchild = s1;HT[i].rchild = s2;//s1ã€s2åˆ†åˆ«ä½œä¸ºiçš„å·¦å³å­©å­\n        HT[i].weight = HT[s1].weight + HT[s2].weight;//içš„æƒå€¼ä¸ºå·¦å³å­©å­çš„æƒå€¼ä¹‹å’Œ\n//        cout&lt;&lt;&quot;  HT now =&quot;&lt;&lt;i&lt;&lt;&quot; HT[i].weight=&quot;&lt;&lt;HT[i].weight&lt;&lt;endl;\n    &#125;\n&#125;\ntypedef char** HuffmanCode;\n////åŠ¨æ€åˆ†é…æ•°ç»„å­˜å‚¨å“ˆå¤«æ›¼ç¼–ç è¡¨\nvoid CreatHuffmanCode(HuffmanTree HT, HuffmanCode&amp; HC, int n)//å®Œå…¨æ²¡æœ‰å¼€å§‹å†™çš„\n&#123;//ä»å¶å­åˆ°æ ¹é€†å‘æ±‚æ¯ä¸ªå­—ç¬¦çš„å“ˆå¤«æ›¼ç¼–ç ï¼Œå‚¨å­˜åœ¨ç¼–ç è¡¨HCä¸­\n    HC = new char* [n + 1];//åˆ†é…nä¸ªå­—ç¬¦ç¼–ç çš„å¤´æŒ‡é’ˆçŸ¢é‡\n     char *cd = new char[n];//åˆ†é…ä¸´æ—¶å­˜æ”¾ç¼–ç çš„åŠ¨æ€æ•°ç»„ç©ºé—´\n     int start;\n     int c;\n     int f;\n    cd[n - 1] = &#39;\\0&#39;;//ç¼–ç ç»“æŸç¬¦\n    for (int i = 1;i &lt;= n;++i)//é€ä¸ªå­—ç¬¦æ±‚å“ˆå¤«æ›¼ç¼–ç \n    &#123;\n        start = n - 1;//startå¼€å§‹æ—¶æŒ‡å‘æœ€åï¼Œå³ç¼–ç ç»“æŸç¬¦çš„ä½ç½®\n        c = i;f = HT[i].parent;//fæŒ‡å‘ç»“ç‚¹cçš„åŒäº²ç»“ç‚¹\n        while (f != 0)//ä»å¶å­ç»“ç‚¹å¼€å§‹å‘ä¸Šå›æº¯ï¼Œç›´åˆ°æ ¹ç»“ç‚¹\n        &#123;\n            --start;//å›æº¯ä¸€æ¬¡ï¼Œstartå‘å‰æŒ‡ä¸€ä¸ªä½ç½®\n            if (HT[f].lchild == c)\n                cd[start] = &#39;0&#39;;//ç»“ç‚¹cæ˜¯fçš„å·¦å­©å­ï¼Œåˆ™ç”Ÿæˆä»£ç 0\n            else\n                cd[start] = &#39;1&#39;;//ç»“ç‚¹cæ˜¯fçš„å³å­©å­ï¼Œåˆ™ç”Ÿæˆä»£ç 1\n            c = f;f = HT[f].parent;//ç»§ç»­å‘ä¸Šå›æº¯\n        &#125;//æ±‚å‡ºç¬¬iä¸ªå­—ç¬¦çš„ç¼–ç \n        HC[i] = new char[n - start];//ä¸ºæ•Œiä¸ªå­—ç¬¦ç¼–ç åˆ†é…ç©ºé—´\n        strcpy(HC[i], &amp;cd[start]);//å°†æ±‚å¾—çš„ç¼–ç ä»ä¸´æ—¶ç©ºé—´cdå¤åˆ¶åˆ°HCå½“å‰è¡Œä¸­\n    &#125;\n    delete cd;//é‡Šæ”¾ä¸´æ—¶ç©ºé—´\n&#125;\nchar out[128]=&#123;&#39;\\0&#39;&#125;;\nint word[128]=&#123;0&#125;;//ä½œä¸ºå­—æ¯\nint main() &#123;\n    string ans=&quot;&quot;;\n    string temp;\n    while (getline(cin, temp)) &#123;\n        if (temp == &quot;0&quot;) &#123;\n            break;\n        &#125;\n        ans+=temp;\n    &#125;//è¯»å…¥é˜¶æ®µ\n    int length=ans.size();\n    for(int i=0;i&lt;length;i++)\n    &#123;\n        int idx=(int)(ans[i]);\n        word[idx]++;\n    &#125;\n    int node_num=0;\n    for(int i=1;i&lt;=128;i++)\n    &#123;\n        if(word[i]!=0)\n        &#123;\n            ++node_num;\n            out[node_num]=(char)i;\n//            cout &lt;&lt;(char)i &lt;&lt; &quot;: &quot;&lt;&lt; word[i] &lt;&lt; endl;\n            //è¿™é‡Œè·å¾—äº†å¯¹åº”çš„ç¼–ç \n        &#125;\n    &#125;\n    HuffmanTree HT;\n    CreateHuffmanTree(HT,node_num,word);\n    HuffmanCode HC;\n    CreatHuffmanCode(HT,HC,node_num);\n    for(int i=1;i&lt;=node_num;i++)\n    &#123;\n        cout&lt;&lt;out[i]&lt;&lt;&quot;:&quot;&lt;&lt;HC[i]&lt;&lt;endl;\n    &#125;\n    return 0;\n&#125;\n\nä»£ç ï¼š\n// C++ program for Huffman Coding\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\n// This constant can be avoided by explicitly\n// calculating height of Huffman Tree\n#define MAX_TREE_HT 100\n\n// A Huffman tree node\nstruct MinHeapNode &#123;\n\n    // One of the input characters\n    char data;\n\n    // Frequency of the character\n    unsigned freq;\n\n    // Left and right child of this node\n    struct MinHeapNode *left, *right;\n&#125;;\n\n// A Min Heap: Collection of\n// min-heap (or Huffman tree) nodes\nstruct MinHeap &#123;\n\n    // Current size of min heap\n    unsigned size;\n\n    // capacity of min heap\n    unsigned capacity;\n\n    // Array of minheap node pointers\n    struct MinHeapNode** array;\n&#125;;\n\n// A utility function allocate a new\n// min heap node with given character\n// and frequency of the character\nstruct MinHeapNode* newNode(char data, unsigned freq)\n&#123;\n    struct MinHeapNode* temp\n        = (struct MinHeapNode*)malloc\n(sizeof(struct MinHeapNode));\n\n    temp-&gt;left = temp-&gt;right = NULL;\n    temp-&gt;data = data;\n    temp-&gt;freq = freq;\n\n    return temp;\n&#125;\n\n// A utility function to create\n// a min heap of given capacity\nstruct MinHeap* createMinHeap(unsigned capacity)\n\n&#123;\n\n    struct MinHeap* minHeap\n        = (struct MinHeap*)malloc(sizeof(struct MinHeap));\n\n    // current size is 0\n    minHeap-&gt;size = 0;\n\n    minHeap-&gt;capacity = capacity;\n\n    minHeap-&gt;array\n        = (struct MinHeapNode**)malloc(minHeap-&gt;\ncapacity * sizeof(struct MinHeapNode*));\n    return minHeap;\n&#125;\n\n// A utility function to\n// swap two min heap nodes\nvoid swapMinHeapNode(struct MinHeapNode** a,\n                    struct MinHeapNode** b)\n\n&#123;\n\n    struct MinHeapNode* t = *a;\n    *a = *b;\n    *b = t;\n&#125;\n\n// The standard minHeapify function.\nvoid minHeapify(struct MinHeap* minHeap, int idx)\n\n&#123;\n\n    int smallest = idx;\n    int left = 2 * idx + 1;\n    int right = 2 * idx + 2;\n\n    if (left &lt; minHeap-&gt;size &amp;&amp; minHeap-&gt;array[left]-&gt;\nfreq &lt; minHeap-&gt;array[smallest]-&gt;freq)\n        smallest = left;\n\n    if (right &lt; minHeap-&gt;size &amp;&amp; minHeap-&gt;array[right]-&gt;\nfreq &lt; minHeap-&gt;array[smallest]-&gt;freq)\n        smallest = right;\n\n    if (smallest != idx) &#123;\n        swapMinHeapNode(&amp;minHeap-&gt;array[smallest],\n                        &amp;minHeap-&gt;array[idx]);\n        minHeapify(minHeap, smallest);\n    &#125;\n&#125;\n\n// A utility function to check\n// if size of heap is 1 or not\nint isSizeOne(struct MinHeap* minHeap)\n&#123;\n\n    return (minHeap-&gt;size == 1);\n&#125;\n\n// A standard function to extract\n// minimum value node from heap\nstruct MinHeapNode* extractMin(struct MinHeap* minHeap)\n\n&#123;\n\n    struct MinHeapNode* temp = minHeap-&gt;array[0];\n    minHeap-&gt;array[0]\n        = minHeap-&gt;array[minHeap-&gt;size - 1];\n\n    --minHeap-&gt;size;\n    minHeapify(minHeap, 0);\n\n    return temp;\n&#125;\n\n// A utility function to insert\n// a new node to Min Heap\nvoid insertMinHeap(struct MinHeap* minHeap,\n                struct MinHeapNode* minHeapNode)\n\n&#123;\n\n    ++minHeap-&gt;size;\n    int i = minHeap-&gt;size - 1;\n\n    while (i &amp;&amp; minHeapNode-&gt;freq &lt; minHeap-&gt;array[(i - 1) / 2]-&gt;freq) &#123;\n\n        minHeap-&gt;array[i] = minHeap-&gt;array[(i - 1) / 2];\n        i = (i - 1) / 2;\n    &#125;\n\n    minHeap-&gt;array[i] = minHeapNode;\n&#125;\n\n// A standard function to build min heap\nvoid buildMinHeap(struct MinHeap* minHeap)\n\n&#123;\n\n    int n = minHeap-&gt;size - 1;\n    int i;\n\n    for (i = (n - 1) / 2; i &gt;= 0; --i)\n        minHeapify(minHeap, i);\n&#125;\n\n// A utility function to print an array of size n\nvoid printArr(int arr[], int n)\n&#123;\n    int i;\n    for (i = 0; i &lt; n; ++i)\n        cout&lt;&lt; arr[i];\n\n    cout&lt;&lt;&quot;\\n&quot;;\n&#125;\n\n// Utility function to check if this node is leaf\nint isLeaf(struct MinHeapNode* root)\n\n&#123;\n\n    return !(root-&gt;left) &amp;&amp; !(root-&gt;right);\n&#125;\n\n// Creates a min heap of capacity\n// equal to size and inserts all character of\n// data[] in min heap. Initially size of\n// min heap is equal to capacity\nstruct MinHeap* createAndBuildMinHeap(char data[], int freq[], int size)\n\n&#123;\n\n    struct MinHeap* minHeap = createMinHeap(size);\n\n    for (int i = 0; i &lt; size; ++i)\n        minHeap-&gt;array[i] = newNode(data[i], freq[i]);\n\n    minHeap-&gt;size = size;\n    buildMinHeap(minHeap);\n\n    return minHeap;\n&#125;\n\n// The main function that builds Huffman tree\nstruct MinHeapNode* buildHuffmanTree(char data[], int freq[], int size)\n\n&#123;\n    struct MinHeapNode *left, *right, *top;\n\n    // Step 1: Create a min heap of capacity\n    // equal to size. Initially, there are\n    // modes equal to size.\n    struct MinHeap* minHeap = createAndBuildMinHeap(data, freq, size);\n\n    // Iterate while size of heap doesn&#39;t become 1\n    while (!isSizeOne(minHeap)) &#123;\n\n        // Step 2: Extract the two minimum\n        // freq items from min heap\n        left = extractMin(minHeap);\n        right = extractMin(minHeap);\n\n        // Step 3: Create a new internal\n        // node with frequency equal to the\n        // sum of the two nodes frequencies.\n        // Make the two extracted node as\n        // left and right children of this new node.\n        // Add this node to the min heap\n        // &#39;$&#39; is a special value for internal nodes, not used\n        top = newNode(&#39;$&#39;, left-&gt;freq + right-&gt;freq);\n\n        top-&gt;left = left;\n        top-&gt;right = right;\n\n        insertMinHeap(minHeap, top);\n    &#125;\n\n    // Step 4: The remaining node is the\n    // root node and the tree is complete.\n    return extractMin(minHeap);\n&#125;\n\n// Prints huffman codes from the root of Huffman Tree.\n// It uses arr[] to store codes\nvoid printCodes(struct MinHeapNode* root, int arr[], int top)\n\n&#123;\n\n    // Assign 0 to left edge and recur\n    if (root-&gt;left) &#123;\n\n        arr[top] = 0;\n        printCodes(root-&gt;left, arr, top + 1);\n    &#125;\n\n    // Assign 1 to right edge and recur\n    if (root-&gt;right) &#123;\n\n        arr[top] = 1;\n        printCodes(root-&gt;right, arr, top + 1);\n    &#125;\n\n    // If this is a leaf node, then\n    // it contains one of the input\n    // characters, print the character\n    // and its code from arr[]\n    if (isLeaf(root)) &#123;\n\n        cout&lt;&lt; root-&gt;data &lt;&lt;&quot;: &quot;;\n        printArr(arr, top);\n    &#125;\n&#125;\n\n// The main function that builds a\n// Huffman Tree and print codes by traversing\n// the built Huffman Tree\nvoid HuffmanCodes(char data[], int freq[], int size)\n\n&#123;\n    // Construct Huffman Tree\n    struct MinHeapNode* root\n        = buildHuffmanTree(data, freq, size);\n\n    // Print Huffman codes using\n    // the Huffman tree built above\n    int arr[MAX_TREE_HT], top = 0;\n\n    printCodes(root, arr, top);\n&#125;\n\n// Driver code\nint main()\n&#123;\n\n    char arr[] = &#123; &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; &#125;;\n    int freq[] = &#123; 5, 9, 12, 13, 16, 45 &#125;;\n\n    int size = sizeof(arr) / sizeof(arr[0]);\n\n    HuffmanCodes(arr, freq, size);\n\n    return 0;\n&#125;\n/*\nç»“æœè¾“å‡ºï¼š\nf: 0\nc: 100\nd: 101\na: 1100\nb: 1101\ne: 111\n*/\n\nAVLæ ‘å¹³è¡¡äºŒå‰æ ‘ï¼š\n(110æ¡æ¶ˆæ¯) AVLæ ‘çš„è¯¦ç»†å®ç°(C++)_code_peakçš„åšå®¢-CSDNåšå®¢_c++å®ç°avlæ ‘\navlæ ‘çš„å„ç§å»¶ç”³åº”ç”¨ï¼šä¼¸å±•æ ‘ï¼ŒBæ ‘ï¼Œå­—å…¸æ ‘\n","tags":["å­¦ä¹ ç¬”è®°"]}]